/*! For license information please see renderer.js.LICENSE.txt */
(()=>{var __webpack_modules__={20:(e,t,n)=>{"use strict";var r=n(540),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,r)&&!o.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},251:(e,t)=>{t.read=function(e,t,n,r,s){var i,a,l=8*s-r-1,o=(1<<l)-1,c=o>>1,d=-7,u=n?s-1:0,h=n?-1:1,f=e[t+u];for(u+=h,i=f&(1<<-d)-1,f>>=-d,d+=l;d>0;i=256*i+e[t+u],u+=h,d-=8);for(a=i&(1<<-d)-1,i>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=h,d-=8);if(0===i)i=1-c;else{if(i===o)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=c}return(f?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,s,i){var a,l,o,c=8*i-s-1,d=(1<<c)-1,u=d>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,g=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-a))<1&&(a--,o*=2),(t+=a+u>=1?h/o:h*Math.pow(2,1-u))*o>=2&&(a++,o/=2),a+u>=d?(l=0,a=d):a+u>=1?(l=(t*o-1)*Math.pow(2,s),a+=u):(l=t*Math.pow(2,u-1)*Math.pow(2,s),a=0));s>=8;e[n+f]=255&l,f+=g,l/=256,s-=8);for(a=a<<s|l,c+=s;c>0;e[n+f]=255&a,f+=g,a/=256,c-=8);e[n+f-g]|=128*p}},287:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var s,i={},a=null,l=null;if(null!=t)for(s in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,s)&&!k.hasOwnProperty(s)&&(i[s]=t[s]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===i[s]&&(i[s]=o[s]);return{$$typeof:n,type:e,key:a,ref:l,props:i,_owner:_.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,s,i,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return a=a(o=e),e=""===i?"."+A(o,0):i,w(a)?(s="",null!=e&&(s=e.replace(N,"$&/")+"/"),j(a,t,s,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(o=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+A(l=e[c],c);o+=j(l,t,s,d,a)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=j(l=l.value,t,s,d=i+A(l,c++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function D(e,t,n){if(null==e)return e;var r=[],s=0;return j(e,r,"","",function(e){return t.call(n,e,s++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:_};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=y,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=P,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),i=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},463:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var l=2*(r+1)-1,o=e[l],c=l+1,d=e[c];if(0>i(o,n))c<s&&0>i(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<s&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,f=3,g=!1,p=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(m=!1,x(e),!p)if(null!==r(c))p=!0,M(S);else{var t=r(d);null!==t&&I(w,t.startTime-e)}}function S(e,n){p=!1,m&&(m=!1,b(C),C=-1),g=!0;var i=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"==typeof a){h.callback=null,f=h.priorityLevel;var l=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?h.callback=l:h===r(c)&&s(c),x(n)}else s(c);h=r(c)}if(null!==h)var o=!0;else{var u=r(d);null!==u&&I(w,u.startTime-n),o=!1}return o}finally{h=null,f=i,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,E=null,C=-1,N=5,A=-1;function j(){return!(t.unstable_now()-A<N)}function D(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?_():(k=!1,E=null)}}else k=!1}if("function"==typeof y)_=function(){y(D)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=D,_=function(){R.postMessage(null)}}else _=function(){v(D,0)};function M(e){E=e,k||(k=!0,_())}function I(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(m?(b(C),C=-1):m=!0,I(w,i-a))):(e.sortIndex=l,n(c,e),p||g||(p=!0,M(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},526:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],o=i[1],c=new s(function(e,t,n){return 3*(t+n)/4-n}(0,a,o)),d=0,u=o>0?a-4:a;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[d++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,s=r%3,i=[],a=16383,l=0,o=r-s;l<o;l+=a)i.push(c(e,l,l+a>o?o:l+a));return 1===s?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===s&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),s.push(o(r));return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},540:(e,t,n)=>{"use strict";e.exports=n(287)},551:(e,t,n)=>{"use strict";var r=n(540),s=n(982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function p(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var s=m.hasOwnProperty(t)?m[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(g,e)||!u.call(f,e)&&(h.test(e)?g[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);m[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,L=Object.assign;function z(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var B=!1;function H(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(1!==a||1!==l)do{if(a--,0>--l||s[a]!==i[l]){var o="\n"+s[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=a&&0<=l);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function F(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 1:return H(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case E:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){K(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ee(e){if(e=ys(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),Se(e.stateNode,e.type,t))}}function Ce(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Ne(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function je(){}var De=!1;function Te(e,t,n){if(De)return e(t,n);De=!0;try{return Ae(e,t,n)}finally{De=!1,(null!==_e||null!==ke)&&(je(),Ne())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Me=!1}function Pe(e,t,n,r,s,i,a,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Oe=!1,Le=null,ze=!1,Be=null,He={onError:function(e){Oe=!0,Le=e}};function Fe(e,t,n,r,s,i,a,l,o){Oe=!1,Le=null,Pe.apply(He,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ve(s),e;if(a===r)return Ve(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=a;break}if(o===r){l=!0,r=s,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=s;break}if(o===r){l=!0,r=a,n=s;break}o=o.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var $e=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Ze=s.unstable_requestPaint,Ke=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2,ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~s;0!==l?r=ut(l):0!==(i&=a)&&(r=ut(i))}else 0!==(a=n&~s)?r=ut(a):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,St,_t,kt,Et,Ct=!1,Nt=[],At=null,jt=null,Dt=null,Tt=new Map,Rt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&null!==(t=ys(t))&&St(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=bs(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Ht(){Ct=!1,null!==At&&zt(At)&&(At=null),null!==jt&&zt(jt)&&(jt=null),null!==Dt&&zt(Dt)&&(Dt=null),Tt.forEach(Bt),Rt.forEach(Bt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ht)))}function Ut(e){function t(t){return Ft(t,e)}if(0<Nt.length){Ft(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Ft(At,e),null!==jt&&Ft(jt,e),null!==Dt&&Ft(Dt,e),Tt.forEach(t),Rt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Wt=x.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var s=yt,i=Wt.transition;Wt.transition=null;try{yt=1,$t(e,t,n,r)}finally{yt=s,Wt.transition=i}}function Gt(e,t,n,r){var s=yt,i=Wt.transition;Wt.transition=null;try{yt=4,$t(e,t,n,r)}finally{yt=s,Wt.transition=i}}function $t(e,t,n,r){if(Vt){var s=Yt(e,t,n,r);if(null===s)Vr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return At=Ot(At,e,t,n,r,s),!0;case"dragenter":return jt=Ot(jt,e,t,n,r,s),!0;case"mouseover":return Dt=Ot(Dt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tt.set(i,Ot(Tt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rt.set(i,Ot(Rt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==s;){var i=ys(s);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Vr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=bs(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,s="value"in Kt?Kt.value:Kt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=L({},cn,{view:0,detail:0}),hn=sn(un),fn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(fn),pn=sn(L({},fn,{dataTransfer:0})),mn=sn(L({},un,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(bn),xn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return kn}var Cn=L({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),An=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Tn),Mn=[9,13,27,32],In=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var On=d&&"TextEvent"in window&&!Pn,Ln=d&&(!In||Pn&&8<Pn&&11>=Pn),zn=String.fromCharCode(32),Bn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,$n=null;function Qn(e){zr(e,0)}function Yn(e){if($(xs(e)))return e}function Zn(e,t){if("change"===e)return t}var Kn=!1;if(d){var Xn;if(d){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Xn=Jn}else Xn=!1;Kn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),$n=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn($n)){var t=[];qn(t,$n,e,we(e)),Te(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function or(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=dr(n,i);var a=dr(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=d&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,br=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Q(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&or(br,r)||(br=r,0<(r=Gr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},kr={};function Er(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=Er("animationend"),Nr=Er("animationiteration"),Ar=Er("animationstart"),jr=Er("transitionend"),Dr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Dr.set(e,t),o(t,[e])}for(var Mr=0;Mr<Tr.length;Mr++){var Ir=Tr[Mr];Rr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Nr,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,l,o,c){if(Fe.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var d=Le;Oe=!1,Le=null,ze||(ze=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==i&&s.isPropagationStopped())break e;Lr(s,l,c),i=o}else for(a=0;a<r.length;a++){if(o=(l=r[a]).instance,c=l.currentTarget,l=l.listener,o!==i&&s.isPropagationStopped())break e;Lr(s,l,c),i=o}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Hr(t,!1,e),Hr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Hr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Zt(t)){case 1:var s=qt;break;case 4:s=Gt;break;default:s=$t}n=s.bind(null,t,n,e),s=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,s){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===s||8===l.nodeType&&l.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var o=a.tag;if((3===o||4===o)&&((o=a.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;a=a.return}for(;null!==l;){if(null===(a=bs(l)))return;if(5===(o=a.tag)||6===o){r=i=a;continue e}l=l.parentNode}}r=r.return}Te(function(){var r=i,s=we(n),a=[];e:{var l=Dr.get(e);if(void 0!==l){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Nn;break;case"focusin":c="focus",o=mn;break;case"focusout":c="blur",o=mn;break;case"beforeblur":case"afterblur":o=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=jn;break;case Cr:case Nr:case Ar:o=vn;break;case jr:o=Dn;break;case"scroll":o=hn;break;case"wheel":o=Rn;break;case"copy":case"cut":case"paste":o=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=An}var d=!!(4&t),u=!d&&"scroll"===e,h=d?null!==l?l+"Capture":null:l;d=[];for(var f,g=r;null!==g;){var p=(f=g).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&null!=(p=Re(g,h))&&d.push(qr(g,p,f))),u)break;g=g.return}0<d.length&&(l=new o(l,c,null,n,s),a.push({event:l,listeners:d}))}}if(!(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bs(c)&&!c[gs])&&(o||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?bs(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=gn,p="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,p="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==o?l:xs(o),f=null==c?l:xs(c),(l=new d(p,g+"leave",o,n,s)).target=u,l.relatedTarget=f,p=null,bs(s)===r&&((d=new d(h,g+"enter",c,n,s)).target=f,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(h=c,g=0,f=d=o;f;f=$r(f))g++;for(f=0,p=h;p;p=$r(p))f++;for(;0<g-f;)d=$r(d),g--;for(;0<f-g;)h=$r(h),f--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=$r(d),h=$r(h)}d=null}else d=null;null!==o&&Qr(a,l,o,d,!1),null!==c&&null!==u&&Qr(a,u,c,d,!0)}if("select"===(o=(l=r?xs(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var m=Zn;else if(Vn(l))if(Kn)m=ar;else{m=sr;var v=rr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=ir);switch(m&&(m=m(e,r))?qn(a,m,n,s):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=r?xs(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,br=null);break;case"focusout":br=vr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(a,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(a,n,s)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Hn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=en()):(Xt="value"in(Kt=s)?Kt.value:Kt.textContent,Un=!0)),0<(v=Gr(r,y)).length&&(y=new xn(y,e,null,n,s),a.push({event:y,listeners:v}),(b||null!==(b=Fn(n)))&&(y.data=b))),(b=On?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Hn(e,t)?(e=en(),Jt=Xt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Gr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=b)}zr(a,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Re(e,n))&&r.unshift(qr(e,i,s)),null!=(i=Re(e,t))&&r.push(qr(e,i,s))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,s?null!=(o=Re(n,i))&&a.unshift(qr(n,o,l)):s||null!=(o=Re(n,i))&&a.push(qr(n,o,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Kr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Zr,"")}function Xr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(i(425))}function Jr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"==typeof setTimeout?setTimeout:void 0,ss="function"==typeof clearTimeout?clearTimeout:void 0,is="function"==typeof Promise?Promise:void 0,as="function"==typeof queueMicrotask?queueMicrotask:void 0!==is?function(e){return is.resolve(null).then(e).catch(ls)}:rs;function ls(e){setTimeout(function(){throw e})}function os(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,fs="__reactProps$"+us,gs="__reactContainer$"+us,ps="__reactEvents$"+us,ms="__reactListeners$"+us,vs="__reactHandles$"+us;function bs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[hs]||e[gs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[fs]||null}var Ss=[],_s=-1;function ks(e){return{current:e}}function Es(e){0>_s||(e.current=Ss[_s],Ss[_s]=null,_s--)}function Cs(e,t){_s++,Ss[_s]=e.current,e.current=t}var Ns={},As=ks(Ns),js=ks(!1),Ds=Ns;function Ts(e,t){var n=e.type.contextTypes;if(!n)return Ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(e){return null!=e.childContextTypes}function Ms(){Es(js),Es(As)}function Is(e,t,n){if(As.current!==Ns)throw Error(i(168));Cs(As,t),Cs(js,n)}function Ps(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,W(e)||"Unknown",s));return L({},n,r)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,Ds=As.current,Cs(As,e),Cs(js,js.current),!0}function Ls(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ps(e,t,Ds),r.__reactInternalMemoizedMergedChildContext=e,Es(js),Es(As),Cs(As,e)):Es(js),Cs(js,n)}var zs=null,Bs=!1,Hs=!1;function Fs(e){null===zs?zs=[e]:zs.push(e)}function Us(){if(!Hs&&null!==zs){Hs=!0;var e=0,t=yt;try{var n=zs;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zs=null,Bs=!1}catch(t){throw null!==zs&&(zs=zs.slice(e+1)),$e(Je,Us),t}finally{yt=t,Hs=!1}}return null}var Ws=[],Vs=0,qs=null,Gs=0,$s=[],Qs=0,Ys=null,Zs=1,Ks="";function Xs(e,t){Ws[Vs++]=Gs,Ws[Vs++]=qs,qs=e,Gs=t}function Js(e,t,n){$s[Qs++]=Zs,$s[Qs++]=Ks,$s[Qs++]=Ys,Ys=e;var r=Zs;e=Ks;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Zs=1<<32-at(t)+s|n<<s|r,Ks=i+e}else Zs=1<<i|n<<s|r,Ks=e}function ei(e){null!==e.return&&(Xs(e,1),Js(e,1,0))}function ti(e){for(;e===qs;)qs=Ws[--Vs],Ws[Vs]=null,Gs=Ws[--Vs],Ws[Vs]=null;for(;e===Ys;)Ys=$s[--Qs],$s[Qs]=null,Ks=$s[--Qs],$s[Qs]=null,Zs=$s[--Qs],$s[Qs]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Zs,overflow:Ks}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function oi(e){return!(!(1&e.mode)||128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!li(e,t)){if(oi(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(oi(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!si)return di(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(oi(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function gi(e){null===ii?ii=[e]:ii.push(e)}var pi=x.ReactCurrentBatchConfig;function mi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===_?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===R&&bi(i)===t.type)?((r=s(t,n.props)).ref=mi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=mi(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=mi(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==s?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case S:return n.key===s?d(e,t,n,r):null;case R:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||P(n))return null!==s?null:u(e,t,n,r,null);vi(e,n)}return null}function g(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case S:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return g(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||P(r))return u(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}function p(s,i,l,o){for(var c=null,d=null,u=i,p=i=0,m=null;null!==u&&p<l.length;p++){u.index>p?(m=u,u=null):m=u.sibling;var v=f(s,u,l[p],o);if(null===v){null===u&&(u=m);break}e&&u&&null===v.alternate&&t(s,u),i=a(v,i,p),null===d?c=v:d.sibling=v,d=v,u=m}if(p===l.length)return n(s,u),si&&Xs(s,p),c;if(null===u){for(;p<l.length;p++)null!==(u=h(s,l[p],o))&&(i=a(u,i,p),null===d?c=u:d.sibling=u,d=u);return si&&Xs(s,p),c}for(u=r(s,u);p<l.length;p++)null!==(m=g(u,s,p,l[p],o))&&(e&&null!==m.alternate&&u.delete(null===m.key?p:m.key),i=a(m,i,p),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(s,e)}),si&&Xs(s,p),c}function m(s,l,o,c){var d=P(o);if("function"!=typeof d)throw Error(i(150));if(null==(o=d.call(o)))throw Error(i(151));for(var u=d=null,p=l,m=l=0,v=null,b=o.next();null!==p&&!b.done;m++,b=o.next()){p.index>m?(v=p,p=null):v=p.sibling;var y=f(s,p,b.value,c);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(s,p),l=a(y,l,m),null===u?d=y:u.sibling=y,u=y,p=v}if(b.done)return n(s,p),si&&Xs(s,m),d;if(null===p){for(;!b.done;m++,b=o.next())null!==(b=h(s,b.value,c))&&(l=a(b,l,m),null===u?d=b:u.sibling=b,u=b);return si&&Xs(s,m),d}for(p=r(s,p);!b.done;m++,b=o.next())null!==(b=g(p,s,m,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?m:b.key),l=a(b,l,m),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach(function(e){return t(s,e)}),si&&Xs(s,m),d}return function e(r,i,a,o){if("object"==typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=i;null!==d;){if(d.key===c){if((c=a.type)===_){if(7===d.tag){n(r,d.sibling),(i=s(d,a.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===R&&bi(c)===d.type){n(r,d.sibling),(i=s(d,a.props)).ref=mi(r,d,a),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}a.type===_?((i=Pc(a.props.children,r.mode,o,a.key)).return=r,r=i):((o=Ic(a.type,a.key,a.props,null,r.mode,o)).ref=mi(r,i,a),o.return=r,r=o)}return l(r);case S:e:{for(d=a.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zc(a,r.mode,o)).return=r,r=i}return l(r);case R:return e(r,i,(d=a._init)(a._payload),o)}if(te(a))return p(r,i,a,o);if(P(a))return m(r,i,a,o);vi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Lc(a,r.mode,o)).return=r,r=i),l(r)):n(r,i)}}var xi=yi(!0),wi=yi(!1),Si=ks(null),_i=null,ki=null,Ei=null;function Ci(){Ei=ki=_i=null}function Ni(e){var t=Si.current;Es(Si),e._currentValue=t}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){_i=e,Ei=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Di(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===_i)throw Error(i(308));ki=e,_i.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Ti=null;function Ri(e){null===Ti?Ti=[e]:Ti.push(e)}function Mi(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ri(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pi=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ao){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ii(e,n)}return null===(s=r.interleaved)?(t.next=t,Ri(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ii(e,n)}function Hi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Fi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var s=e.updateQueue;Pi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var o=l,c=o.next;o.next=null,null===a?i=c:a.next=c,a=o;var d=e.alternate;null!==d&&(l=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o)}if(null!==i){var u=s.baseState;for(a=0,d=c=o=null,l=i;;){var h=l.lane,f=l.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,f=n,p.tag){case 1:if("function"==typeof(g=p.payload)){u=g.call(f,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(h="function"==typeof(g=p.payload)?g.call(f,u,h):g))break e;u=L({},u,h);break e;case 2:Pi=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=f,o=u):d=d.next=f,a|=h;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(h=l).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Oo|=a,e.lanes=a,e.memoizedState=u}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!=typeof s)throw Error(i(191,s));s.call(r)}}}var Vi={},qi=ks(Vi),Gi=ks(Vi),$i=ks(Vi);function Qi(e){if(e===Vi)throw Error(i(174));return e}function Yi(e,t){switch(Cs($i,t),Cs(Gi,e),Cs(qi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(qi),Cs(qi,t)}function Zi(){Es(qi),Es(Gi),Es($i)}function Ki(e){Qi($i.current);var t=Qi(qi.current),n=oe(t,e.type);t!==n&&(Cs(Gi,e),Cs(qi,n))}function Xi(e){Gi.current===e&&(Es(qi),Es(Gi))}var Ji=ks(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,sa=x.ReactCurrentBatchConfig,ia=0,aa=null,la=null,oa=null,ca=!1,da=!1,ua=0,ha=0;function fa(){throw Error(i(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,s,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Xa:Ja,e=n(r,s),da){a=0;do{if(da=!1,ua=0,25<=a)throw Error(i(301));a+=1,oa=la=null,t.updateQueue=null,ra.current=el,e=n(r,s)}while(da)}if(ra.current=Ka,t=null!==la&&null!==la.next,ia=0,oa=la=aa=null,ca=!1,t)throw Error(i(300));return e}function ma(){var e=0!==ua;return ua=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oa?aa.memoizedState=oa=e:oa=oa.next=e,oa}function ba(){if(null===la){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===oa?aa.memoizedState:oa.next;if(null!==t)oa=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===oa?aa.memoizedState=oa=e:oa=oa.next=e}return oa}function ya(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((ia&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,l=r):c=c.next=h,aa.lanes|=u,Oo|=u}d=d.next}while(null!==d&&d!==a);null===c?l=r:c.next=o,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Oo|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var l=s=s.next;do{a=e(a,l.action),l=l.next}while(l!==s);lr(a,t.memoizedState)||(bl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function _a(e,t){var n=aa,r=ba(),s=t(),a=!lr(r.memoizedState,s);if(a&&(r.memoizedState=s,bl=!0),r=r.queue,Pa(Ca.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==oa&&1&oa.memoizedState.tag){if(n.flags|=2048,Da(9,Ea.bind(null,n,r,s,t),void 0,null),null===jo)throw Error(i(349));30&ia||ka(n,t,s)}return s}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Aa(e)}function Ca(e,t,n){return n(function(){Na(t)&&Aa(e)})}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function Aa(e){var t=Ii(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=va();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,aa,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ta(){return ba().memoizedState}function Ra(e,t,n,r){var s=va();aa.flags|=e,s.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var s=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ga(r,a.deps))return void(s.memoizedState=Da(t,n,i,r))}aa.flags|=e,s.memoizedState=Da(1|t,n,i,r)}function Ia(e,t){return Ra(8390656,8,e,t)}function Pa(e,t){return Ma(2048,8,e,t)}function Oa(e,t){return Ma(4,2,e,t)}function La(e,t){return Ma(4,4,e,t)}function za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4,4,za.bind(null,t,e),n)}function Ha(){}function Fa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 21&ia?(lr(n,t)||(n=pt(),aa.lanes|=n,Oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n)}function Va(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{yt=n,sa.transition=r}}function qa(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Ya(t,n):null!==(n=Mi(e,t,n,r))&&(nc(n,e,r,ec()),Za(n,t,r))}function $a(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,lr(l,a)){var o=t.interleaved;return null===o?(s.next=s,Ri(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(e){}null!==(n=Mi(e,t,s,r))&&(nc(n,e,r,s=ec()),Za(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ka={readContext:Di,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Xa={readContext:Di,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ra(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:ja,useDebugValue:Ha,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Va.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,s=va();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===jo)throw Error(i(349));30&ia||ka(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ia(Ca.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=jo.identifierPrefix;if(si){var n=Ks;t=":"+t+"R"+(n=(Zs&~(1<<32-at(Zs)-1)).toString(32)+n),0<(n=ua++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Di,useCallback:Fa,useContext:Di,useEffect:Pa,useImperativeHandle:Ba,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:Ua,useReducer:xa,useRef:Ta,useState:function(){return xa(ya)},useDebugValue:Ha,useDeferredValue:function(e){return Wa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(ya)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:qa,unstable_isNewReconciler:!1},el={readContext:Di,useCallback:Fa,useContext:Di,useEffect:Pa,useImperativeHandle:Ba,useInsertionEffect:Oa,useLayoutEffect:La,useMemo:Ua,useReducer:wa,useRef:Ta,useState:function(){return wa(ya)},useDebugValue:Ha,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Wa(t,la.memoizedState,e)},useTransition:function(){return[wa(ya)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:_a,useId:qa,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=zi(r,s);i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(nc(t,e,s,r),Hi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=zi(r,s);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,s))&&(nc(t,e,s,r),Hi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=zi(n,r);s.tag=2,null!=t&&(s.callback=t),null!==(t=Bi(e,s,r))&&(nc(t,e,r,n),Hi(t,e,r))}};function sl(e,t,n,r,s,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&or(n,r)&&or(s,i))}function il(e,t,n){var r=!1,s=Ns,i=t.contextType;return"object"==typeof i&&null!==i?i=Di(i):(s=Rs(t)?Ds:As.current,i=(r=null!=(r=t.contextTypes))?Ts(e,s):Ns),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function al(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Oi(e);var i=t.contextType;"object"==typeof i&&null!==i?s.context=Di(i):(i=Rs(t)?Ds:As.current,s.context=Ts(e,i)),s.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(nl(e,t,i,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&rl.enqueueReplaceState(s,s.state,null),Ui(e,n,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var s=n}catch(e){s="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:s,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ul="function"==typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vo||(Vo=!0,qo=r),dl(0,t)},n}function fl(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){dl(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!=typeof r&&(null===Go?Go=new Set([this]):Go.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ul;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function pl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ml(e,t,n,r,s){return 1&e.mode?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e)}var vl=x.ReactCurrentOwner,bl=!1;function yl(e,t,n,r){t.child=null===e?wi(t,null,n,r):xi(t,e.child,n,r)}function xl(e,t,n,r,s){n=n.render;var i=t.ref;return ji(t,s),r=pa(e,t,n,r,i,s),n=ma(),null===e||bl?(si&&n&&ei(t),t.flags|=1,yl(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wl(e,t,s))}function wl(e,t,n,r,s){if(null===e){var i=n.type;return"function"!=typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Sl(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return Wl(e,t,s)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(or(i,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Wl(e,t,s);131072&e.flags&&(bl=!0)}}return El(e,t,n,r,s)}function _l(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Mo,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Cs(Mo,Ro),Ro|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Mo,Ro),Ro|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Cs(Mo,Ro),Ro|=r;return yl(e,t,s,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,s){var i=Rs(n)?Ds:As.current;return i=Ts(t,i),ji(t,s),n=pa(e,t,n,r,i,s),r=ma(),null===e||bl?(si&&r&&ei(t),t.flags|=1,yl(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wl(e,t,s))}function Cl(e,t,n,r,s){if(Rs(n)){var i=!0;Os(t)}else i=!1;if(ji(t,s),null===t.stateNode)Ul(e,t),il(t,n,r),ll(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var o=a.context,c=n.contextType;c="object"==typeof c&&null!==c?Di(c):Ts(t,c=Rs(n)?Ds:As.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||o!==c)&&al(t,a,r,c),Pi=!1;var h=t.memoizedState;a.state=h,Ui(t,r,a,s),o=t.memoizedState,l!==r||h!==o||js.current||Pi?("function"==typeof d&&(nl(t,n,d,r),o=t.memoizedState),(l=Pi||sl(t,n,l,r,h,o,c))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),a.props=r,a.state=o,a.context=c,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Li(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),a.props=c,u=t.pendingProps,h=a.context,o="object"==typeof(o=n.contextType)&&null!==o?Di(o):Ts(t,o=Rs(n)?Ds:As.current);var f=n.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==u||h!==o)&&al(t,a,r,o),Pi=!1,h=t.memoizedState,a.state=h,Ui(t,r,a,s);var g=t.memoizedState;l!==u||h!==g||js.current||Pi?("function"==typeof f&&(nl(t,n,f,r),g=t.memoizedState),(c=Pi||sl(t,n,c,r,h,g,o)||!1)?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,o),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,o)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=o,r=c):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nl(e,t,n,r,i,s)}function Nl(e,t,n,r,s,i){kl(e,t);var a=!!(128&t.flags);if(!r&&!a)return s&&Ls(t,n,!1),Wl(e,t,i);r=t.stateNode,vl.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,l,i)):yl(e,t,l,i),t.memoizedState=r.state,s&&Ls(t,n,!0),t.child}function Al(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Yi(e,t.containerInfo)}function jl(e,t,n,r,s){return fi(),gi(s),t.flags|=256,yl(e,t,n,r),t.child}var Dl,Tl,Rl,Ml,Il={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ol(e,t,n){var r,s=t.pendingProps,a=Ji.current,l=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cs(Ji,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,l?(s=t.mode,l=t.child,o={mode:"hidden",children:o},1&s||null===l?l=Oc(o,s,0,null):(l.childLanes=0,l.pendingProps=o),e=Pc(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Pl(n),t.memoizedState=Il,e):Ll(t,o));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,l){if(n)return 256&t.flags?(t.flags&=-257,zl(e,t,l,r=cl(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Oc({mode:"visible",children:r.children},s,0,null),(a=Pc(a,s,l,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&xi(t,e.child,null,l),t.child.memoizedState=Pl(l),t.memoizedState=Il,a);if(!(1&t.mode))return zl(e,t,l,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var o=r.dgst;return r=o,zl(e,t,l,r=cl(a=Error(i(419)),r,void 0))}if(o=0!==(l&e.childLanes),bl||o){if(null!==(r=jo)){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|l))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ii(e,s),nc(r,e,s,-1))}return pc(),zl(e,t,l,r=cl(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&($s[Qs++]=Zs,$s[Qs++]=Ks,$s[Qs++]=Ys,Zs=e.id,Ks=e.overflow,Ys=t),(t=Ll(t,r.children)).flags|=4096,t)}(e,t,o,s,r,a,n);if(l){l=s.fallback,o=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 1&o||t.child===a?(s=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null),null!==r?l=Mc(r,l):(l=Pc(l,o,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,o=null===(o=e.child.memoizedState)?Pl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Il,s}return e=(l=e.child).sibling,s=Mc(l,{mode:"visible",children:s.children}),!(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ll(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,n,r){return null!==r&&gi(r),xi(t,e.child,null,n),(e=Ll(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function Hl(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fl(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(yl(e,t,r.children,n),2&(r=Ji.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(Ji,r),1&t.mode)switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Hl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Hl(t,!0,n,null,i);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Ul(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Oo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ql(t),null;case 1:case 17:return Rs(t.type)&&Ms(),ql(t),null;case 3:return r=t.stateNode,Zi(),Es(js),Es(As),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ii&&(ac(ii),ii=null))),Tl(e,t),ql(t),null;case 5:Xi(t);var s=Qi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Rl(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ql(t),null}if(e=Qi(qi.current),ui(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hs]=t,r[fs]=a,e=!!(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(s=0;s<Pr.length;s++)Br(Pr[s],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Z(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":se(r,a),Br("invalid",r)}for(var o in be(n,a),s=null,a)if(a.hasOwnProperty(o)){var c=a[o];"children"===o?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Br("scroll",r)}switch(n){case"input":G(r),J(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Jr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[hs]=t,e[fs]=r,Dl(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),s=r;break;case"iframe":case"object":case"embed":Br("load",e),s=r;break;case"video":case"audio":for(s=0;s<Pr.length;s++)Br(Pr[s],e);s=r;break;case"source":Br("error",e),s=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),s=r;break;case"details":Br("toggle",e),s=r;break;case"input":Z(e,r),s=Y(e,r),Br("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Br("invalid",e)}for(a in be(n,s),c=s)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?me(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"==typeof d&&he(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Br("scroll",e):null!=d&&y(e,a,d,o))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ql(t),null;case 6:if(e&&null!=t.stateNode)Ml(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi($i.current),Qi(qi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return ql(t),null;case 13:if(Es(Ji),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&1&t.mode&&!(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hs]=t}else fi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),a=!1}else null!==ii&&(ac(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ji.current?0===Io&&(Io=3):pc())),null!==t.updateQueue&&(t.flags|=4),ql(t),null);case 4:return Zi(),Tl(e,t),null===e&&Ur(t.stateNode.containerInfo),ql(t),null;case 10:return Ni(t.type._context),ql(t),null;case 19:if(Es(Ji),null===(a=t.memoizedState))return ql(t),null;if(r=!!(128&t.flags),null===(o=a.rendering))if(r)Vl(a,!1);else{if(0!==Io||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=ea(e))){for(t.flags|=128,Vl(a,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(o=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>Uo&&(t.flags|=128,r=!0,Vl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!si)return ql(t),null}else 2*Ke()-a.renderingStartTime>Uo&&1073741824!==n&&(t.flags|=128,r=!0,Vl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=a.last)?n.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=Ji.current,Cs(Ji,r?1&n|2:1&n),t):(ql(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ro)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $l(e,t){switch(ti(t),t.tag){case 1:return Rs(t.type)&&Ms(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Es(js),Es(As),na(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Es(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Ji),null;case 4:return Zi(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Dl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Tl=function(){},Rl=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qi(qi.current);var i,a=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),a=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(d in be(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Ml=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ql=!1,Yl=!1,Zl="function"==typeof WeakSet?WeakSet:Set,Kl=null;function Xl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){kc(e,t,n)}else n.current=null}function Jl(e,t,n){try{n()}catch(n){kc(e,t,n)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&Jl(t,n,i)}s=s.next}while(s!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ps],delete t[ms],delete t[vs]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function io(e){return 5===e.tag||3===e.tag||4===e.tag}function ao(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||io(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function ho(e,t,n){for(n=n.child;null!==n;)fo(e,t,n),n=n.sibling}function fo(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(e){}switch(n.tag){case 5:Yl||Xl(n,t);case 6:var r=co,s=uo;co=null,ho(e,t,n),uo=s,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Ut(e)):os(co,n.stateNode));break;case 4:r=co,s=uo,co=n.stateNode.containerInfo,uo=!0,ho(e,t,n),co=r,uo=s;break;case 0:case 11:case 14:case 15:if(!Yl&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&Jl(n,t,a),s=s.next}while(s!==r)}ho(e,t,n);break;case 1:if(!Yl&&(Xl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){kc(n,t,e)}ho(e,t,n);break;case 21:ho(e,t,n);break;case 22:1&n.mode?(Yl=(r=Yl)||null!==n.memoizedState,ho(e,t,n),Yl=r):ho(e,t,n);break;default:ho(e,t,n)}}function go(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zl),t.forEach(function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function po(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(i(160));fo(a,l,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(e){kc(s,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mo(t,e),t=t.sibling}function mo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),vo(e),4&r){try{to(3,e,e.return),no(3,e)}catch(t){kc(e,e.return,t)}try{to(5,e,e.return)}catch(t){kc(e,e.return,t)}}break;case 1:po(t,e),vo(e),512&r&&null!==n&&Xl(n,n.return);break;case 5:if(po(t,e),vo(e),512&r&&null!==n&&Xl(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(t){kc(e,e.return,t)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===a.type&&null!=a.name&&K(s,a),ye(o,l);var d=ye(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];"style"===u?me(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):y(s,u,h,d)}switch(o){case"input":X(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?ne(s,!!a.multiple,g,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(t){kc(e,e.return,t)}}break;case 6:if(po(t,e),vo(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(t){kc(e,e.return,t)}}break;case 3:if(po(t,e),vo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){kc(e,e.return,t)}break;case 4:default:po(t,e),vo(e);break;case 13:po(t,e),vo(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Fo=Ke())),4&r&&go(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yl=(d=Yl)||u,po(t,e),Yl=d):po(t,e),vo(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Kl=e,u=e.child;null!==u;){for(h=Kl=u;null!==Kl;){switch(g=(f=Kl).child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Xl(f,f.return);var p=f.stateNode;if("function"==typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(e){kc(r,n,e)}}break;case 5:Xl(f,f.return);break;case 22:if(null!==f.memoizedState){wo(h);continue}}null!==g?(g.return=f,Kl=g):wo(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"==typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(o=h.stateNode,l=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",l))}catch(t){kc(e,e.return,t)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(t){kc(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:po(t,e),vo(e),4&r&&go(e);case 21:}}function vo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(io(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),oo(e,ao(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;lo(e,ao(e),a);break;default:throw Error(i(161))}}catch(t){kc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Kl=e,yo(e,t,n)}function yo(e,t,n){for(var r=!!(1&e.mode);null!==Kl;){var s=Kl,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Ql;if(!a){var l=s.alternate,o=null!==l&&null!==l.memoizedState||Yl;l=Ql;var c=Yl;if(Ql=a,(Yl=o)&&!c)for(Kl=s;null!==Kl;)o=(a=Kl).child,22===a.tag&&null!==a.memoizedState?So(s):null!==o?(o.return=a,Kl=o):So(s);for(;null!==i;)Kl=i,yo(i,t,n),i=i.sibling;Kl=s,Ql=l,Yl=c}xo(e)}else 8772&s.subtreeFlags&&null!==i?(i.return=s,Kl=i):xo(e)}}function xo(e){for(;null!==Kl;){var t=Kl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Yl||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yl)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wi(t,a,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Yl||512&t.flags&&ro(t)}catch(e){kc(t,t.return,e)}}if(t===e){Kl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Kl=n;break}Kl=t.return}}function wo(e){for(;null!==Kl;){var t=Kl;if(t===e){Kl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Kl=n;break}Kl=t.return}}function So(e){for(;null!==Kl;){var t=Kl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(e){kc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(e){kc(t,s,e)}}var i=t.return;try{ro(t)}catch(e){kc(t,i,e)}break;case 5:var a=t.return;try{ro(t)}catch(e){kc(t,a,e)}}}catch(e){kc(t,t.return,e)}if(t===e){Kl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Kl=l;break}Kl=t.return}}var _o,ko=Math.ceil,Eo=x.ReactCurrentDispatcher,Co=x.ReactCurrentOwner,No=x.ReactCurrentBatchConfig,Ao=0,jo=null,Do=null,To=0,Ro=0,Mo=ks(0),Io=0,Po=null,Oo=0,Lo=0,zo=0,Bo=null,Ho=null,Fo=0,Uo=1/0,Wo=null,Vo=!1,qo=null,Go=null,$o=!1,Qo=null,Yo=0,Zo=0,Ko=null,Xo=-1,Jo=0;function ec(){return 6&Ao?Ke():-1!==Xo?Xo:Xo=Ke()}function tc(e){return 1&e.mode?2&Ao&&0!==To?To&-To:null!==pi.transition?(0===Jo&&(Jo=pt()),Jo):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type):1}function nc(e,t,n,r){if(50<Zo)throw Zo=0,Ko=null,Error(i(185));vt(e,n,r),2&Ao&&e===jo||(e===jo&&(!(2&Ao)&&(Lo|=n),4===Io&&lc(e,To)),rc(e,r),1===n&&0===Ao&&!(1&t.mode)&&(Uo=Ke()+500,Bs&&Us()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),l=1<<a,o=s[a];-1===o?0!==(l&n)&&0===(l&r)||(s[a]=ft(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var r=ht(e,e===jo?To:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Bs=!0,Fs(e)}(oc.bind(null,e)):Fs(oc.bind(null,e)),as(function(){!(6&Ao)&&Us()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xo=-1,Jo=0,6&Ao)throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===jo?To:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var s=Ao;Ao|=2;var a=gc();for(jo===e&&To===t||(Wo=null,Uo=Ke()+500,hc(e,t));;)try{bc();break}catch(t){fc(e,t)}Ci(),Eo.current=a,Ao=s,null!==Do?t=0:(jo=null,To=0,t=Io)}if(0!==t){if(2===t&&0!==(s=gt(e))&&(r=s,t=ic(e,s)),1===t)throw n=Po,hc(e,0),lc(e,r),rc(e,Ke()),n;if(6===t)lc(e,r);else{if(s=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)||(t=mc(e,r),2===t&&(a=gt(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Po,hc(e,0),lc(e,r),rc(e,Ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ho,Wo);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Fo+500-Ke())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,Ho,Wo),t);break}wc(e,Ho,Wo);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-at(r);a=1<<l,(l=t[l])>s&&(s=l),r&=~a}if(r=s,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ko(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,Ho,Wo),r);break}wc(e,Ho,Wo);break;default:throw Error(i(329))}}}return rc(e,Ke()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Bo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Ho,Ho=n,null!==t&&ac(t)),e}function ac(e){null===Ho?Ho=e:Ho.push.apply(Ho,e)}function lc(e,t){for(t&=~zo,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(6&Ao)throw Error(i(327));Sc();var t=ht(e,0);if(!(1&t))return rc(e,Ke()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Po,hc(e,0),lc(e,t),rc(e,Ke()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Ho,Wo),rc(e,Ke()),null}function cc(e,t){var n=Ao;Ao|=1;try{return e(t)}finally{0===(Ao=n)&&(Uo=Ke()+500,Bs&&Us())}}function dc(e){null!==Qo&&0===Qo.tag&&!(6&Ao)&&Sc();var t=Ao;Ao|=1;var n=No.transition,r=yt;try{if(No.transition=null,yt=1,e)return e()}finally{yt=r,No.transition=n,!(6&(Ao=t))&&Us()}}function uc(){Ro=Mo.current,Es(Mo)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Do)for(n=Do.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ms();break;case 3:Zi(),Es(js),Es(As),na();break;case 5:Xi(r);break;case 4:Zi();break;case 13:case 19:Es(Ji);break;case 10:Ni(r.type._context);break;case 22:case 23:uc()}n=n.return}if(jo=e,Do=e=Mc(e.current,null),To=Ro=t,Io=0,Po=null,zo=Lo=Oo=0,Ho=Bo=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Ti=null}return e}function fc(e,t){for(;;){var n=Do;try{if(Ci(),ra.current=Ka,ca){for(var r=aa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ca=!1}if(ia=0,oa=la=aa=null,da=!1,ua=0,Co.current=null,null===n||null===n.return){Io=1,Po=t,Do=null;break}e:{var a=e,l=n.return,o=n,c=t;if(t=To,o.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=o,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=pl(l);if(null!==g){g.flags&=-257,ml(g,l,o,0,t),1&g.mode&&gl(a,d,t),c=d;var p=(t=g).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(!(1&t)){gl(a,d,t),pc();break e}c=Error(i(426))}else if(si&&1&o.mode){var v=pl(l);if(null!==v){!(65536&v.flags)&&(v.flags|=256),ml(v,l,o,0,t),gi(ol(c,o));break e}}a=c=ol(c,o),4!==Io&&(Io=2),null===Bo?Bo=[a]:Bo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fi(a,hl(0,c,t));break e;case 1:o=c;var b=a.type,y=a.stateNode;if(!(128&a.flags||"function"!=typeof b.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Go&&Go.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Fi(a,fl(a,o,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(e){t=e,Do===n&&null!==n&&(Do=n=n.return);continue}break}}function gc(){var e=Eo.current;return Eo.current=Ka,null===e?Ka:e}function pc(){0!==Io&&3!==Io&&2!==Io||(Io=4),null===jo||!(268435455&Oo)&&!(268435455&Lo)||lc(jo,To)}function mc(e,t){var n=Ao;Ao|=2;var r=gc();for(jo===e&&To===t||(Wo=null,hc(e,t));;)try{vc();break}catch(t){fc(e,t)}if(Ci(),Ao=n,Eo.current=r,null!==Do)throw Error(i(261));return jo=null,To=0,Io}function vc(){for(;null!==Do;)yc(Do)}function bc(){for(;null!==Do&&!Ye();)yc(Do)}function yc(e){var t=_o(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?xc(e):Do=t,Co.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=$l(n,t)))return n.flags&=32767,void(Do=n);if(null===e)return Io=6,void(Do=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gl(n,t,Ro)))return void(Do=n);if(null!==(t=t.sibling))return void(Do=t);Do=t=e}while(null!==t);0===Io&&(Io=5)}function wc(e,t,n){var r=yt,s=No.transition;try{No.transition=null,yt=1,function(e,t,n,r){do{Sc()}while(null!==Qo);if(6&Ao)throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===jo&&(Do=jo=null,To=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||$o||($o=!0,jc(tt,function(){return Sc(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=No.transition,No.transition=null;var l=yt;yt=1;var o=Ao;Ao|=4,Co.current=null,function(e,t){if(es=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==n||0!==s&&3!==h.nodeType||(o=l+s),h!==a||0!==r&&3!==h.nodeType||(c=l+r),3===h.nodeType&&(l+=h.nodeValue.length),null!==(g=h.firstChild);)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++d===s&&(o=l),f===a&&++u===r&&(c=l),null!==(g=h.nextSibling))break;f=(h=f).parentNode}h=g}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Vt=!1,Kl=t;null!==Kl;)if(e=(t=Kl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Kl=e;else for(;null!==Kl;){t=Kl;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,v=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:tl(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(e){kc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Kl=e;break}Kl=t.return}p=eo,eo=!1}(e,n),mo(n,e),gr(ts),Vt=!!es,ts=es=null,e.current=n,bo(n,e,s),Ze(),Ao=o,yt=l,No.transition=a}else e.current=n;if($o&&($o=!1,Qo=e,Yo=s),0===(a=e.pendingLanes)&&(Go=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((s=t[n]).value,{componentStack:s.stack,digest:s.digest});if(Vo)throw Vo=!1,e=qo,qo=null,e;!!(1&Yo)&&0!==e.tag&&Sc(),1&(a=e.pendingLanes)?e===Ko?Zo++:(Zo=0,Ko=e):Zo=0,Us()}(e,t,n,r)}finally{No.transition=s,yt=r}return null}function Sc(){if(null!==Qo){var e=xt(Yo),t=No.transition,n=yt;try{if(No.transition=null,yt=16>e?16:e,null===Qo)var r=!1;else{if(e=Qo,Qo=null,Yo=0,6&Ao)throw Error(i(331));var s=Ao;for(Ao|=4,Kl=e.current;null!==Kl;){var a=Kl,l=a.child;if(16&Kl.flags){var o=a.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Kl=d;null!==Kl;){var u=Kl;switch(u.tag){case 0:case 11:case 15:to(8,u,a)}var h=u.child;if(null!==h)h.return=u,Kl=h;else for(;null!==Kl;){var f=(u=Kl).sibling,g=u.return;if(so(u),u===d){Kl=null;break}if(null!==f){f.return=g,Kl=f;break}Kl=g}}}var p=a.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Kl=a}}if(2064&a.subtreeFlags&&null!==l)l.return=a,Kl=l;else e:for(;null!==Kl;){if(2048&(a=Kl).flags)switch(a.tag){case 0:case 11:case 15:to(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Kl=b;break e}Kl=a.return}}var y=e.current;for(Kl=y;null!==Kl;){var x=(l=Kl).child;if(2064&l.subtreeFlags&&null!==x)x.return=l,Kl=x;else e:for(l=y;null!==Kl;){if(2048&(o=Kl).flags)try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(e){kc(o,o.return,e)}if(o===l){Kl=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Kl=w;break e}Kl=o.return}}if(Ao=s,Us(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(e){}r=!0}return r}finally{yt=n,No.transition=t}}return!1}function _c(e,t,n){e=Bi(e,t=hl(0,t=ol(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Go||!Go.has(r))){t=Bi(t,e=fl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jo===e&&(To&n)===n&&(4===Io||3===Io&&(130023424&To)===To&&500>Ke()-Fo?hc(e,0):zo|=n),rc(e,t)}function Cc(e,t){0===t&&(1&e.mode?(t=dt,!(130023424&(dt<<=1))&&(dt=4194304)):t=1);var n=ec();null!==(e=Ii(e,t))&&(vt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function jc(e,t){return $e(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,s,a){var l=2;if(r=e,"function"==typeof e)Rc(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case _:return Pc(n.children,s,a,t);case k:l=8,s|=8;break;case E:return(e=Tc(12,n,t,2|s)).elementType=E,e.lanes=a,e;case j:return(e=Tc(13,n,t,s)).elementType=j,e.lanes=a,e;case D:return(e=Tc(19,n,t,s)).elementType=D,e.lanes=a,e;case M:return Oc(n,s,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case N:l=9;break e;case A:l=11;break e;case T:l=14;break e;case R:l=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tc(l,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Pc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,s,i,a,l,o){return e=new Bc(e,t,n,l,o),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function Fc(e){if(!e)return Ns;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Ps(e,n,t)}return t}function Uc(e,t,n,r,s,i,a,l,o){return(e=Hc(n,r,!0,e,0,i,0,l,o)).context=Fc(null),n=e.current,(i=zi(r=ec(),s=tc(n))).callback=null!=t?t:null,Bi(n,i,s),e.current.lanes=s,vt(e,s,r),rc(e,r),e}function Wc(e,t,n,r){var s=t.current,i=ec(),a=tc(s);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(s,t,a))&&(nc(e,s,a,i),Hi(e,s,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}_o=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||js.current)bl=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Al(t),fi();break;case 5:Ki(t);break;case 1:Rs(t.type)&&Os(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(Si,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(Ji,1&Ji.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ol(e,t,n):(Cs(Ji,1&Ji.current),null!==(e=Wl(e,t,n))?e.sibling:null);Cs(Ji,1&Ji.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Fl(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Ji,Ji.current),r)break;return null;case 22:case 23:return t.lanes=0,_l(e,t,n)}return Wl(e,t,n)}(e,t,n);bl=!!(131072&e.flags)}else bl=!1,si&&1048576&t.flags&&Js(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var s=Ts(t,As.current);ji(t,n),s=pa(null,t,r,e,s,n);var a=ma();return t.flags|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(a=!0,Os(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Oi(t),s.updater=rl,t.stateNode=s,s._reactInternals=t,ll(t,r,e,n),t=Nl(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),yl(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"==typeof e)return Rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===T)return 14}return 2}(r),e=tl(r,e),s){case 0:t=El(null,t,r,e,n);break e;case 1:t=Cl(null,t,r,e,n);break e;case 11:t=xl(null,t,r,e,n);break e;case 14:t=wl(null,t,r,tl(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,El(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 1:return r=t.type,s=t.pendingProps,Cl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 3:e:{if(Al(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Li(e,t),Ui(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=jl(e,t,r,n,s=ol(Error(i(423)),t));break e}if(r!==s){t=jl(e,t,r,n,s=ol(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=Wl(e,t,n);break e}yl(e,t,r,n)}t=t.child}return t;case 5:return Ki(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,l=s.children,ns(r,s)?l=null:null!==a&&ns(r,a)&&(t.flags|=32),kl(e,t),yl(e,t,l,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Ol(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):yl(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,xl(e,t,r,s=t.elementType===r?s:tl(r,s),n);case 7:return yl(e,t,t.pendingProps,n),t.child;case 8:case 12:return yl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,Cs(Si,r._currentValue),r._currentValue=l,null!==a)if(lr(a.value,l)){if(a.children===s.children&&!js.current){t=Wl(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){l=a.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var d=a.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ai(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(i(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Ai(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}yl(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ji(t,n),r=r(s=Di(s)),t.flags|=1,yl(e,t,r,n),t.child;case 14:return s=tl(r=t.type,t.pendingProps),wl(e,t,r,s=tl(r.type,s),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tl(r,s),Ul(e,t),t.tag=1,Rs(r)?(e=!0,Os(t)):e=!1,ji(t,n),il(t,r,s),ll(t,r,s,n),Nl(null,t,r,!0,e,n);case 19:return Fl(e,t,n);case 22:return _l(e,t,n)}throw Error(i(156,t.tag))};var $c="function"==typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof s){var l=s;s=function(){var e=Vc(a);l.call(e)}}Wc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"==typeof r){var i=r;r=function(){var e=Vc(a);i.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[gs]=a.current,Ur(8===e.nodeType?e.parentNode:e),dc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var l=r;r=function(){var e=Vc(o);l.call(e)}}var o=Hc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[gs]=o.current,Ur(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,o,n,r)}),o}(n,t,e,s,r);return Vc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[gs]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ke()),!(6&Ao)&&(Uo=Ke()+500,Us()))}break;case 13:dc(function(){var t=Ii(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ii(e,134217728);null!==t&&nc(t,e,134217728,ec()),Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ii(e,t);null!==n&&nc(n,e,t,ec()),Gc(e,t)}},kt=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));$(r),X(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,je=dc;var ed={usingClientEntryPoint:!1,Events:[ys,xs,ws,Ce,Ne,cc]},td={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(nd),it=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(i(299));var n=!1,r="",s=$c;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,s),e[gs]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Kc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",l=$c;if(null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,s,0,a,l),e[gs]=t.current,Ur(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Kc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},578:()=>{},590:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>SystemPromptService});var process=__webpack_require__(606);const isRenderer=void 0!==process&&"renderer"===process?.type;let FallbackDatabaseService=null;if(!isRenderer)try{const nodeRequire=eval("require");FallbackDatabaseService=nodeRequire("./DatabaseService").DatabaseService}catch{FallbackDatabaseService=null}class SystemPromptService{constructor(){this.defaultPrompts={assignment_optimization:{type:"assignment_optimization",name:"Assignment Optimization",description:"For optimizing teacher-course assignments with weighting factors",template:"You are an intelligent teacher-course assignment optimization system. Your goal is to create optimal assignments based on exact qualification matching and weighted scoring criteria.\n\nCRITICAL REQUIREMENTS:\n1. Teachers can only be assigned to courses where their qualifications EXACTLY match the course topic\n2. Never suggest assignments where qualifications don't match exactly\n3. Consider three weighting factors: Equality (workload distribution), Continuity (consecutive lessons), and Loyalty (teacher-course consistency)\n\nWEIGHTING FACTORS:\n- Equality Weight: Distributes workload evenly across teachers (0-100%)\n- Continuity Weight: Prefers consecutive lesson blocks over scattered times (0-100%)  \n- Loyalty Weight: Maintains teacher-course relationships from previous assignments (0-100%)\n\nSCORING ALGORITHM:\nFinal Score = (EqualityScore × EqualityWeight) + (ContinuityScore × ContinuityWeight) + (LoyaltyScore × LoyaltyWeight)\n\nRESPONSE FORMAT:\nReturn valid JSON with the structure matching AIOptimizationResponse interface.\nInclude detailed rationale explaining the optimization decisions.\nProvide alternative solutions when conflicts exist.",variables:["EQUALITY_WEIGHT","CONTINUITY_WEIGHT","LOYALTY_WEIGHT"],category:"core",is_active:!0},chat_conversation:{type:"chat_conversation",name:"Chat Conversation",description:"For interactive chat conversations about assignments",template:'You are an intelligent assignment optimization assistant. Help the user with teacher-course assignments.\n\nCAPABILITIES:\n- Suggest assignment optimizations\n- Resolve scheduling conflicts  \n- Balance teacher workloads\n- Explain assignment decisions\n- Provide alternative solutions\n\nRULES:\n- Only suggest assignments where teacher qualifications EXACTLY match course topics\n- Consider the current weighting settings: Equality {{EQUALITY_WEIGHT}}%, Continuity {{CONTINUITY_WEIGHT}}%, Loyalty {{LOYALTY_WEIGHT}}%\n- Be conversational and helpful\n- If you have specific suggestions, include them in a SUGGESTIONS block at the end\n\nRESPONSE FORMAT:\nProvide helpful conversational response, then optionally:\n\nSUGGESTIONS:\n[{"type": "action_type", "description": "clear description", "action_data": {relevant_data}, "confidence": 0.9}]',variables:["EQUALITY_WEIGHT","CONTINUITY_WEIGHT","LOYALTY_WEIGHT","CONTEXT"],category:"interaction",is_active:!0},csv_interpretation:{type:"csv_interpretation",name:"CSV Data Interpretation",description:"For analyzing and interpreting CSV import data",template:"You are a CSV interpretation system. Analyze CSV headers and data to map columns to database fields.\n\nAvailable database fields: \n- Teachers: name, qualifications, working_times\n- Courses: topic, lessons_count, lesson_duration, start_date, end_date\n\nANALYSIS REQUIREMENTS:\n1. Identify column mappings based on headers and sample data\n2. Detect data types and formats\n3. Suggest data transformations if needed\n4. Flag potential issues or inconsistencies\n\nRESPONSE FORMAT:\nReturn JSON with:\n- columnMapping: object mapping CSV columns to database fields\n- suggestions: array of improvement recommendations\n- warnings: array of potential issues\n- confidence: overall confidence score (0-1)",variables:["HEADERS","SAMPLE_DATA","TARGET_FIELDS"],category:"data_processing",is_active:!0},rationale_generation:{type:"rationale_generation",name:"Assignment Rationale",description:"For generating explanations for assignment decisions",template:"You are an assignment explanation system. Provide clear, concise explanations for why teachers are assigned to specific courses.\n\nEXPLANATION REQUIREMENTS:\n1. Focus on qualification matching\n2. Mention weighting factors that influenced the decision\n3. Be professional and educational\n4. Keep explanations brief but informative (2-3 sentences)\n\nFACTORS TO CONSIDER:\n- Exact qualification matching\n- Workload distribution (Equality)\n- Lesson scheduling patterns (Continuity)  \n- Teacher-course history (Loyalty)\n- Conflict resolution\n\nTONE:\nProfessional, clear, and helpful. Avoid technical jargon.",variables:["TEACHER_NAME","COURSE_TOPIC","FACTORS"],category:"explanation",is_active:!0},conflict_resolution:{type:"conflict_resolution",name:"Conflict Resolution",description:"For resolving scheduling and assignment conflicts",template:"You are a conflict resolution specialist for teacher assignments. Help identify and resolve scheduling conflicts, workload imbalances, and assignment issues.\n\nCONFLICT TYPES TO HANDLE:\n- Time slot overlaps\n- Overloaded teachers\n- Unqualified assignments\n- Missing course coverage\n- Workload imbalances\n\nRESOLUTION STRATEGIES:\n1. Identify root causes\n2. Suggest specific alternative assignments\n3. Consider emergency weighting adjustments\n4. Propose schedule modifications\n5. Recommend additional resources if needed\n\nRESPONSE APPROACH:\nBe solution-focused and practical. Provide multiple options when possible.",variables:["CONFLICTS","CURRENT_ASSIGNMENTS","AVAILABLE_TEACHERS"],category:"problem_solving",is_active:!0}}}getAvailablePrompts(){return Object.values(this.defaultPrompts).filter(e=>e.is_active)}getPromptTemplate(e){return this.defaultPrompts[e]||null}async getCurrentSystemPrompt(e){try{const t=`system_prompt_${e}`,n="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null,r=await(n?.getSetting(t));if(r)return r;const s=this.defaultPrompts[e];return s?s.template:""}catch(t){console.error(`Failed to get system prompt for ${e}:`,t);const n=this.defaultPrompts[e];return n?n.template:""}}async updateSystemPrompt(e,t){try{const n=this.validatePrompt(t);if(!n.isValid)throw new Error(`Invalid prompt: ${n.errors.join(", ")}`);const r=`system_prompt_${e}`,s="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null;return await(s?.setSetting(r,t)),!0}catch(t){return console.error(`Failed to update system prompt for ${e}:`,t),!1}}async resetPromptToDefault(e){try{const t=this.defaultPrompts[e];if(!t)throw new Error(`No default prompt found for type: ${e}`);const n=`system_prompt_${e}`,r="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null;return await(r?.setSetting(n,t.template)),!0}catch(t){return console.error(`Failed to reset prompt to default for ${e}:`,t),!1}}processPromptVariables(e,t){let n=e;return Object.entries(t).forEach(([e,t])=>{const r=`{{${e.toUpperCase()}}}`;n=n.replace(new RegExp(r,"g"),t)}),n=n.replace(/\{\{[^}]+\}\}/g,"[VARIABLE_NOT_PROVIDED]"),n}validatePrompt(e){const t=[],n=[];return e&&0!==e.trim().length||t.push("Prompt cannot be empty"),e.length<50&&n.push("Prompt is very short and may not provide sufficient context"),e.length>8e3&&n.push("Prompt is very long and may exceed API limits"),[{pattern:/ignore.{0,20}previous.{0,20}instructions/i,message:"Contains potential instruction override attempts"},{pattern:/\bdangerous\b|\bharm\b|\battack\b/i,message:"Contains potentially harmful language"},{pattern:/\bpassword\b|\bapi.{0,10}key\b/i,message:"May contain sensitive information references"}].forEach(({pattern:t,message:r})=>{t.test(e)&&n.push(r)}),e.toLowerCase().includes("assignment")&&!e.toLowerCase().includes("qualification")&&n.push("Assignment-related prompt should mention qualifications"),{isValid:0===t.length,errors:t,warnings:n,score:Math.max(0,1-.5*t.length-.1*n.length)}}async createCustomPrompt(e,t,n,r,s){try{const i=this.validatePrompt(n);if(!i.isValid)throw new Error(`Invalid prompt template: ${i.errors.join(", ")}`);const a={id:this.generatePromptId(),name:e,description:t,template:n,type:r,category:"core",variables:s||[],created_at:(new Date).toISOString(),is_active:!0,usage_count:0},l="custom_prompts",o="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null,c=await(o?.getSetting(l))||"[]",d=JSON.parse(c);return d.push(a),await(o?.setSetting(l,JSON.stringify(d))),a}catch(e){return console.error("Failed to create custom prompt:",e),null}}async getCustomPrompts(){try{const e="custom_prompts",t="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null,n=await(t?.getSetting(e))||"[]";return JSON.parse(n)}catch(e){return console.error("Failed to get custom prompts:",e),[]}}async deleteCustomPrompt(e){try{const t="custom_prompts",n="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null,r=await(n?.getSetting(t))||"[]",s=JSON.parse(r),i=s.filter(t=>t.id!==e);return await(n?.setSetting(t,JSON.stringify(i))),s.length!==i.length}catch(e){return console.error("Failed to delete custom prompt:",e),!1}}async getPromptUsageStats(){return{total_prompts:Object.keys(this.defaultPrompts).length,most_used_type:"assignment_optimization",custom_prompts_count:(await this.getCustomPrompts()).length,usage_by_type:Object.keys(this.defaultPrompts).map(e=>({type:e,usage_count:0,success_rate:.95}))}}async exportPrompts(){const e=await this.getCustomPrompts();return{default_prompts:Object.values(this.defaultPrompts),custom_prompts:e,export_date:(new Date).toISOString(),version:"1.0"}}async importPrompts(e){try{let t=0,n=0;for(const r of e.custom_prompts)this.validatePrompt(r.template).isValid?(await this.createCustomPrompt(r.name,r.description,r.template,r.type,r.variables),t++):n++;return{success:!0,imported_count:t,skipped_count:n,errors:[]}}catch(e){return{success:!1,imported_count:0,skipped_count:0,errors:[`Import failed: ${e}`]}}}generatePromptId(){return`prompt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const systemPromptService=new SystemPromptService},606:e=>{var t,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var l,o=[],c=!1,d=-1;function u(){c&&l&&(c=!1,l.length?o=l.concat(o):d=-1,o.length&&h())}function h(){if(!c){var e=a(u);c=!0;for(var t=o.length;t;){for(l=o,o=[];++d<t;)l&&l[d].run();d=-1,t=o.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new f(e,t)),1!==o.length||c||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},648:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>SettingsService});var process=__webpack_require__(606),Buffer=__webpack_require__(668).hp;const isRenderer=void 0!==process&&"renderer"===process?.type;let FallbackDatabaseService=null;if(!isRenderer)try{const nodeRequire=eval("require");FallbackDatabaseService=nodeRequire("./DatabaseService").DatabaseService}catch{FallbackDatabaseService=null}class SettingsService{constructor(){const e="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:null;this.databaseService=e||(FallbackDatabaseService?FallbackDatabaseService.getInstance():null)}static getInstance(){return SettingsService.instance||(SettingsService.instance=new SettingsService),SettingsService.instance}async setApiKey(e){try{const t=Buffer.from(e).toString("base64");await this.databaseService.setSetting("anthropic_api_key",t)}catch(e){throw new Error(`Fehler beim Speichern des API-Schlüssels: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async getApiKey(){try{const e=await this.databaseService.getSetting("anthropic_api_key")||await this.databaseService.getSetting("ai_api_key");if(!e)return null;try{const t=Buffer.from(e,"base64").toString("utf8");return t.startsWith("sk-ant-")?t:e}catch{return e}}catch(e){return console.error("Error retrieving API key:",e),null}}async testApiConnection(){try{if("undefined"!=typeof window&&window?.electronAPI?.ai?.testConnection)return await window.electronAPI.ai.testConnection();const e=void 0!==process&&process.env?.ANTHROPIC_API_KEY?"present":"",t=await this.getApiKey();return Boolean(e||t)}catch(e){return console.error("API connection test failed:",e),!1}}async clearApiKey(){await this.databaseService.setSetting("anthropic_api_key","")}async setSelectedModel(e){await this.databaseService.setSetting("selected_ai_model",e)}async getSelectedModel(){return await this.databaseService.getSetting("selected_ai_model")||"claude-sonnet-4-20250514"}async setDefaultWeights(e){if(100!==e.equality+e.continuity+e.loyalty)throw new Error("Gewichtungen müssen in der Summe 100% ergeben");const{equality:t,continuity:n,loyalty:r}=e;if(t<0||t>100||n<0||n>100||r<0||r>100)throw new Error("Gewichtungen müssen zwischen 0% und 100% liegen");await this.databaseService.setSetting("default_equality_weight",t.toString()),await this.databaseService.setSetting("default_continuity_weight",n.toString()),await this.databaseService.setSetting("default_loyalty_weight",r.toString())}async getDefaultWeights(){return{equality:parseInt(await this.databaseService.getSetting("default_equality_weight")||"33"),continuity:parseInt(await this.databaseService.getSetting("default_continuity_weight")||"33"),loyalty:parseInt(await this.databaseService.getSetting("default_loyalty_weight")||"34")}}async getWeightingPresets(){try{return await this.databaseService.getWeightingPresets()}catch(e){return console.error("Error getting weighting presets:",e),[]}}async saveWeightingPreset(e){try{await this.databaseService.saveWeightingPreset(e)}catch(e){throw new Error(`Fehler beim Speichern des Gewichtungs-Presets: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async deleteWeightingPreset(e){try{await this.databaseService.deleteWeightingPreset(e)}catch(e){throw new Error(`Fehler beim Löschen des Gewichtungs-Presets: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async setDefaultWeightingPreset(e){try{await this.databaseService.setDefaultWeightingPreset(e)}catch(e){throw new Error(`Fehler beim Setzen des Standard-Presets: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async setTheme(e){await this.databaseService.setSetting("app_theme",e)}async getTheme(){return await this.databaseService.getSetting("app_theme")||"system"}async setLanguage(e){await this.databaseService.setSetting("app_language",e)}async getLanguage(){return await this.databaseService.getSetting("app_language")||"de"}async setNotificationsEnabled(e){await this.databaseService.setSetting("notifications_enabled",e.toString())}async getNotificationsEnabled(){return"true"===await this.databaseService.getSetting("notifications_enabled")}async setAutoUpdateEnabled(e){await this.databaseService.setSetting("auto_update_enabled",e.toString())}async getAutoUpdateEnabled(){return"false"!==await this.databaseService.getSetting("auto_update_enabled")}async setSystemPrompt(e,t){await this.databaseService.setSetting(`system_prompt_${e}`,t)}async getSystemPrompt(e){return await this.databaseService.getSetting(`system_prompt_${e}`)}async exportSettings(){try{const e={apiKey:await this.getApiKey(),selectedModel:await this.getSelectedModel(),defaultWeights:await this.getDefaultWeights(),weightingPresets:await this.getWeightingPresets(),theme:await this.getTheme(),language:await this.getLanguage(),notificationsEnabled:await this.getNotificationsEnabled(),autoUpdateEnabled:await this.getAutoUpdateEnabled(),exportDate:(new Date).toISOString()};return JSON.stringify(e,null,2)}catch(e){throw new Error(`Fehler beim Exportieren der Einstellungen: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async importSettings(e){try{const t=JSON.parse(e);if(t.apiKey&&await this.setApiKey(t.apiKey),t.selectedModel&&await this.setSelectedModel(t.selectedModel),t.defaultWeights&&await this.setDefaultWeights(t.defaultWeights),t.weightingPresets&&Array.isArray(t.weightingPresets))for(const e of t.weightingPresets)await this.saveWeightingPreset(e);t.theme&&await this.setTheme(t.theme),t.language&&await this.setLanguage(t.language),"boolean"==typeof t.notificationsEnabled&&await this.setNotificationsEnabled(t.notificationsEnabled),"boolean"==typeof t.autoUpdateEnabled&&await this.setAutoUpdateEnabled(t.autoUpdateEnabled)}catch(e){throw new Error(`Fehler beim Importieren der Einstellungen: ${e instanceof Error?e.message:"Ungültiges JSON oder Datenformat"}`)}}async validateSettings(){const e=[];try{const t="undefined"!=typeof window&&window?.electronAPI?.env?await window.electronAPI.env.has("ANTHROPIC_API_KEY"):Boolean(void 0!==process&&process.env?.ANTHROPIC_API_KEY),n=await this.getApiKey();t||n||e.push("API-Schlüssel ist nicht konfiguriert");const r=await this.getSelectedModel();["claude-haiku-3.5-20241022","claude-sonnet-4-20250514","claude-opus-4-20241022"].includes(r)||e.push("Ungültiges AI-Modell ausgewählt");const s=await this.getDefaultWeights();return 100!==s.equality+s.continuity+s.loyalty&&e.push("Standard-Gewichtungen ergeben nicht 100%"),{isValid:0===e.length,errors:e}}catch(t){return e.push(`Validierungsfehler: ${t instanceof Error?t.message:"Unbekannter Fehler"}`),{isValid:!1,errors:e}}}async initializeDefaults(){try{if("true"===await this.databaseService.getSetting("settings_initialized"))return;0===(await this.getWeightingPresets()).length&&(await this.saveWeightingPreset({profile_name:"Normal",equality_weight:33,continuity_weight:33,loyalty_weight:34,is_default:!0}),await this.saveWeightingPreset({profile_name:"Notfall",equality_weight:50,continuity_weight:40,loyalty_weight:10,is_default:!1}),await this.saveWeightingPreset({profile_name:"Ausgewogen",equality_weight:40,continuity_weight:30,loyalty_weight:30,is_default:!1})),await this.getTheme()||await this.setTheme("system"),await this.getLanguage()||await this.setLanguage("de"),await this.databaseService.setSetting("settings_initialized","true")}catch(e){throw console.error("Failed to initialize default settings:",e),new Error("Fehler beim Initialisieren der Standard-Einstellungen")}}}},652:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>AssignmentService});var process=__webpack_require__(606);const isRenderer=void 0!==process&&"renderer"===process?.type;let FallbackDatabaseService=null;if(!isRenderer)try{const nodeRequire=eval("require");FallbackDatabaseService=nodeRequire("./DatabaseService").DatabaseService}catch{FallbackDatabaseService=null}class AssignmentService{constructor(e){e?this.dbService=e:!isRenderer&&FallbackDatabaseService?this.dbService=FallbackDatabaseService.getInstance():"undefined"!=typeof window&&window?.electronAPI?.database?this.dbService=window.electronAPI.database:this.dbService=null}findQualifiedTeachers(e,t){return t.filter(t=>t.qualifications.includes(e.topic))}getQualificationMatches(e,t){const n=[];return e.forEach(e=>{this.findQualifiedTeachers(e,t).forEach(t=>{n.push({teacher:t,course:e})})}),n}createCostMatrix(e,t,n){const r=[];return e.forEach((e,s)=>{r[s]=[],t.forEach((t,i)=>{let a=e.qualifications.includes(t.topic)?0:1e3;a<1e3&&(a+=this.calculateWorkloadPenalty(e,t,n.equality)-this.calculateContinuityBonus(e,t,n.continuity)-this.calculateLoyaltyBonus(e,t,n.loyalty)),r[s][i]=Math.max(0,a)})}),r}solveHungarianAssignment(e,t,n){const r=this.createCostMatrix(e,t,n);return this.hungarianAlgorithm(r)}hungarianAlgorithm(e){const t=e.length,n=e[0]?.length||0;if(0===t||0===n)return[];const r=[],s=new Set,i=new Set,a=[];for(let r=0;r<t;r++)for(let t=0;t<n;t++)a.push({teacherId:r,courseId:t,cost:e[r][t]});return a.sort((e,t)=>e.cost-t.cost),a.forEach(e=>{!s.has(e.teacherId)&&!i.has(e.courseId)&&e.cost<1e3&&(r.push({teacherIndex:e.teacherId,courseIndex:e.courseId}),s.add(e.teacherId),i.add(e.courseId))}),r}detectTimeConflicts(e){const t=[],n=new Map;return e.forEach(e=>{n.has(e.teacher_id)||n.set(e.teacher_id,[]),n.get(e.teacher_id).push(...e.scheduled_slots)}),n.forEach((n,r)=>{const s=n.sort((e,t)=>new Date(`${e.date} ${e.start_time}`).getTime()-new Date(`${t.date} ${t.start_time}`).getTime());for(let n=0;n<s.length-1;n++){const i=s[n],a=s[n+1];this.slotsOverlap(i,a)&&t.push({type:"time_overlap",description:`Teacher ${r} has overlapping time slots: ${i.date} ${i.start_time}-${i.end_time} and ${a.date} ${a.start_time}-${a.end_time}`,severity:"critical",affected_assignments:e.filter(e=>e.teacher_id===r&&(e.scheduled_slots.includes(i)||e.scheduled_slots.includes(a))).map(e=>e.id)})}}),t}slotsOverlap(e,t){if(e.date!==t.date)return!1;const n=this.timeStringToMinutes(e.start_time),r=this.timeStringToMinutes(e.end_time),s=this.timeStringToMinutes(t.start_time);return n<this.timeStringToMinutes(t.end_time)&&s<r}timeStringToMinutes(e){const[t,n]=e.split(":").map(Number);return 60*t+n}checkTeacherAvailability(e,t){const n=this.getDayNameFromDate(t.date),r=e.working_times[n];if(!r)return!1;const s=this.timeStringToMinutes(t.start_time),i=this.timeStringToMinutes(t.end_time),a=this.timeStringToMinutes(r.start),l=this.timeStringToMinutes(r.end);return s>=a&&i<=l}getDayNameFromDate(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date(e).getDay()]}calculateWorkloadPenalty(e,t,n){const r=(this.dbService?this.dbService.getAllAssignments().filter(t=>t.teacher_id===e.id&&"active"===t.status):[]).reduce((e,t)=>e+t.scheduled_slots.reduce((e,t)=>e+t.duration_minutes,0),0)+t.lessons_count*t.lesson_duration,s=this.calculateAverageWorkload();return Math.abs(r-s)/s*100*(n/100)}calculateContinuityBonus(e,t,n){const r=this.dbService?this.dbService.getAllAssignments().filter(t=>t.teacher_id===e.id&&"active"===t.status):[];let s=0;return r.forEach(e=>{const n=this.dbService.getCourse(e.course_id);n&&n.topic===t.topic&&(s+=10)}),s*(n/100)}calculateLoyaltyBonus(e,t,n){const r=this.dbService?this.dbService.getAllAssignments().filter(t=>t.teacher_id===e.id):[];let s=0;return r.forEach(e=>{const n=this.dbService.getCourse(e.course_id);n&&n.topic===t.topic&&(s+=15)}),s*(n/100)}calculateAverageWorkload(){const e=this.dbService?this.dbService.getAllTeachers():[],t=this.dbService?this.dbService.getAllAssignments().filter(e=>"active"===e.status):[];return 0===e.length?0:t.reduce((e,t)=>e+t.scheduled_slots.reduce((e,t)=>e+t.duration_minutes,0),0)/e.length}scoreAssignment(e,t,n){const r=this.calculateEqualityScore(e,t),s=this.calculateContinuityScore(e,t),i=this.calculateLoyaltyScore(e,t),a=r*n.equality/100+s*n.continuity/100+i*n.loyalty/100;return Math.max(0,Math.min(100,a))}calculateEqualityScore(e,t){const n=this.calculateAverageWorkload(),r=this.getCurrentTeacherWorkload(e.id)+t.lessons_count*t.lesson_duration,s=Math.abs(r-n),i=n;return Math.max(0,100-s/i*100)}calculateContinuityScore(e,t){let n=50;return(this.dbService?this.dbService.getAllAssignments().filter(t=>t.teacher_id===e.id&&"active"===t.status):[]).forEach(e=>{const r=this.dbService.getCourse(e.course_id);r&&r.topic===t.topic&&(n+=25)}),Math.min(100,n)}calculateLoyaltyScore(e,t){let n=50;const r=(this.dbService?this.dbService.getAllAssignments().filter(t=>t.teacher_id===e.id):[]).filter(e=>{const n=this.dbService.getCourse(e.course_id);return n&&n.topic===t.topic}).length;return n+=Math.min(50,10*r),Math.min(100,n)}getCurrentTeacherWorkload(e){return(this.dbService?this.dbService.getAllAssignments().filter(t=>t.teacher_id===e&&"active"===t.status):[]).reduce((e,t)=>e+t.scheduled_slots.reduce((e,t)=>e+t.duration_minutes,0),0)}async generateAssignments(e={equality:33,continuity:33,loyalty:34},t){try{const t=this.dbService.getAllTeachers(),n=this.dbService.getAllCourses();if(0===t.length||0===n.length)throw new Error("No teachers or courses available for assignment");if(0===this.getQualificationMatches(n,t).length)throw new Error("No qualified teachers found for any courses");const r=this.solveHungarianAssignment(t,n,e),s=[];for(const i of r){const r=t[i.teacherIndex],a=n[i.courseIndex],l={teacher_id:r.id,course_id:a.id,scheduled_slots:this.generateTimeSlots(a,r),status:"pending",ai_rationale:`Assigned based on qualification match and optimization weights (Equality: ${e.equality}%, Continuity: ${e.continuity}%, Loyalty: ${e.loyalty}%)`},o=this.validateAssignment(r,a,l.scheduled_slots),c=this.scoreAssignment(r,a,e);s.push({teacher:r,course:a,assignment:{...l,id:0,created_at:(new Date).toISOString()},conflicts:o.length>0?o:void 0,score:c})}return s}catch(e){throw console.error("Error generating assignments:",e),e}}generateTimeSlots(e,t){const n=[],r=new Date(e.start_date),s=new Date(e.end_date),i=Math.ceil((s.getTime()-r.getTime())/864e5);Math.ceil(e.lessons_count/(i/7));let a=new Date(r),l=0;for(;l<e.lessons_count&&a<=s;){const r=this.getDayNameFromDate(a.toISOString().split("T")[0]),s=t.working_times[r];s&&l<e.lessons_count&&(n.push({date:a.toISOString().split("T")[0],start_time:s.start,end_time:this.addMinutesToTime(s.start,e.lesson_duration),duration_minutes:e.lesson_duration}),l++),a.setDate(a.getDate()+1)}return n}addMinutesToTime(e,t){const n=this.timeStringToMinutes(e)+t,r=n%60;return`${Math.floor(n/60).toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}validateAssignment(e,t,n){const r=[];return e.qualifications.includes(t.topic)||r.push({type:"qualification_mismatch",description:`Teacher ${e.name} does not have required qualification: ${t.topic}`,severity:"critical",affected_assignments:[]}),n.forEach(t=>{this.checkTeacherAvailability(e,t)||r.push({type:"availability_conflict",description:`Teacher ${e.name} is not available on ${t.date} from ${t.start_time} to ${t.end_time}`,severity:"high",affected_assignments:[]})}),r}validateAssignments(e){const t=[],n=e.map(e=>e.assignment),r=this.detectTimeConflicts(n);return t.push(...r),e.forEach(e=>{e.conflicts&&t.push(...e.conflicts)}),t}resolveConflicts(e,t){const n=[];return this.validateAssignments(e),e.forEach(e=>{if(!e.conflicts||0===e.conflicts.length)return void n.push(e);let r={...e};e.conflicts.forEach(e=>{switch(e.type){case"time_overlap":r=this.resolveTimeOverlapConflict(r,t);break;case"availability_conflict":r=this.resolveAvailabilityConflict(r);break;case"workload_exceeded":r=this.resolveWorkloadConflict(r,t)}}),n.push(r)}),n}resolveTimeOverlapConflict(e,t){const n=this.generateTimeSlots(e.course,e.teacher),r=this.validateAssignment(e.teacher,e.course,n);return{...e,assignment:{...e.assignment,scheduled_slots:n,ai_rationale:`Rescheduled to resolve time conflicts. ${e.assignment.ai_rationale}`},conflicts:r.length>0?r:void 0,score:this.scoreAssignment(e.teacher,e.course,t)}}resolveAvailabilityConflict(e){return{...e,assignment:{...e.assignment,status:"pending",ai_rationale:`Availability conflict detected - manual resolution required. ${e.assignment.ai_rationale}`}}}resolveWorkloadConflict(e,t){return{...e,assignment:{...e.assignment,status:"pending",ai_rationale:`Workload imbalance detected - consider reassigning. ${e.assignment.ai_rationale}`}}}generateFallbackAssignments(e,t,n){const r=[];return e.forEach(e=>{const s=this.findPartialQualificationMatches(e,t);if(s.length>0){const t=s[0],i={teacher_id:t.id,course_id:e.id,scheduled_slots:this.generateTimeSlots(e,t),status:"pending",ai_rationale:"Fallback assignment - closest qualification match. Manual review recommended."};r.push({teacher:t,course:e,assignment:{...i,id:0,created_at:(new Date).toISOString()},conflicts:this.validateAssignment(t,e,i.scheduled_slots),score:.5*this.scoreAssignment(t,e,n)})}}),r}findPartialQualificationMatches(e,t){return t.filter(t=>{const n=e.topic.toLowerCase().split(" ");return t.qualifications.some(e=>n.some(t=>e.toLowerCase().includes(t)&&t.length>2))}).sort((t,n)=>{const r=this.countQualificationMatches(e.topic,t.qualifications);return this.countQualificationMatches(e.topic,n.qualifications)-r})}countQualificationMatches(e,t){const n=e.toLowerCase().split(" ");let r=0;return t.forEach(e=>{n.forEach(t=>{e.toLowerCase().includes(t)&&t.length>2&&r++})}),r}getWorkloadStatistics(){const e=this.dbService?this.dbService.getAllTeachers():[],t=this.dbService?this.dbService.getAllAssignments().filter(e=>"active"===e.status):[];return e.map(e=>{const n=t.filter(t=>t.teacher_id===e.id),r=n.reduce((e,t)=>e+t.scheduled_slots.length,0),s=n.reduce((e,t)=>e+t.scheduled_slots.reduce((e,t)=>e+t.duration_minutes,0),0)/60;return{teacherId:e.id,totalLessons:r,totalHours:s,assignmentCount:n.length}})}getAssignmentRecommendations(e){const t=this.getWorkloadStatistics(),n=[];if(0===t.length)return n;const r=t.reduce((e,t)=>e+t.totalHours,0)/t.length,s=t.filter(e=>e.totalHours>1.5*r);s.length>0&&n.push(`${s.length} teacher(s) are significantly overloaded. Consider redistributing assignments.`);const i=t.filter(e=>e.totalHours<.5*r);return i.length>0&&n.push(`${i.length} teacher(s) are underutilized. Consider assigning more courses.`),e.equality>70&&n.push("High equality weighting detected. Focus on balancing workload distribution."),e.continuity>70&&n.push("High continuity weighting detected. Prioritizing consecutive lesson scheduling."),e.loyalty>70&&n.push("High loyalty weighting detected. Maintaining teacher-subject relationships."),n}}},668:(e,t,n)=>{"use strict";const r=n(526),s=n(251),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=o,t.IS=50;const a=2147483647;function l(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|p(e,t);let r=l(n);const s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);const s=function(e){if(o.isBuffer(e)){const t=0|g(e.length),n=l(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?l(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),l(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),n=l(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,o.prototype),r}function g(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(s)return r?-1:G(e).length;t=(""+t).toLowerCase(),s=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,s){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,s){let i,a=1,l=e.length,o=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,l/=2,o/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(s){let r=-1;for(i=n;i<l;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===o)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+o>l&&(n=l-o),i=n;i>=0;i--){let n=!0;for(let r=0;r<o;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function x(e,t,n,r){n=Number(n)||0;const s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Z(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return Q(G(t,e.length-n),e,n,r)}function S(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return Q($(t),e,n,r)}function k(e,t,n,r){return Q(function(e,t){let n,r,s;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,s=n%256,i.push(s),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let s=t;for(;s<n;){const t=e[s];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(s+a<=n){let n,r,l,o;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[s+1],128==(192&n)&&(o=(31&t)<<6|63&n,o>127&&(i=o));break;case 3:n=e[s+1],r=e[s+2],128==(192&n)&&128==(192&r)&&(o=(15&t)<<12|(63&n)<<6|63&r,o>2047&&(o<55296||o>57343)&&(i=o));break;case 4:n=e[s+1],r=e[s+2],l=e[s+3],128==(192&n)&&128==(192&r)&&128==(192&l)&&(o=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&l,o>65535&&o<1114112&&(i=o))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),s+=a}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return function(e,t,n){return d(e),e<=0?l(e):void 0!==t?"string"==typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}(e,t,n)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(Y(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let s=0,i=Math.min(n,r);s<i;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=o.allocUnsafe(t);let s=0;for(n=0;n<e.length;++n){let t=e[n];if(Y(t,Uint8Array))s+t.length>r.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(r,s)):Uint8Array.prototype.set.call(r,t,s);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,s)}s+=t.length}return r},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,s){if(Y(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=n)return 0;if(r>=s)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(s>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const l=Math.min(i,a),c=this.slice(r,s),d=e.slice(t,n);for(let e=0;e<l;++e)if(c[e]!==d[e]){i=c[e],a=d[e];break}return i<a?-1:a<i?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function A(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function j(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function D(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let s="";for(let r=t;r<n;++r)s+=K[e[r]];return s}function T(e,t,n){const r=e.slice(t,n);let s="";for(let e=0;e<r.length-1;e+=2)s+=String.fromCharCode(r[e]+256*r[e+1]);return s}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,s,i){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r,s){U(t,r,s,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function P(e,t,n,r,s){U(t,r,s,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function O(e,t,n,r,s,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||O(e,0,n,4),s.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return t=+t,n>>>=0,i||O(e,0,n,8),s.write(e,t,n,r,52,8),n+8}o.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],s=1,i=0;for(;++i<t&&(s*=256);)r+=this[e+i]*s;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=X(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,s=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))}),o.prototype.readBigUInt64BE=X(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(s)}),o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],s=1,i=0;for(;++i<t&&(s*=256);)r+=this[e+i]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,s=1,i=this[e+--r];for(;r>0&&(s*=256);)i+=this[e+--r]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},o.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=X(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),o.prototype.readBigInt64BE=X(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),s.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),s.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),s.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),s.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let s=1,i=0;for(this[t]=255&e;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let s=n-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=X(function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=X(function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let s=0,i=1,a=0;for(this[t]=255&e;++s<n&&(i*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/i|0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let s=n-1,i=1,a=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/i|0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=X(function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=X(function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const s=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),s},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{const i=o.isBuffer(e)?e:o.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%a]}return this};const B={};function H(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,r,s,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let s;throw s=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,s,i)}function W(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),H("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,s=n;return Number.isInteger(n)&&Math.abs(n)>2**32?s=F(String(n)):"bigint"==typeof n&&(s=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(s=F(s)),s+="n"),r+=` It must be ${t}. Received ${s}`,r},RangeError);const q=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let s=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){let s;for(s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const K=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let s=0;s<16;++s)t[r+s]=e[n]+e[s]}return t}();function X(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},688:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>ModelSelectionService});var process=__webpack_require__(606);const isRenderer=void 0!==process&&"renderer"===process?.type;let FallbackDatabaseService=null;if(!isRenderer)try{const nodeRequire=eval("require");FallbackDatabaseService=nodeRequire("./DatabaseService").DatabaseService}catch{FallbackDatabaseService=null}class ModelSelectionService{constructor(){this.availableModels=[{id:"claude-haiku-3.5-20241022",name:"Claude 3.5 Haiku",description:"Fast and efficient for simple tasks",tier:"haiku",maxTokens:2e5,speed:"fastest",cost:"lowest",capabilities:{assignment_optimization:"good",chat_interaction:"excellent",csv_interpretation:"excellent",rationale_generation:"good"},recommended_for:["Quick chat responses","CSV analysis","Simple optimizations"],limitations:["Less sophisticated reasoning","Shorter response quality"]},{id:"claude-sonnet-4-20250514",name:"Claude 4 Sonnet",description:"Balanced performance and capability",tier:"sonnet",maxTokens:2e5,speed:"fast",cost:"medium",capabilities:{assignment_optimization:"excellent",chat_interaction:"excellent",csv_interpretation:"excellent",rationale_generation:"excellent"},recommended_for:["Complex assignment optimization","Detailed chat interactions","Advanced reasoning"],limitations:["Higher cost than Haiku","Slightly slower than Haiku"]},{id:"claude-opus-4-20241022",name:"Claude 4 Opus",description:"Most capable model for complex reasoning",tier:"opus",maxTokens:2e5,speed:"moderate",cost:"highest",capabilities:{assignment_optimization:"exceptional",chat_interaction:"exceptional",csv_interpretation:"excellent",rationale_generation:"exceptional"},recommended_for:["Most complex optimization problems","Deep reasoning tasks","Critical assignments"],limitations:["Highest cost","Slower responses","May be overkill for simple tasks"]}]}getAvailableModels(){return[...this.availableModels]}getModelInfo(e){return this.availableModels.find(t=>t.id===e)||null}getRecommendedModel(e){switch(e){case"quick_chat":case"csv_analysis":return this.availableModels.find(e=>"claude-haiku-3.5-20241022"===e.id);case"assignment_optimization":case"balanced_performance":default:return this.availableModels.find(e=>"claude-sonnet-4-20250514"===e.id);case"complex_reasoning":return this.availableModels.find(e=>"claude-opus-4-20241022"===e.id)}}async getCurrentModelConfig(){try{const e="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null,t=await(e?.getSetting("ai_model"));return t&&this.availableModels.some(e=>e.id===t)?t:"claude-sonnet-4-20250514"}catch(e){return console.error("Failed to get current model config:",e),"claude-sonnet-4-20250514"}}async updateModelSelection(e){try{if(!this.availableModels.some(t=>t.id===e))throw new Error(`Invalid model ID: ${e}`);const t="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null;return await(t?.setSetting("ai_model",e)),!0}catch(e){return console.error("Failed to update model selection:",e),!1}}compareModels(e){const t=e.map(e=>this.getModelInfo(e)).filter(Boolean);if(0===t.length)throw new Error("No valid models provided for comparison");return{models:t,comparison:{fastest:t.reduce((e,t)=>this.getSpeedScore(e.speed)>this.getSpeedScore(t.speed)?e:t),most_capable:t.reduce((e,t)=>this.getCapabilityScore(e)>this.getCapabilityScore(t)?e:t),most_cost_effective:t.reduce((e,t)=>this.getCostScore(e.cost)>this.getCostScore(t.cost)?e:t)},recommendation:this.getRecommendationFromComparison(t)}}autoSelectModel(e){return"speed"===e.priority&&"low"===e.complexity||"cost"===e.priority&&"high"!==e.complexity?this.getRecommendedModel("quick_chat"):"high"===e.complexity||"accuracy"===e.priority?this.getRecommendedModel("complex_reasoning"):this.getRecommendedModel("balanced_performance")}async getModelUsageStats(){return{total_requests:0,model_breakdown:this.availableModels.map(e=>({model_id:e.id,request_count:0,success_rate:.95,avg_response_time:this.getEstimatedResponseTime(e),total_tokens_used:0})),cost_analysis:{total_cost_estimate:0,cost_by_model:this.availableModels.map(e=>({model_id:e.id,estimated_cost:0}))},recommendations:this.generateUsageRecommendations()}}async validateModelAvailability(e){try{const t=this.getModelInfo(e);if(!t)return{isValid:!1,error:"Model not found in available models list"};const n="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:FallbackDatabaseService?FallbackDatabaseService.getInstance():null;return await(n?.getSetting("ai_api_key"))?{isValid:!0,modelInfo:t}:{isValid:!1,error:"API key not configured"}}catch(e){return{isValid:!1,error:`Validation failed: ${e}`}}}getSpeedScore(e){switch(e){case"fastest":return 3;case"fast":return 2;case"moderate":return 1;default:return 0}}getCapabilityScore(e){const t=e.capabilities,n={good:1,excellent:2,exceptional:3};return Object.values(t).reduce((e,t)=>e+(n[t]||0),0)}getCostScore(e){switch(e){case"lowest":return 3;case"medium":return 2;case"highest":return 1;default:return 0}}getRecommendationFromComparison(e){if(1===e.length)return`${e[0].name} is your only option.`;const t=e.find(e=>"haiku"===e.tier),n=e.find(e=>"sonnet"===e.tier),r=e.find(e=>"opus"===e.tier);return t&&n&&r?"For most assignment tasks, Sonnet provides the best balance of speed and capability. Use Haiku for quick operations and Opus for complex reasoning.":n?"Sonnet offers excellent performance for most assignment optimization tasks.":"Choose based on your specific needs: speed vs capability vs cost."}getEstimatedResponseTime(e){switch(e.tier){case"haiku":return 1.2;case"sonnet":return 2.1;case"opus":return 4.5;default:return 2}}generateUsageRecommendations(){return["Use Claude 3.5 Haiku for quick chat interactions and CSV analysis","Use Claude 4 Sonnet for most assignment optimization tasks","Use Claude 4 Opus only for the most complex reasoning requirements","Monitor your usage to optimize costs while maintaining quality"]}}const modelSelectionService=new ModelSelectionService},813:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>BackupService});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(578),fs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__),process=__webpack_require__(606);const isRenderer=void 0!==process&&"renderer"===process?.type;let FallbackDatabaseService=null;if(!isRenderer)try{const nodeRequire=eval("require");FallbackDatabaseService=nodeRequire("./DatabaseService").DatabaseService}catch{FallbackDatabaseService=null}class BackupService{constructor(){const e="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:null;this.db=e||(FallbackDatabaseService?FallbackDatabaseService.getInstance():null)}static getInstance(){return BackupService.instance||(BackupService.instance=new BackupService),BackupService.instance}async createBackup(){try{const e={version:"1.0",timestamp:(new Date).toISOString(),teachers:await this.exportTeachers(),courses:await this.exportCourses(),assignments:await this.exportAssignments(),settings:await this.exportSettings(),weightingSettings:await this.exportWeightingSettings(),chatHistory:await this.exportChatHistory()};return JSON.stringify(e,null,2)}catch(e){throw new Error(`Fehler beim Erstellen des Backups: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async restoreFromBackup(e,t={}){try{const n=JSON.parse(e);if(!n.version||!n.timestamp)throw new Error("Ungültiges Backup-Format");t.clearExisting&&await this.clearAllData(),n.settings&&await this.importSettings(n.settings),n.weightingSettings&&await this.importWeightingSettings(n.weightingSettings),n.teachers&&await this.importTeachers(n.teachers),n.courses&&await this.importCourses(n.courses),n.assignments&&await this.importAssignments(n.assignments),n.chatHistory&&await this.importChatHistory(n.chatHistory)}catch(e){throw new Error(`Fehler beim Wiederherstellen des Backups: ${e instanceof Error?e.message:"Ungültiges Backup-Format"}`)}}async saveBackupToFile(e){try{const t=await this.createBackup();fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(e,t,"utf8")}catch(e){throw new Error(`Fehler beim Speichern der Backup-Datei: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async loadBackupFromFile(e){try{if(!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(e))throw new Error("Backup-Datei nicht gefunden");return fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(e,"utf8")}catch(e){throw new Error(`Fehler beim Laden der Backup-Datei: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}getSuggestedBackupFilename(){const e=new Date;return`lehrerverwaltung-backup-${e.toISOString().split("T")[0]}-${e.toTimeString().split(" ")[0].replace(/:/g,"-")}.json`}async exportTeachers(){return(await this.dbCall("getAllTeachers")||[]).map(e=>({name:e.name,qualifications:e.qualifications,working_times:e.working_times}))}async exportCourses(){return(await this.dbCall("getAllCourses")||[]).map(e=>({topic:e.topic,lessons_count:e.lessons_count,lesson_duration:e.lesson_duration,start_date:e.start_date,end_date:e.end_date}))}async exportAssignments(){const e=await this.dbCall("getAllAssignments")||[];return Promise.all(e.map(async e=>({teacher_name:(await this.dbCall("getTeacher",e.teacher_id))?.name,course_topic:(await this.dbCall("getCourse",e.course_id))?.topic,scheduled_slots:e.scheduled_slots,status:e.status,ai_rationale:e.ai_rationale})))}async exportSettings(){return await this.dbCall("getAllSettings")||{}}async exportWeightingSettings(){return(await this.dbCall("getWeightingPresets")||[]).map(e=>({profile_name:e.profile_name,equality_weight:e.equality_weight,continuity_weight:e.continuity_weight,loyalty_weight:e.loyalty_weight,is_default:e.is_default}))}async exportChatHistory(){const e=await this.dbCall("getAllChatConversations")||[];return Promise.all(e.map(async e=>({id:e.id,title:e.title,context:e.context,messages:await this.dbCall("getChatMessages",e.id)})))}async importSettings(e){for(const[t,n]of Object.entries(e))await this.dbCall("setSetting",t,n)}async importWeightingSettings(e){for(const t of e)await this.dbCall("saveWeightingPreset",{profile_name:t.profile_name,equality_weight:t.equality_weight,continuity_weight:t.continuity_weight,loyalty_weight:t.loyalty_weight,is_default:t.is_default})}async importTeachers(e){for(const t of e)await this.dbCall("createTeacher",{name:t.name,qualifications:t.qualifications,working_times:t.working_times})}async importCourses(e){for(const t of e)await this.dbCall("createCourse",{topic:t.topic,lessons_count:t.lessons_count,lesson_duration:t.lesson_duration,start_date:t.start_date,end_date:t.end_date})}async importAssignments(e){for(const t of e){const e=await this.dbCall("getAllTeachers")||[],n=await this.dbCall("getAllCourses")||[],r=e.find(e=>e.name===t.teacher_name),s=n.find(e=>e.topic===t.course_topic);r&&s&&await this.dbCall("createAssignment",{teacher_id:r.id,course_id:s.id,scheduled_slots:t.scheduled_slots,status:t.status,ai_rationale:t.ai_rationale})}}async importChatHistory(e){for(const t of e)if(await this.dbCall("saveChatConversation",{id:t.id,title:t.title,context:t.context}),t.messages)for(const e of t.messages)await this.dbCall("saveChatMessage",{conversation_id:t.id,message_type:e.message_type,message_content:e.message_content,context_data:e.context_data})}async clearAllData(){try{if(this.db&&"function"==typeof this.db.execute)await this.db.execute("DELETE FROM chat_history"),await this.db.execute("DELETE FROM chat_conversations"),await this.db.execute("DELETE FROM assignments"),await this.db.execute("DELETE FROM courses"),await this.db.execute("DELETE FROM teachers"),await this.db.execute("DELETE FROM weighting_settings"),await this.db.execute('DELETE FROM app_settings WHERE key != "settings_initialized"');else{const e=await this.dbCall("getAllAssignments")||[];for(const t of e)await this.dbCall("deleteAssignment",t.id);const t=await this.dbCall("getAllCourses")||[];for(const e of t)await this.dbCall("deleteCourse",e.id);const n=await this.dbCall("getAllTeachers")||[];for(const e of n)await this.dbCall("deleteTeacher",e.id);const r=await this.dbCall("getAllSettings")||{};for(const e of Object.keys(r))"settings_initialized"!==e&&await this.dbCall("setSetting",e,"")}console.log("All data cleared from database")}catch(e){throw new Error(`Fehler beim Löschen der Daten: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}}async getDatabaseStats(){const e=await this.dbCall("getAllTeachers")||[],t=await this.dbCall("getAllCourses")||[],n=await this.dbCall("getAllAssignments")||[],r=await this.dbCall("getWeightingPresets")||[],s=await this.dbCall("getAllChatConversations")||[],i=await this.dbCall("getAllSettings")||{};return{teachers:e.length,courses:t.length,assignments:n.length,weightingPresets:r.length,chatConversations:s.length,settings:Object.keys(i).length}}validateBackupFormat(e){const t=[];try{const n=JSON.parse(e);n.version||t.push("Backup-Version fehlt"),n.timestamp||t.push("Backup-Zeitstempel fehlt");const r=["teachers","courses","assignments","settings"];for(const e of r)n[e]||t.push(`Backup-Sektion '${e}' fehlt`)}catch(e){t.push("Ungültiges JSON-Format")}return{isValid:0===t.length,errors:t}}async dbCall(e,...t){if(!this.db||"function"!=typeof this.db[e])return null;const n=this.db[e](...t);return n&&"function"==typeof n.then?await n:n}}},848:(e,t,n)=>{"use strict";e.exports=n(20)},917:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>CalendarService});var _AssignmentService__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(652),process=__webpack_require__(606);const isRenderer=void 0!==process&&"renderer"===process?.type;let FallbackDatabaseService=null;if(!isRenderer)try{const nodeRequire=eval("require");FallbackDatabaseService=nodeRequire("./DatabaseService").DatabaseService}catch{FallbackDatabaseService=null}class CalendarService{constructor(e,t){this.isRenderer=isRenderer;const n="undefined"!=typeof window&&window?.electronAPI?.database?window.electronAPI.database:null;this.db=e||n||(FallbackDatabaseService?FallbackDatabaseService.getInstance():null),this.assignmentService=t||new _AssignmentService__WEBPACK_IMPORTED_MODULE_0__.h(this.db),this.defaultPreferences={defaultView:"timeGridWeek",weekStart:1,timeFormat:"24h",slotDuration:"00:30:00",theme:{primaryColor:"#0078d4",secondaryColor:"#106ebe",textColor:"#323130",backgroundColor:"#ffffff",borderColor:"#d1d1d1"},showWeekends:!0,locale:"de"}}convertAssignmentsToCalendarEvents(e,t,n){const r=new Map(t?.map(e=>[e.id,e])||[]),s=new Map(n?.map(e=>[e.id,e])||[]),i=[];return e.forEach(e=>{const t=r.get(e.teacher_id),n=s.get(e.course_id);t&&n&&e.scheduled_slots.forEach(r=>{const s=this.combineDateTime(r.date,r.start_time),a=this.combineDateTime(r.date,r.end_time),l={id:`${e.id}-${r.date}-${r.start_time}`,title:`${n.topic}`,start:s,end:a,teacherId:t.id,courseId:n.id,assignmentId:e.id,backgroundColor:this.getTeacherColor(t.id),borderColor:this.getTeacherColor(t.id,!0)};i.push(l)})}),i}filterCalendarEvents(e,t){return e.filter(e=>{if(t.teachers&&t.teachers.length>0&&!t.teachers.includes(e.teacherId))return!1;if(t.courses&&t.courses.length>0&&!t.courses.includes(e.courseId))return!1;if(t.date_range){const n=e.start.toISOString().split("T")[0];if(n<t.date_range.start||n>t.date_range.end)return!1}return!0})}async handleEventDrop(e,t,n){try{const[r,s,i]=e.split("-"),a=parseInt(r),l=await this.dbCall("getAssignment",a);if(!l)return{success:!1,message:"Assignment not found"};const o=await this.dbCall("getTeacher",l.teacher_id),c=await this.dbCall("getCourse",l.course_id);if(!o||!c)return{success:!1,message:"Teacher or course not found"};const d={date:t.toISOString().split("T")[0],start_time:this.formatTime(t),end_time:this.formatTime(n),duration_minutes:Math.round((n.getTime()-t.getTime())/6e4)},u=await this.dbCall("getAllAssignments"),h=this.validateTimeSlotMove(o,l,s,i,d,u||[]);if(h.length>0&&h.some(e=>"critical"===e.severity))return{success:!1,conflicts:h,message:"Critical conflicts detected - move not allowed"};const f=l.scheduled_slots.map(e=>e.date===s&&e.start_time===i?d:e),g={...l,scheduled_slots:f,ai_rationale:`${l.ai_rationale||""} [Calendar: Rescheduled from ${s} ${i} to ${d.date} ${d.start_time}]`};return await this.dbCall("updateAssignment",g.id,{scheduled_slots:f,ai_rationale:g.ai_rationale}),{success:!0,updatedAssignment:g,conflicts:h.length>0?h:void 0,message:h.length>0?"Rescheduled with warnings":"Successfully rescheduled"}}catch(e){return console.error("Error handling event drop:",e),{success:!1,message:`Error rescheduling event: ${e instanceof Error?e.message:"Unknown error"}`}}}validateTimeSlotMove(e,t,n,r,s,i){const a=[];return this.assignmentService.checkTeacherAvailability(e,s)||a.push({type:"availability_conflict",description:`German: Lehrer ${e.name} ist am ${s.date} von ${s.start_time} bis ${s.end_time} nicht verfügbar`,severity:"critical",affected_assignments:[t.id]}),(i||[]).filter(n=>n.id!==t.id&&n.teacher_id===e.id&&"active"===n.status).forEach(e=>{e.scheduled_slots.forEach(n=>{this.timeSlotsOverlap(s,n)&&a.push({type:"time_overlap",description:`German: Zeitkonflikt mit anderer Zuweisung am ${n.date} von ${n.start_time} bis ${n.end_time}`,severity:"critical",affected_assignments:[t.id,e.id]})})}),a}timeSlotsOverlap(e,t){if(e.date!==t.date)return!1;const n=this.timeStringToMinutes(e.start_time),r=this.timeStringToMinutes(e.end_time),s=this.timeStringToMinutes(t.start_time);return n<this.timeStringToMinutes(t.end_time)&&s<r}getDefaultPreferences(){return this.defaultPreferences}async getCalendarPreferencesAsync(){try{const e=await this.dbCall("getSetting","calendar_preferences");if(e)return{...this.defaultPreferences,...JSON.parse(e)}}catch(e){console.warn("Error loading calendar preferences, using defaults:",e)}return this.defaultPreferences}async saveCalendarPreferences(e){try{const t={...await this.getCalendarPreferencesAsync(),...e};await this.dbCall("setSetting","calendar_preferences",JSON.stringify(t))}catch(e){throw console.error("Error saving calendar preferences:",e),e}}getTeacherColor(e,t=!1){const n=["#0078d4","#107c10","#d13438","#ff8c00","#5c2d91","#0078d7","#00bcf2","#40e0d0","#ff69b4","#32cd32","#ff6347","#4169e1","#daa520","#dc143c","#00ced1"],r=n[e%n.length];return t?this.darkenColor(r,.2):r}createEventTooltip(e){if(this.isRenderer)return"German: Ereignisdetails nicht verfügbar";const t=this.db?.getTeacher?.(e.teacherId),n=this.db?.getCourse?.(e.courseId),r=this.db?.getAssignment?.(e.assignmentId);if(!t||!n||!r)return"German: Ereignisdetails nicht verfügbar";const s=this.formatTime(e.start),i=this.formatTime(e.end),a=Math.round((e.end.getTime()-e.start.getTime())/6e4);return`\n      <div class="calendar-tooltip">\n        <h3>${n.topic}</h3>\n        <p><strong>German: Lehrer:</strong> ${t.name}</p>\n        <p><strong>German: Zeit:</strong> ${s} - ${i}</p>\n        <p><strong>German: Dauer:</strong> ${a} Minuten</p>\n        <p><strong>German: Status:</strong> ${this.translateStatus(r.status)}</p>\n      </div>\n    `}getAllCalendarEvents(){if(this.isRenderer)return[];const e=this.db.getAllAssignments().filter(e=>"active"===e.status),t=this.db.getAllTeachers(),n=this.db.getAllCourses();return this.convertAssignmentsToCalendarEvents(e,t,n)}getCalendarEventsForRange(e,t){return this.getAllCalendarEvents().filter(n=>{const r=n.start.toISOString().split("T")[0];return r>=e&&r<=t})}refreshCalendarData(){return this.getAllCalendarEvents()}combineDateTime(e,t){return new Date(`${e}T${t}:00`)}formatTime(e){return e.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",hour12:!1})}timeStringToMinutes(e){const[t,n]=e.split(":").map(Number);return 60*t+n}darkenColor(e,t){const n=e.replace("#",""),r=Math.floor(parseInt(n.substr(0,2),16)*(1-t)),s=Math.floor(parseInt(n.substr(2,2),16)*(1-t)),i=Math.floor(parseInt(n.substr(4,2),16)*(1-t));return`#${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}translateStatus(e){return{active:"Aktiv",pending:"Ausstehend",completed:"Abgeschlossen",cancelled:"Abgebrochen"}[e]||e}async dbCall(e,...t){if(!this.db||"function"!=typeof this.db[e])return null;try{const n=this.db[e](...t);return n&&"function"==typeof n.then?await n:n}catch(e){throw e}}}},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},982:(e,t,n)=>{"use strict";e.exports=n(463)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(848),t=__webpack_require__(338),n=__webpack_require__(540);const r=({activeView:t,onViewChange:n})=>{const r=[{id:"dashboard",label:"Dashboard",description:"Overview and quick actions",icon:(0,e.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0a2 2 0 01-2 2H10a2 2 0 01-2-2v0z"})]})},{id:"teachers",label:"Teachers",description:"Manage teacher profiles and qualifications",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{id:"courses",label:"Courses",description:"Manage courses and requirements",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})},{id:"assignments",label:"Assignments",description:"View and manage course assignments",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{id:"calendar",label:"Calendar",description:"Interactive schedule and calendar view",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{id:"settings",label:"Settings",description:"Configure API keys and preferences",icon:(0,e.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];return(0,e.jsxs)("div",{className:"w-64 bg-white shadow-lg border-r border-gray-200 flex flex-col",children:[(0,e.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center mr-3",children:(0,e.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"TCA"}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Assignment System"})]})]})}),(0,e.jsx)("nav",{className:"flex-1 p-4",children:(0,e.jsx)("ul",{className:"space-y-2",children:r.map(r=>{const s=t===r.id;return(0,e.jsx)("li",{children:(0,e.jsxs)("button",{onClick:()=>n(r.id),className:"w-full flex items-center px-3 py-2 text-left rounded-lg transition-colors duration-200 "+(s?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[(0,e.jsx)("div",{className:"mr-3 "+(s?"text-blue-600":"text-gray-500"),children:r.icon}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("div",{className:"text-sm font-medium "+(s?"text-blue-600":"text-gray-900"),children:r.label}),(0,e.jsx)("div",{className:"text-xs "+(s?"text-blue-500":"text-gray-500"),children:r.description})]})]})},r.id)})})}),(0,e.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,e.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"v1.0.0 • Ready"})})]})},s=({isOpen:t,onClose:r,onImportComplete:s})=>{const[i,a]=(0,n.useState)("file-selection"),[l,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)({file_path:"",data_type:"teachers",column_mapping:{},skip_header:!0,delimiter:","}),[f,g]=(0,n.useState)({current_row:0,total_rows:0,processed:0,errors:0,percentage:0}),[p,m]=(0,n.useState)(null),[v,b]=(0,n.useState)(!1),y=(0,n.useCallback)(async()=>{try{const e=await window.electronAPI.fileImport.showFilePickerDialog();if(e){o(e),b(!0);const t=await window.electronAPI.fileImport.parseCSVFile(e);d(t),h(n=>({...n,file_path:e,data_type:t.detected_type||"teachers",column_mapping:t.suggested_mapping})),a("preview-mapping")}}catch(e){alert(`Fehler beim Laden der Datei: ${e}`)}finally{b(!1)}},[]),x=()=>{switch(u.data_type){case"teachers":return["name","qualifications","working_times"];case"courses":return["topic","lessons_count","lesson_duration","start_date","end_date"];case"assignments":return["teacher_id","course_id","status","ai_rationale"];default:return[]}};return t?(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full m-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,e.jsxs)("div",{className:"bg-blue-600 text-white p-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"CSV Import Assistent"}),(0,e.jsx)("button",{onClick:r,className:"text-white hover:text-gray-200 transition-colors",children:(0,e.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,e.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,e.jsxs)("div",{className:"flex items-center "+("file-selection"===i?"text-yellow-200":"text-blue-200"),children:[(0,e.jsx)("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold mr-2 "+("file-selection"===i?"bg-yellow-200 text-blue-600":["preview-mapping","import-progress","complete"].includes(i)?"bg-green-200 text-green-800":"bg-blue-500"),children:"1"}),"Datei auswählen"]}),(0,e.jsxs)("div",{className:"flex items-center "+("preview-mapping"===i?"text-yellow-200":"text-blue-200"),children:[(0,e.jsx)("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold mr-2 "+("preview-mapping"===i?"bg-yellow-200 text-blue-600":["import-progress","complete"].includes(i)?"bg-green-200 text-green-800":"bg-blue-500"),children:"2"}),"Spalten zuordnen"]}),(0,e.jsxs)("div",{className:"flex items-center "+("import-progress"===i?"text-yellow-200":"text-blue-200"),children:[(0,e.jsx)("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold mr-2 "+("import-progress"===i?"bg-yellow-200 text-blue-600":"complete"===i?"bg-green-200 text-green-800":"bg-blue-500"),children:"3"}),"Import durchführen"]}),(0,e.jsxs)("div",{className:"flex items-center "+("complete"===i?"text-yellow-200":"text-blue-200"),children:[(0,e.jsx)("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold mr-2 "+("complete"===i?"bg-green-200 text-green-800":"bg-blue-500"),children:"4"}),"Abgeschlossen"]})]})]}),(0,e.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["file-selection"===i&&(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsxs)("div",{className:"mb-8",children:[(0,e.jsx)("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,e.jsx)("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"CSV-Datei für Import auswählen"}),(0,e.jsx)("p",{className:"mt-2 text-gray-600",children:"Wählen Sie eine CSV-Datei aus, die Lehrer-, Kurs- oder Zuweisungsdaten enthält. Die KI wird die Spalten automatisch analysieren und Zuordnungsvorschläge machen."})]}),(0,e.jsx)("button",{onClick:y,disabled:v,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full mr-2"}),"Datei wird analysiert..."]}):"CSV-Datei auswählen"})]}),"preview-mapping"===i&&c&&(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Datei-Vorschau und Spaltenzuordnung"}),(0,e.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Datei:"})," ",l]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Zeilen:"})," ",c.total_rows]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Erkannter Typ:"})," ",c.detected_type||"Unbekannt"]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Spalten:"})," ",c.headers.length]})]})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Datentyp:"}),(0,e.jsxs)("select",{value:u.data_type,onChange:e=>{return t=e.target.value,void h(e=>({...e,data_type:t}));var t},className:"border border-gray-300 rounded-lg px-3 py-2 w-full",children:[(0,e.jsx)("option",{value:"teachers",children:"Lehrer"}),(0,e.jsx)("option",{value:"courses",children:"Kurse"}),(0,e.jsx)("option",{value:"assignments",children:"Zuweisungen"})]})]}),c.ai_suggestions.length>0&&(0,e.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,e.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"KI-Empfehlungen:"}),(0,e.jsx)("ul",{className:"space-y-1 text-sm text-blue-800",children:c.ai_suggestions.map((t,n)=>(0,e.jsxs)("li",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-blue-600 mr-2",children:"•"}),t]},n))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Spaltenzuordnung:"}),(0,e.jsx)("div",{className:"grid grid-cols-1 gap-4",children:c.headers.map((t,n)=>(0,e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e.jsx)("div",{className:"w-1/3",children:(0,e.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t})}),(0,e.jsx)("div",{className:"w-1/3",children:(0,e.jsxs)("select",{value:u.column_mapping[t]||"",onChange:e=>{return n=t,r=e.target.value,void h(e=>({...e,column_mapping:{...e.column_mapping,[n]:r}}));var n,r},className:"border border-gray-300 rounded px-3 py-1 w-full text-sm",children:[(0,e.jsx)("option",{value:"",children:"-- Nicht zuordnen --"}),x().map(t=>(0,e.jsx)("option",{value:t,children:t},t))]})}),(0,e.jsx)("div",{className:"w-1/3 text-xs text-gray-600",children:c.sample_rows[0]?.[n]?`Beispiel: "${c.sample_rows[0][n]}"`:"Kein Beispiel verfügbar"})]},t))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Datenvorschau:"}),(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"min-w-full border border-gray-300 text-xs",children:[(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsx)("tr",{children:c.headers.map(t=>(0,e.jsx)("th",{className:"border border-gray-300 px-2 py-1 text-left font-medium",children:t},t))})}),(0,e.jsx)("tbody",{children:c.sample_rows.slice(0,5).map((t,n)=>(0,e.jsx)("tr",{className:n%2==0?"bg-white":"bg-gray-50",children:t.map((t,n)=>(0,e.jsx)("td",{className:"border border-gray-300 px-2 py-1",children:t},n))},n))})]})})]})]}),"import-progress"===i&&(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsxs)("div",{className:"mb-8",children:[(0,e.jsx)("div",{className:"animate-spin mx-auto h-16 w-16 border-4 border-blue-600 border-t-transparent rounded-full"}),(0,e.jsx)("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"Import wird durchgeführt..."}),(0,e.jsx)("p",{className:"mt-2 text-gray-600",children:"Bitte warten Sie, während die Daten importiert werden."})]}),(0,e.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,e.jsx)("div",{className:"bg-gray-200 rounded-full h-4 mb-4",children:(0,e.jsx)("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:{width:`${f.percentage}%`}})}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,e.jsxs)("div",{children:["Fortschritt: ",f.percentage,"%"]}),(0,e.jsxs)("div",{children:["Zeile: ",f.current_row," von ",f.total_rows]}),(0,e.jsxs)("div",{children:["Verarbeitet: ",f.processed]}),(0,e.jsxs)("div",{children:["Fehler: ",f.errors]})]})]})]}),"complete"===i&&p&&(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsxs)("div",{className:"mb-8",children:[(0,e.jsx)("div",{className:"mx-auto h-16 w-16 rounded-full flex items-center justify-center "+(p.success?"bg-green-100":"bg-red-100"),children:p.success?(0,e.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,e.jsx)("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,e.jsx)("h3",{className:"mt-4 text-lg font-semibold "+(p.success?"text-green-900":"text-red-900"),children:p.success?"Import erfolgreich!":"Import mit Fehlern abgeschlossen"})]}),(0,e.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 max-w-md mx-auto",children:[(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,e.jsx)("div",{children:(0,e.jsx)("strong",{children:"Erfolgreich importiert:"})}),(0,e.jsx)("div",{className:"text-green-600 font-semibold",children:p.imported_count}),(0,e.jsx)("div",{children:(0,e.jsx)("strong",{children:"Übersprungen:"})}),(0,e.jsx)("div",{className:"text-yellow-600 font-semibold",children:p.skipped_count}),(0,e.jsx)("div",{children:(0,e.jsx)("strong",{children:"Fehler:"})}),(0,e.jsx)("div",{className:"text-red-600 font-semibold",children:p.errors.length})]}),p.errors.length>0&&(0,e.jsxs)("div",{className:"mt-4",children:[(0,e.jsx)("h4",{className:"font-semibold text-red-900 mb-2",children:"Fehlerdetails:"}),(0,e.jsxs)("div",{className:"max-h-32 overflow-y-auto space-y-1 text-xs text-red-700",children:[p.errors.slice(0,10).map((t,n)=>(0,e.jsxs)("div",{children:["Zeile ",t.row,": ",t.message]},n)),p.errors.length>10&&(0,e.jsxs)("div",{className:"text-red-500",children:["... und ",p.errors.length-10," weitere Fehler"]})]})]})]})]})]}),(0,e.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-between",children:[(0,e.jsx)("div",{children:"complete"===i&&(0,e.jsx)("button",{onClick:()=>{a("file-selection"),o(null),d(null),m(null),g({current_row:0,total_rows:0,processed:0,errors:0,percentage:0})},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Neuen Import starten"})}),(0,e.jsxs)("div",{className:"flex space-x-3",children:["preview-mapping"===i&&(0,e.jsx)("button",{onClick:async()=>{if(c)try{a("import-progress"),b(!0);const e=await window.electronAPI.fileImport.performBatchImport(u,e=>{g(e)});m(e),a("complete"),s?.(e)}catch(e){alert(`Import fehlgeschlagen: ${e}`)}finally{b(!1)}},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Import starten"}),"complete"===i&&(0,e.jsx)("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Schließen"})]})]})]})}):null},i=({isOpen:t,onClose:r,onExportComplete:s})=>{const[i,a]=(0,n.useState)({format:"csv",include_assignments:!0,include_teachers:!1,include_courses:!1,date_range:void 0}),[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)({current_item:0,total_items:0,current_operation:"",percentage:0}),[u,h]=(0,n.useState)(null),[f,g]=(0,n.useState)(!1),[p,m]=(0,n.useState)((new Date).toISOString().split("T")[0]),[v,b]=(0,n.useState)(new Date(Date.now()+2592e6).toISOString().split("T")[0]),y=(e,t)=>{a(n=>({...n,[e]:t}))},x=(e,t)=>{"start"===e?m(t):b(t),f&&a(n=>({...n,date_range:{start:"start"===e?t:p,end:"end"===e?t:v}}))},w=(0,n.useCallback)(async()=>{try{o(!0),h(null);const e=await window.electronAPI.fileExport.exportData(i,void 0,e=>{d(e)});h(e),s?.(e)}catch(e){h({success:!1,error_message:e instanceof Error?e.message:"Unbekannter Fehler",exported_count:0})}finally{o(!1)}},[i,s]),S=e=>{switch(e){case"ical":return"iCal-Format für Kalender-Anwendungen (Outlook, Google Calendar, etc.)";case"csv":return"CSV-Format für Tabellenkalkulationen (Excel, LibreOffice Calc, etc.)";case"pdf":return"PDF-Format für Berichte und Präsentationen";case"json":return"JSON-Format für Backup und Datenübertragung";default:return""}},_=t=>{switch(t){case"ical":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"csv":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})});case"pdf":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"json":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}},k=()=>{h(null),o(!1),d({current_item:0,total_items:0,current_operation:"",percentage:0})},E=()=>{k(),r()};return t?(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full m-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,e.jsxs)("div",{className:"bg-green-600 text-white p-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Daten exportieren"}),(0,e.jsx)("button",{onClick:E,className:"text-white hover:text-gray-200 transition-colors",children:(0,e.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,e.jsx)("p",{className:"mt-2 text-green-100",children:"Exportieren Sie Ihre Daten in verschiedene Formate für weitere Verwendung."})]}),(0,e.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[!l&&!u&&(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Export-Format wählen:"}),(0,e.jsx)("div",{className:"grid grid-cols-1 gap-3",children:["ical","csv","pdf","json"].map(t=>(0,e.jsx)("label",{className:"cursor-pointer",children:(0,e.jsx)("div",{className:"border-2 rounded-lg p-4 transition-colors "+(i.format===t?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"),children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"radio",name:"format",value:t,checked:i.format===t,onChange:e=>y("format",e.target.value),className:"mr-3"}),(0,e.jsxs)("div",{className:"flex items-center flex-1",children:[(0,e.jsx)("div",{className:"mr-3 text-green-600",children:_(t)}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"font-semibold text-gray-900 uppercase",children:t}),(0,e.jsx)("div",{className:"text-sm text-gray-600",children:S(t)})]})]})]})})},t))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daten zum Export auswählen:"}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("label",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"checkbox",checked:i.include_assignments||!1,onChange:e=>y("include_assignments",e.target.checked),className:"mr-3"}),(0,e.jsx)("span",{className:"text-gray-700",children:"Zuweisungen einschließen"})]}),(0,e.jsxs)("label",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"checkbox",checked:i.include_teachers||!1,onChange:e=>y("include_teachers",e.target.checked),className:"mr-3"}),(0,e.jsx)("span",{className:"text-gray-700",children:"Lehrer einschließen"})]}),(0,e.jsxs)("label",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"checkbox",checked:i.include_courses||!1,onChange:e=>y("include_courses",e.target.checked),className:"mr-3"}),(0,e.jsx)("span",{className:"text-gray-700",children:"Kurse einschließen"})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Datumsbereich (optional):"}),(0,e.jsxs)("label",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"checkbox",checked:f,onChange:e=>{return t=e.target.checked,g(t),void a(t?e=>({...e,date_range:{start:p,end:v}}):e=>({...e,date_range:void 0}));var t},className:"mr-2"}),(0,e.jsx)("span",{className:"text-sm text-gray-600",children:"Datumsbereich aktivieren"})]})]}),f&&(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Von:"}),(0,e.jsx)("input",{type:"date",value:p,onChange:e=>x("start",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 w-full"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bis:"}),(0,e.jsx)("input",{type:"date",value:v,onChange:e=>x("end",e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 w-full"})]})]})]}),"ical"===i.format&&(0,e.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"font-semibold text-blue-900",children:"iCal Export-Hinweise:"}),(0,e.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:"Der iCal-Export erstellt Kalendertermine für alle geplanten Unterrichtsstunden. Diese können in Outlook, Google Calendar und andere Kalender-Anwendungen importiert werden."})]})]})})]}),l&&(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)("div",{className:"animate-spin mx-auto h-16 w-16 border-4 border-green-600 border-t-transparent rounded-full mb-4"}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Export wird durchgeführt..."}),(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:c.current_operation}),(0,e.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,e.jsx)("div",{className:"bg-gray-200 rounded-full h-3 mb-2",children:(0,e.jsx)("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${c.percentage}%`}})}),(0,e.jsxs)("div",{className:"text-sm text-gray-600",children:[c.percentage,"% - ",c.current_item," von ",c.total_items]})]})]}),u&&(0,e.jsxs)("div",{className:"text-center py-8",children:[(0,e.jsx)("div",{className:"mx-auto h-16 w-16 rounded-full flex items-center justify-center mb-4 "+(u.success?"bg-green-100":"bg-red-100"),children:u.success?(0,e.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,e.jsx)("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,e.jsx)("h3",{className:"text-lg font-semibold mb-2 "+(u.success?"text-green-900":"text-red-900"),children:u.success?"Export erfolgreich!":"Export fehlgeschlagen"}),u.success?(0,e.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 max-w-md mx-auto",children:[(0,e.jsxs)("p",{className:"text-green-800 mb-2",children:[u.exported_count," Einträge erfolgreich exportiert."]}),u.file_path&&(0,e.jsxs)("p",{className:"text-sm text-green-700 break-all",children:["Gespeichert unter: ",u.file_path]})]}):(0,e.jsx)("div",{className:"bg-red-50 rounded-lg p-4 max-w-md mx-auto",children:(0,e.jsx)("p",{className:"text-red-800",children:u.error_message})})]})]}),(0,e.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-between",children:[(0,e.jsx)("div",{}),(0,e.jsxs)("div",{className:"flex space-x-3",children:[!l&&!u&&(0,e.jsx)("button",{onClick:w,disabled:!i.include_assignments&&!i.include_teachers&&!i.include_courses,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Export starten"}),u&&(0,e.jsx)("button",{onClick:k,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors mr-2",children:"Neuer Export"}),(0,e.jsx)("button",{onClick:E,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Schließen"})]})]})]})}):null},a=()=>{const[t,r]=(0,n.useState)({teacherCount:0,courseCount:0,assignmentCount:0,conflictCount:0}),[a,l]=(0,n.useState)(!0),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{h()},[]);const h=async()=>{try{l(!0);const[e,t,n]=await Promise.all([window.electronAPI.database.getAllTeachers(),window.electronAPI.database.getAllCourses(),window.electronAPI.database.getAllAssignments()]),s=0;r({teacherCount:e.length,courseCount:t.length,assignmentCount:n.length,conflictCount:s})}catch(e){console.error("Failed to load dashboard stats:",e)}finally{l(!1)}};return a?(0,e.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Teacher Course Assignment"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Your AI-powered desktop application for optimal teacher-course assignments. Manage your teachers, courses, and let AI handle the complex assignment optimization."})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,e.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:(0,e.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.teacherCount}),(0,e.jsx)("p",{className:"text-gray-600",children:"Teachers"})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:(0,e.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.courseCount}),(0,e.jsx)("p",{className:"text-gray-600",children:"Courses"})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 rounded-full bg-purple-100 mr-4",children:(0,e.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.assignmentCount}),(0,e.jsx)("p",{className:"text-gray-600",children:"Assignments"})]})]})}),(0,e.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"p-3 rounded-full mr-4 "+(t.conflictCount>0?"bg-red-100":"bg-gray-100"),children:(0,e.jsx)("svg",{className:"w-6 h-6 "+(t.conflictCount>0?"text-red-600":"text-gray-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.conflictCount}),(0,e.jsx)("p",{className:"text-gray-600",children:"Conflicts"})]})]})})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Assignment Generation"}),(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:"Use our AI-powered algorithm to automatically generate optimal teacher-course assignments based on qualifications, availability, and workload balancing."}),(0,e.jsx)("button",{onClick:async()=>{try{if(l(!0),0===t.teacherCount)return void alert("Please add teachers before generating assignments");if(0===t.courseCount)return void alert("Please add courses before generating assignments");const e=await window.electronAPI.assignment.generate();if(0===e.length)return void alert("No assignments could be generated. Please ensure teachers have qualifications that match course topics exactly.");alert(`Successfully generated ${e.length} assignments! Check the Assignments tab to view results.`),await h()}catch(e){console.error("Failed to generate assignments:",e),alert("Failed to generate assignments: "+(e instanceof Error?e.message:"Unknown error"))}finally{l(!1)}},disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Generate Assignments"})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daten importieren"}),(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:"Importieren Sie Lehrer-, Kurs- oder Zuweisungsdaten aus CSV-Dateien. Die KI hilft bei der automatischen Spaltenzuordnung."}),(0,e.jsx)("button",{onClick:()=>c(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"CSV importieren"})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daten exportieren"}),(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:"Exportieren Sie Ihre Daten in verschiedene Formate: iCal, CSV, PDF oder JSON für weitere Verwendung oder Backup."}),(0,e.jsx)("button",{onClick:()=>u(!0),disabled:0===t.teacherCount&&0===t.courseCount&&0===t.assignmentCount,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Daten exportieren"})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,e.jsx)("div",{className:"space-y-3",children:0===t.teacherCount&&0===t.courseCount?(0,e.jsxs)("div",{className:"text-center py-4",children:[(0,e.jsx)("p",{className:"text-gray-500 mb-2",children:"No activity yet"}),(0,e.jsx)("p",{className:"text-sm text-gray-400",children:"Start by adding teachers and courses or importing data"})]}):(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center text-sm",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),(0,e.jsx)("span",{className:"text-gray-600",children:"Database initialized"})]}),t.teacherCount>0&&(0,e.jsxs)("div",{className:"flex items-center text-sm",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-3"}),(0,e.jsxs)("span",{className:"text-gray-600",children:[t.teacherCount," teachers loaded"]})]}),t.courseCount>0&&(0,e.jsxs)("div",{className:"flex items-center text-sm",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),(0,e.jsxs)("span",{className:"text-gray-600",children:[t.courseCount," courses loaded"]})]}),t.assignmentCount>0&&(0,e.jsxs)("div",{className:"flex items-center text-sm",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mr-3"}),(0,e.jsxs)("span",{className:"text-gray-600",children:[t.assignmentCount," assignments created"]})]})]})})]}),0===t.teacherCount||0===t.courseCount?(0,e.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Getting Started"}),(0,e.jsx)("p",{className:"text-blue-700 mb-4",children:"To begin using the AI assignment system, you'll need to:"}),(0,e.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("span",{className:"w-6 h-6 bg-blue-200 rounded-full text-blue-800 text-xs flex items-center justify-center mr-3",children:"1"}),"Add teachers with their qualifications and availability"]}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("span",{className:"w-6 h-6 bg-blue-200 rounded-full text-blue-800 text-xs flex items-center justify-center mr-3",children:"2"}),"Create courses with their requirements and schedules"]}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("span",{className:"w-6 h-6 bg-blue-200 rounded-full text-blue-800 text-xs flex items-center justify-center mr-3",children:"3"}),"Generate AI-powered assignments"]})]})]}):null,(0,e.jsx)(s,{isOpen:o,onClose:()=>c(!1),onImportComplete:e=>{console.log("Import completed:",e),h(),e.success&&alert(`Import erfolgreich! ${e.imported_count} Einträge importiert.`)}}),(0,e.jsx)(i,{isOpen:d,onClose:()=>u(!1),onExportComplete:e=>{console.log("Export completed:",e),e.success&&alert(`Export erfolgreich! ${e.exported_count} Einträge exportiert.`)}})]})},l=({teacher:t,onSave:r,onCancel:s})=>{const[i,a]=(0,n.useState)({name:"",qualifications:[],working_times:{}}),[l,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null),f={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};(0,n.useEffect)(()=>{t&&a({name:t.name,qualifications:[...t.qualifications],working_times:{...t.working_times}})},[t]);const g=()=>{const e=l.trim();e&&!i.qualifications.includes(e)&&(a(t=>({...t,qualifications:[...t.qualifications,e]})),o(""))},p=(e,t,n)=>{a(r=>({...r,working_times:{...r.working_times,[e]:{...r.working_times[e],[t]:n}}}))};return(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Teacher":"Add New Teacher"}),(0,e.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,e.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&(0,e.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:u}),(0,e.jsxs)("form",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teacher Name *"}),(0,e.jsx)("input",{type:"text",value:i.name,onChange:e=>{a(t=>({...t,name:e.target.value}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter teacher name",required:!0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Qualifications *"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&l.trim()&&(e.preventDefault(),g())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Add a qualification (e.g., Mathematics, Physics)"}),(0,e.jsx)("button",{type:"button",onClick:g,disabled:!l.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add"})]}),i.qualifications.length>0&&(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:i.qualifications.map((t,n)=>(0,e.jsxs)("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[t,(0,e.jsx)("button",{type:"button",onClick:()=>(e=>{a(t=>({...t,qualifications:t.qualifications.filter((t,n)=>n!==e)}))})(n),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},n))})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Working Schedule"}),(0,e.jsx)("div",{className:"space-y-3",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(t=>{const n=!!i.working_times[t],r=i.working_times[t];return(0,e.jsxs)("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"checkbox",id:t,checked:n,onChange:()=>(e=>{a(t=>({...t,working_times:{...t.working_times,[e]:t.working_times[e]?void 0:{start:"09:00",end:"17:00"}}}))})(t),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,e.jsx)("label",{htmlFor:t,className:"ml-2 text-sm font-medium text-gray-700 w-20",children:f[t]})]}),n&&(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("input",{type:"time",value:r?.start||"09:00",onChange:e=>p(t,"start",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,e.jsx)("span",{className:"text-gray-500",children:"to"}),(0,e.jsx)("input",{type:"time",value:r?.end||"17:00",onChange:e=>p(t,"end",e.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]},t)})})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,e.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,e.jsxs)("button",{type:"button",onClick:async()=>{if(h(null),(()=>{if(!i.name.trim())return h("Teacher name is required"),!1;if(0===i.qualifications.length)return h("At least one qualification is required"),!1;for(const[e,t]of Object.entries(i.working_times)){if(t&&(!t.start||!t.end))return h(`Please set both start and end times for ${f[e]}`),!1;if(t&&t.start>=t.end)return h(`End time must be after start time for ${f[e]}`),!1}return!0})())try{d(!0),t?await window.electronAPI.database.updateTeacher(t.id,i):await window.electronAPI.database.createTeacher(i),r()}catch(e){console.error("Failed to save teacher:",e),h(`Failed to ${t?"update":"create"} teacher`)}finally{d(!1)}},disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed flex items-center",children:[c&&(0,e.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,e.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,e.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c?"Saving...":t?"Update Teacher":"Create Teacher"]})]})]})]})})},o=()=>{const[t,r]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[a,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null);(0,n.useEffect)(()=>{f()},[]);const f=async()=>{try{i(!0),o(null);const e=await window.electronAPI.database.getAllTeachers();r(e)}catch(e){console.error("Failed to load teachers:",e),o("Failed to load teachers")}finally{i(!1)}},g=()=>{h(null),d(!0)},p=e=>{if(!e||0===Object.keys(e).length)return"No availability set";const t=Object.keys(e).filter(t=>e[t]);return 0===t.length?"No availability set":`${t.length} day${1!==t.length?"s":""} available`};return s?(0,e.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Teachers"}),(0,e.jsxs)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Teacher"]})]})}),a&&(0,e.jsx)("div",{className:"px-6 py-4 bg-red-50 border-l-4 border-red-400",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:a})]})}),(0,e.jsx)("div",{className:"p-6",children:0===t.length?(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,e.jsx)("h3",{className:"mt-2 text-lg font-semibold text-gray-600",children:"No Teachers Yet"}),(0,e.jsx)("p",{className:"mt-1 text-gray-500 mb-4",children:"Get started by adding your first teacher to the system."}),(0,e.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add First Teacher"})]}):(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>{return(0,e.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,e.jsx)("span",{className:"text-blue-600 font-semibold text-lg",children:t.name.charAt(0).toUpperCase()})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,e.jsxs)("p",{className:"text-sm text-gray-500",children:["Teacher ID: ",t.id]})]})]}),(0,e.jsxs)("div",{className:"flex space-x-1",children:[(0,e.jsx)("button",{onClick:()=>(e=>{h(e),d(!0)})(t),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Teacher",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,e.jsx)("button",{onClick:()=>(async(e,t)=>{if(confirm(`Are you sure you want to delete teacher "${t}"?`))try{await window.electronAPI.database.deleteTeacher(e),await f()}catch(e){console.error("Failed to delete teacher:",e),o("Failed to delete teacher")}})(t.id,t.name),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Teacher",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Qualifications"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:(n=t.qualifications,n&&0!==n.length?n.join(", "):"No qualifications")})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Availability"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:p(t.working_times)})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Added"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.created_at).toLocaleDateString()})]})]})]},t.id);var n})})})]}),c&&(0,e.jsx)(l,{teacher:u,onSave:async()=>{d(!1),h(null),await f()},onCancel:()=>{d(!1),h(null)}})]})},c=({course:t,onSave:r,onCancel:s})=>{const[i,a]=(0,n.useState)({topic:"",lessons_count:1,lesson_duration:60,start_date:"",end_date:""}),[l,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{t&&a({topic:t.topic,lessons_count:t.lessons_count,lesson_duration:t.lesson_duration,start_date:t.start_date,end_date:t.end_date})},[t]);const u=(e,t)=>{a(n=>({...n,[e]:t}))},h=()=>{const e=i.lessons_count*i.lesson_duration;if(e<60)return`${e} minutes`;const t=Math.floor(e/60),n=e%60;return n>0?`${t}h ${n}m`:`${t} hours`};return(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Course":"Add New Course"}),(0,e.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,e.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&(0,e.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),(0,e.jsxs)("form",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Topic *"}),(0,e.jsx)("input",{type:"text",value:i.topic,onChange:e=>u("topic",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Mathematics, Physics, Chemistry",required:!0}),(0,e.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This should match exactly with teacher qualifications for assignment"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Lessons *"}),(0,e.jsx)("input",{type:"number",min:"1",value:i.lessons_count,onChange:e=>u("lessons_count",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lesson Duration (minutes) *"}),(0,e.jsxs)("select",{value:i.lesson_duration,onChange:e=>u("lesson_duration",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,e.jsx)("option",{value:30,children:"30 minutes"}),(0,e.jsx)("option",{value:45,children:"45 minutes"}),(0,e.jsx)("option",{value:60,children:"60 minutes"}),(0,e.jsx)("option",{value:90,children:"90 minutes"}),(0,e.jsx)("option",{value:120,children:"120 minutes"}),(0,e.jsx)("option",{value:180,children:"180 minutes"})]})]})]}),i.lessons_count>0&&i.lesson_duration>0&&(0,e.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Total Course Duration"}),(0,e.jsx)("p",{className:"text-sm text-blue-700",children:h()})]})]})}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),(0,e.jsx)("input",{type:"date",value:i.start_date,onChange:e=>u("start_date",e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),(0,e.jsx)("input",{type:"date",value:i.end_date,onChange:e=>u("end_date",e.target.value),min:(()=>{if(!i.start_date)return"";const e=new Date(i.start_date);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),i.topic&&i.start_date&&i.end_date&&(0,e.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,e.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Course Summary"}),(0,e.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Topic:"})," ",i.topic]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Schedule:"})," ",new Date(i.start_date).toLocaleDateString()," - ",new Date(i.end_date).toLocaleDateString()]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"Structure:"})," ",i.lessons_count," lessons × ",i.lesson_duration," minutes = ",h()]})]})]}),(0,e.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,e.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,e.jsxs)("button",{type:"button",onClick:async()=>{if(d(null),i.topic.trim()?i.lessons_count<1?(d("Number of lessons must be at least 1"),0):i.lesson_duration<1?(d("Lesson duration must be at least 1 minute"),0):i.start_date?i.end_date?!(new Date(i.end_date)<=new Date(i.start_date)&&(d("End date must be after start date"),1)):(d("End date is required"),0):(d("Start date is required"),0):(d("Course topic is required"),0))try{o(!0),t?await window.electronAPI.database.updateCourse(t.id,i):await window.electronAPI.database.createCourse(i),r()}catch(e){console.error("Failed to save course:",e),d(`Failed to ${t?"update":"create"} course`)}finally{o(!1)}},disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed flex items-center",children:[l&&(0,e.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,e.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,e.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l?"Saving...":t?"Update Course":"Create Course"]})]})]})]})})},d=()=>{const[t,r]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[a,l]=(0,n.useState)(null),[o,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null);(0,n.useEffect)(()=>{f()},[]);const f=async()=>{try{i(!0),l(null);const e=await window.electronAPI.database.getAllCourses();r(e)}catch(e){console.error("Failed to load courses:",e),l("Failed to load courses")}finally{i(!1)}},g=()=>{h(null),d(!0)},p=e=>{if(e<60)return`${e} min`;const t=Math.floor(e/60),n=e%60;return n>0?`${t}h ${n}m`:`${t}h`};return s?(0,e.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Courses"}),(0,e.jsxs)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Course"]})]})}),a&&(0,e.jsx)("div",{className:"px-6 py-4 bg-red-50 border-l-4 border-red-400",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:a})]})}),(0,e.jsx)("div",{className:"p-6",children:0===t.length?(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,e.jsx)("h3",{className:"mt-2 text-lg font-semibold text-gray-600",children:"No Courses Yet"}),(0,e.jsx)("p",{className:"mt-1 text-gray-500 mb-4",children:"Get started by adding your first course to the system."}),(0,e.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add First Course"})]}):(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>{return(0,e.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center flex-1",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,e.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,e.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.topic}),(0,e.jsxs)("p",{className:"text-sm text-gray-500",children:["Course ID: ",t.id]})]})]}),(0,e.jsxs)("div",{className:"flex space-x-1 ml-2",children:[(0,e.jsx)("button",{onClick:()=>(e=>{h(e),d(!0)})(t),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Course",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,e.jsx)("button",{onClick:()=>(async(e,t)=>{if(confirm(`Are you sure you want to delete course "${t}"?`))try{await window.electronAPI.database.deleteCourse(e),await f()}catch(e){console.error("Failed to delete course:",e),l("Failed to delete course")}})(t.id,t.topic),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete Course",children:(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Schedule"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:(s=t.start_date,i=t.end_date,`${new Date(s).toLocaleDateString()} - ${new Date(i).toLocaleDateString()}`)})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Lessons"}),(0,e.jsxs)("p",{className:"text-sm text-gray-600",children:[t.lessons_count," sessions"]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Duration"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:p(t.lesson_duration)})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Time"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:(n=t.lessons_count,r=t.lesson_duration,p(n*r))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Added"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.created_at).toLocaleDateString()})]})]})]},t.id);var n,r,s,i})})})]}),o&&(0,e.jsx)(c,{course:u,onSave:async()=>{d(!1),h(null),await f()},onCancel:()=>{d(!1),h(null)}})]})},u=()=>{const[t,r]=(0,n.useState)([]),[s,i]=(0,n.useState)(!1),[a,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)({equality:33,continuity:33,loyalty:34}),h=async e=>{try{i(!0),l(null);const t=await window.electronAPI.assignment.generate(e||d);r(t)}catch(e){console.error("Failed to generate assignments:",e),l(e instanceof Error?e.message:"Failed to generate assignments")}finally{i(!1)}},f=()=>{h()},g=(e,t)=>{const n={...d,[e]:t};if(100!==n.equality+n.continuity+n.loyalty){const r=100-t,s=Object.keys(n).filter(t=>t!==e),i=s.reduce((e,t)=>e+d[t],0);if(i>0){s.forEach(e=>{n[e]=Math.round(d[e]/i*r)});const e=100-Object.values(n).reduce((e,t)=>e+t,0);0!==e&&(n[s[0]]+=e)}}u(n)},p=e=>`${Math.round(100*e)}%`;return s?(0,e.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Generating optimal assignments..."})]})}):(0,e.jsx)("div",{className:"space-y-6",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,e.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Assignment Results"}),(0,e.jsxs)("div",{className:"flex space-x-2",children:[(0,e.jsxs)("button",{onClick:()=>c(!o),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),"Adjust Weights"]}),(0,e.jsxs)("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Generate Assignments"]})]})]}),(0,e.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Current weights: Equality ",d.equality,"% • Continuity ",d.continuity,"% • Loyalty ",d.loyalty,"%"]})]}),o&&(0,e.jsxs)("div",{className:"px-6 py-4 bg-purple-50 border-b border-purple-200",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assignment Weighting Controls"}),(0,e.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Equality (Gleichmäßigkeit): ",d.equality,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:d.equality,onChange:e=>g("equality",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Distribute workload evenly among teachers"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Continuity (Kontinuität): ",d.continuity,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:d.continuity,onChange:e=>g("continuity",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Prefer consistent scheduling patterns"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Loyalty (Lehrertreue): ",d.loyalty,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:d.loyalty,onChange:e=>g("loyalty",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Keep teachers with their familiar subjects"})]})]}),(0,e.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,e.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,e.jsx)("button",{onClick:()=>{h(d),c(!1)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Generate with New Weights"})]})]}),a&&(0,e.jsx)("div",{className:"px-6 py-4 bg-red-50 border-l-4 border-red-400",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:a})]})}),(0,e.jsx)("div",{className:"p-6",children:0===t.length?(0,e.jsxs)("div",{className:"text-center py-12",children:[(0,e.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),(0,e.jsx)("h3",{className:"mt-2 text-lg font-semibold text-gray-600",children:"No Assignments Generated Yet"}),(0,e.jsx)("p",{className:"mt-1 text-gray-500 mb-4",children:"Use the AI-powered assignment system to automatically match teachers to courses."}),(0,e.jsx)("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Generate Assignments Now"})]}):(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,e.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Assignment Summary"}),(0,e.jsxs)("p",{className:"text-sm text-blue-700",children:["Generated ",t.length," assignments using AI optimization"]})]}),t.map((t,n)=>{return(0,e.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,e.jsx)("span",{className:"text-blue-600 font-semibold",children:t.teacher.name.charAt(0)})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[t.teacher.name," → ",t.course.topic]}),(0,e.jsxs)("p",{className:"text-sm text-gray-500",children:["Teacher ID: ",t.teacher.id," • Course ID: ",t.course.id]})]})]}),(0,e.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-medium "+(r=t.score,r>=80?"text-green-600 bg-green-100":r>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"),children:["Score: ",p(t.score)]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Lessons"}),(0,e.jsxs)("p",{className:"text-sm text-gray-600",children:[t.course.lessons_count," sessions"]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Duration"}),(0,e.jsxs)("p",{className:"text-sm text-gray-600",children:[t.course.lesson_duration," min each"]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Period"}),(0,e.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date(t.course.start_date).toLocaleDateString()," - ",new Date(t.course.end_date).toLocaleDateString()]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Status"}),(0,e.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:t.assignment.status})]})]}),t.assignment.ai_rationale&&(0,e.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-3 mb-3",children:[(0,e.jsx)("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"AI Rationale"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:t.assignment.ai_rationale})]}),t.conflicts&&t.conflicts.length>0&&(0,e.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:[(0,e.jsxs)("h4",{className:"text-xs font-medium text-yellow-800 mb-2 flex items-center",children:[(0,e.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Conflicts Detected"]}),t.conflicts.map((t,n)=>(0,e.jsx)("p",{className:"text-xs text-yellow-700",children:t.description},n))]})]},n);var r})]})})]})})},h=()=>(0,e.jsx)(u,{});var f,g,p,m,v,b,y,x,w,S=__webpack_require__(961),_={},k=[],E=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(e,t){for(var n in t)e[n]=t[n];return e}function N(e){var t=e.parentNode;t&&t.removeChild(e)}function A(e,t,n){var r,s,i,a={};for(i in t)"key"==i?r=t[i]:"ref"==i?s=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?f.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return j(e,a,r,s,null)}function j(e,t,n,r,s){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++p:s};return null==s&&null!=g.vnode&&g.vnode(i),i}function D(e){return e.children}function T(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||E.test(t)?n:n+"px"}function R(e,t,n,r,s){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||T(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||T(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?I:M,i):e.removeEventListener(t,i?I:M,i);else if("dangerouslySetInnerHTML"!==t){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function M(e){v=!0;try{return this.l[e.type+!1](g.event?g.event(e):e)}finally{v=!1}}function I(e){v=!0;try{return this.l[e.type+!0](g.event?g.event(e):e)}finally{v=!1}}function P(e,t){this.props=e,this.context=t}function O(e,t){if(null==t)return e.__?O(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?O(e):null}function L(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return L(e)}}function z(e){v?setTimeout(e):x(e)}function B(e){(!e.__d&&(e.__d=!0)&&b.push(e)&&!H.__r++||y!==g.debounceRendering)&&((y=g.debounceRendering)||z)(H)}function H(){var e,t,n,r,s,i,a,l;for(b.sort(function(e,t){return e.__v.__b-t.__v.__b});e=b.shift();)e.__d&&(t=b.length,r=void 0,s=void 0,a=(i=(n=e).__v).__e,(l=n.__P)&&(r=[],(s=C({},i)).__v=i.__v+1,G(l,i,s,n.__n,void 0!==l.ownerSVGElement,null!=i.__h?[a]:null,r,null==a?O(i):a,i.__h),$(r,i),i.__e!=a&&L(i)),b.length>t&&b.sort(function(e,t){return e.__v.__b-t.__v.__b}));H.__r=0}function F(e,t,n,r,s,i,a,l,o,c){var d,u,h,f,g,p,m,v=r&&r.__k||k,b=v.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(f=n.__k[d]=null==(f=t[d])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?j(null,f,null,null,f):Array.isArray(f)?j(D,{children:f},null,null,null):f.__b>0?j(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[d])||h&&f.key==h.key&&f.type===h.type)v[d]=void 0;else for(u=0;u<b;u++){if((h=v[u])&&f.key==h.key&&f.type===h.type){v[u]=void 0;break}h=null}G(e,f,h=h||_,s,i,a,l,o,c),g=f.__e,(u=f.ref)&&h.ref!=u&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(u,f.__c||g,f)),null!=g?(null==p&&(p=g),"function"==typeof f.type&&f.__k===h.__k?f.__d=o=U(f,o,e):o=V(e,f,h,v,g,o),"function"==typeof n.type&&(n.__d=o)):o&&h.__e==o&&o.parentNode!=e&&(o=O(h))}for(n.__e=p,d=b;d--;)null!=v[d]&&("function"==typeof n.type&&null!=v[d].__e&&v[d].__e==n.__d&&(n.__d=q(r).nextSibling),Z(v[d],v[d]));if(m)for(d=0;d<m.length;d++)Y(m[d],m[++d],m[++d])}function U(e,t,n){for(var r,s=e.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=e,t="function"==typeof r.type?U(r,t,n):V(n,r,r,s,r.__e,t));return t}function W(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){W(e,t)}):t.push(e)),t}function V(e,t,n,r,s,i){var a,l,o;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||s!=i||null==s.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(s),a=null;else{for(l=i,o=0;(l=l.nextSibling)&&o<r.length;o+=1)if(l==s)break e;e.insertBefore(s,i),a=i}return void 0!==a?a:s.nextSibling}function q(e){var t,n,r;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=q(n)))return r;return null}function G(e,t,n,r,s,i,a,l,o){var c,d,u,h,f,p,m,v,b,y,x,w,S,_,k,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(o=n.__h,l=t.__e=n.__e,t.__h=null,i=[l]),(c=g.__b)&&c(t);try{e:if("function"==typeof E){if(v=t.props,b=(c=E.contextType)&&r[c.__c],y=c?b?b.props.value:c.__:r,n.__c?m=(d=t.__c=n.__c).__=d.__E:("prototype"in E&&E.prototype.render?t.__c=d=new E(v,y):(t.__c=d=new P(v,y),d.constructor=E,d.render=K),b&&b.sub(d),d.props=v,d.state||(d.state={}),d.context=y,d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=C({},d.__s)),C(d.__s,E.getDerivedStateFromProps(v,d.__s))),h=d.props,f=d.state,d.__v=t,u)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&v!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(v,y),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(v,d.__s,y)||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),x=0;x<d._sb.length;x++)d.__h.push(d._sb[x]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(v,d.__s,y),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,p)})}if(d.context=y,d.props=v,d.__P=e,w=g.__r,S=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[]}else do{d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=C(C({},r),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(p=d.getSnapshotBeforeUpdate(h,f)),k=null!=c&&c.type===D&&null==c.key?c.props.children:c,F(e,Array.isArray(k)?k:[k],t,n,r,s,i,a,l,o),d.base=t.__e,t.__h=null,d.__h.length&&a.push(d),m&&(d.__E=d.__=null),d.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Q(n.__e,t,n,r,s,i,a,o);(c=g.diffed)&&c(t)}catch(e){t.__v=null,(o||null!=i)&&(t.__e=l,t.__h=!!o,i[i.indexOf(l)]=null),g.__e(e,t,n)}}function $(e,t){g.__c&&g.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){g.__e(e,t.__v)}})}function Q(e,t,n,r,s,i,a,l){var o,c,d,u=n.props,h=t.props,g=t.type,p=0;if("svg"===g&&(s=!0),null!=i)for(;p<i.length;p++)if((o=i[p])&&"setAttribute"in o==!!g&&(g?o.localName===g:3===o.nodeType)){e=o,i[p]=null;break}if(null==e){if(null===g)return document.createTextNode(h);e=s?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,h.is&&h),i=null,l=!1}if(null===g)u===h||l&&e.data===h||(e.data=h);else{if(i=i&&f.call(e.childNodes),c=(u=n.props||_).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!l){if(null!=i)for(u={},p=0;p<e.attributes.length;p++)u[e.attributes[p].name]=e.attributes[p].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,n,r,s){var i;for(i in n)"children"===i||"key"===i||i in t||R(e,i,null,n[i],r);for(i in t)s&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||R(e,i,t[i],n[i],r)}(e,h,u,s,l),d)t.__k=[];else if(p=t.props.children,F(e,Array.isArray(p)?p:[p],t,n,r,s&&"foreignObject"!==g,i,a,i?i[0]:n.__k&&O(n,0),l),null!=i)for(p=i.length;p--;)null!=i[p]&&N(i[p]);l||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===g&&!p||"option"===g&&p!==u.value)&&R(e,"value",p,u.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&R(e,"checked",p,u.checked,!1))}return e}function Y(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){g.__e(e,n)}}function Z(e,t,n){var r,s;if(g.unmount&&g.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Y(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){g.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Z(r[s],t,n||"function"!=typeof e.type);n||null==e.__e||N(e.__e),e.__=e.__e=e.__d=void 0}function K(e,t,n){return this.constructor(e,n)}function X(e,t,n){var r,s,i;g.__&&g.__(e,t),s=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],G(t,e=(!r&&n||t).__k=A(D,null,[e]),s||_,_,void 0!==t.ownerSVGElement,!r&&n?[n]:s?null:t.firstChild?f.call(t.childNodes):null,i,!r&&n?n:s?s.__e:t.firstChild,r),$(i,e)}f=k.slice,g={__e:function(e,t,n,r){for(var s,i,a;t=t.__;)if((s=t.__c)&&!s.__)try{if((i=s.constructor)&&null!=i.getDerivedStateFromError&&(s.setState(i.getDerivedStateFromError(e)),a=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,r||{}),a=s.__d),a)return s.__E=s}catch(t){e=t}throw e}},p=0,m=function(e){return null!=e&&void 0===e.constructor},v=!1,P.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=C({},this.state),"function"==typeof e&&(e=e(C({},n),this.props)),e&&C(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),B(this))},P.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),B(this))},P.prototype.render=D,b=[],x="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,H.__r=0,w=0;var J,ee,te,ne=[],re=[],se=g.__b,ie=g.__r,ae=g.diffed,le=g.__c,oe=g.unmount;function ce(){for(var e;e=ne.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(he),e.__H.__h.forEach(fe),e.__H.__h=[]}catch(t){e.__H.__h=[],g.__e(t,e.__v)}}g.__b=function(e){J=null,se&&se(e)},g.__r=function(e){ie&&ie(e);var t=(J=e.__c).__H;t&&(ee===J?(t.__h=[],J.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=re,e.__N=e.i=void 0})):(t.__h.forEach(he),t.__h.forEach(fe),t.__h=[])),ee=J},g.diffed=function(e){ae&&ae(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ne.push(t)&&te===g.requestAnimationFrame||((te=g.requestAnimationFrame)||ue)(ce)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==re&&(e.__=e.__V),e.i=void 0,e.__V=re})),ee=J=null},g.__c=function(e,t){t.some(function(e){try{e.__h.forEach(he),e.__h=e.__h.filter(function(e){return!e.__||fe(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],g.__e(n,e.__v)}}),le&&le(e,t)},g.unmount=function(e){oe&&oe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{he(e)}catch(e){t=e}}),n.__H=void 0,t&&g.__e(t,n.__v))};var de="function"==typeof requestAnimationFrame;function ue(e){var t,n=function(){clearTimeout(r),de&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);de&&(t=requestAnimationFrame(n))}function he(e){var t=J,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),J=t}function fe(e){var t=J;e.__c=e.__(),J=t}function ge(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function pe(e){this.props=e}(pe.prototype=new P).isPureReactComponent=!0,pe.prototype.shouldComponentUpdate=function(e,t){return ge(this.props,e)||ge(this.state,t)};var me=g.__b;g.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),me&&me(e)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ve=g.__e;g.__e=function(e,t,n,r){if(e.then)for(var s,i=t;i=i.__;)if((s=i.__c)&&s.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),s.__c(e,t);ve(e,t,n,r)};var be=g.unmount;function ye(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=function(e,t){for(var n in t)e[n]=t[n];return e}({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return ye(e,t,n)})),e}function xe(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return xe(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function we(){this.__u=0,this.t=null,this.__b=null}function Se(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function _e(){this.u=null,this.o=null}g.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),be&&be(e)},(we.prototype=new P).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var s=Se(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,s?s(l):l())};n.__R=a;var l=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=xe(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},o=!0===t.__h;r.__u++||o||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},we.prototype.componentWillUnmount=function(){this.t=[]},we.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ye(this.__b,n,r.__O=r.__P)}this.__b=null}var s=t.__a&&A(D,null,e.fallback);return s&&(s.__h=null),[A(D,null,t.__a?null:e.children),s]};var ke=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Ee(e){return this.getChildContext=function(){return e.context},e.children}function Ce(e){var t=this,n=e.i;t.componentWillUnmount=function(){X(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),X(A(Ee,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(_e.prototype=new P).__a=function(e){var t=this,n=Se(t.__v),r=t.o.get(e);return r[0]++,function(s){var i=function(){t.props.revealOrder?(r.push(s),ke(t,e,r)):s()};n?n(i):i()}},_e.prototype.render=function(e){this.u=null,this.o=new Map;var t=W(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},_e.prototype.componentDidUpdate=_e.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){ke(e,n,t)})};var Ne="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ae=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,je="undefined"!=typeof document,De=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};P.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(P.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Te=g.event;function Re(){}function Me(){return this.cancelBubble}function Ie(){return this.defaultPrevented}g.event=function(e){return Te&&(e=Te(e)),e.persist=Re,e.isPropagationStopped=Me,e.isDefaultPrevented=Ie,e.nativeEvent=e};var Pe={configurable:!0,get:function(){return this.class}},Oe=g.vnode;g.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var s=-1===t.indexOf("-");for(var i in r={},n){var a=n[i];je&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in n&&null==a||("defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===a?a="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!De(n.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&Ae.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),r[i]&&(i="oninputCapture")),r[i]=a)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=W(n.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==t&&null!=r.defaultValue&&(r.value=W(n.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),e.props=r,n.class!=n.className&&(Pe.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Pe))}e.$$typeof=Ne,Oe&&Oe(e)};var Le=g.__r;g.__r=function(e){Le&&Le(e),e.__c};const ze=[],Be=new Map;function He(e){ze.push(e),Be.forEach(t=>{Ue(t,e)})}function Fe(e){let t=Be.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=(void 0===We&&(We=function(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}()),We);n&&(t.nonce=n);const r=e===document?document.head:e,s=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,s)}Be.set(e,t),function(e){for(const t of ze)Ue(e,t)}(t)}}function Ue(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)})}let We;"undefined"!=typeof document&&Fe(document),He(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class Ve{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function qe(e){e.parentNode&&e.parentNode.removeChild(e)}function Ge(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if($e(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function $e(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}const Qe=/(top|left|right|bottom|width|height)$/i;function Ye(e,t){for(let n in t)Ze(e,n,t[n])}function Ze(e,t,n){null==n?e.style[t]="":"number"==typeof n&&Qe.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function Ke(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}let Xe=0;function Je(){return Xe+=1,"fc-dom-"+Xe}function et(e){e.preventDefault()}function tt(e,t,n,r){let s=function(e,t){return n=>{let r=Ge(n.target,e);r&&t.call(r,n,r)}}(n,r);return e.addEventListener(t,s),()=>{e.removeEventListener(t,s)}}const nt=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function rt(e){return Object.assign({onClick:e},st(e))}function st(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let it=0;function at(){return it+=1,String(it)}function lt(){document.body.classList.add("fc-not-allowed")}function ot(){document.body.classList.remove("fc-not-allowed")}function ct(e,t,n){return n.func?n.func(e,t):function(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}(e[n.field],t[n.field])*(n.order||1)}function dt(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function ut(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,n)=>e.replace("$"+n,t||""),e):n}function ht(e,t){return e-t}function ft(e){return e%1==0}function gt(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const pt=["years","months","days","milliseconds"],mt=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function vt(e,t){return"string"==typeof e?function(e){let t=mt.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?bt(e):"number"==typeof e?bt({[t||"milliseconds"]:e}):null}function bt(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function yt(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function xt(e){return wt(e)/864e5}function wt(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function St(e,t){let n=null;for(let r=0;r<pt.length;r+=1){let s=pt[r];if(t[s]){let r=e[s]/t[s];if(!ft(r)||null!==n&&n!==r)return null;n=r}else if(e[s])return null}return n}function _t(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function kt(e,t,n){if(e===t)return!0;let r,s=e.length;if(s!==t.length)return!1;for(r=0;r<s;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const Et=["sun","mon","tue","wed","thu","fri","sat"];function Ct(e,t){let n=Ot(e);return n[2]+=7*t,Lt(n)}function Nt(e,t){let n=Ot(e);return n[2]+=t,Lt(n)}function At(e,t){let n=Ot(e);return n[6]+=t,Lt(n)}function jt(e,t){return(t.valueOf()-e.valueOf())/864e5}function Dt(e,t){return Bt(e)===Bt(t)?Math.round(jt(e,t)):null}function Tt(e){return Lt([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function Rt(e,t,n,r){let s=Lt([t,0,1+Mt(t,n,r)]),i=Tt(e),a=Math.round(jt(s,i));return Math.floor(a/7)+1}function Mt(e,t,n){let r=7+t-n;return-(7+Lt([e,0,r]).getUTCDay()-t)%7+r-1}function It(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function Pt(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Ot(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Lt(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function zt(e){return!isNaN(e.valueOf())}function Bt(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function Ht(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",Wt(t,!0)))),r}function Ft(e){return e.toISOString().replace(/T.*$/,"")}function Ut(e){return dt(e.getUTCHours(),2)+":"+dt(e.getUTCMinutes(),2)+":"+dt(e.getUTCSeconds(),2)}function Wt(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=Math.round(r%60);return t?`${n+dt(s,2)}:${dt(i,2)}`:`GMT${n}${s}${i?`:${dt(i,2)}`:""}`}function Vt(e,t,n){let r,s;return function(...i){if(r){if(!kt(r,i)){n&&n(s);let r=e.apply(this,i);t&&t(r,s)||(s=r)}}else s=e.apply(this,i);return r=i,s}}function qt(e,t,n){let r,s;return i=>{if(r){if(!kn(r,i)){n&&n(s);let r=e.call(this,i);t&&t(r,s)||(s=r)}}else s=e.call(this,i);return r=i,s}}const Gt={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},$t={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Qt=/\s*([ap])\.?m\.?/i,Yt=/,/g,Zt=/\s+/g,Kt=/\u200e/g,Xt=/UTC|GMT/;class Jt{constructor(e){let t={},n={},r=9;for(let s in e)s in Gt?(n[s]=e[s],Gt[s]<9&&(r=Math.min(Gt[s],r))):(t[s]=e[s],s in $t&&(r=Math.min($t[s],r)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=r,this.buildFormattingFunc=Vt(en)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:s,extendedSettings:i}=this,a=(l=e.marker,o=t.marker,(c=n.calendarSystem).getMarkerYear(l)!==c.getMarkerYear(o)?5:c.getMarkerMonth(l)!==c.getMarkerMonth(o)?4:c.getMarkerDay(l)!==c.getMarkerDay(o)?2:Bt(l)!==Bt(o)?1:0);var l,o,c;if(!a)return this.format(e,n);let d=a;!(d>1)||"numeric"!==s.year&&"2-digit"!==s.year||"numeric"!==s.month&&"2-digit"!==s.month||"numeric"!==s.day&&"2-digit"!==s.day||(d=1);let u=this.format(e,n),h=this.format(t,n);if(u===h)return u;let f=en(function(e,t){let n={};for(let r in e)(!(r in $t)||$t[r]<=t)&&(n[r]=e[r]);return n}(s,d),i,n),g=f(e),p=f(t),m=function(e,t,n,r){let s=0;for(;s<e.length;){let i=e.indexOf(t,s);if(-1===i)break;let a=e.substr(0,i);s=i+t.length;let l=e.substr(s),o=0;for(;o<n.length;){let e=n.indexOf(r,o);if(-1===e)break;let t=n.substr(0,e);o=e+r.length;let s=n.substr(o);if(a===t&&l===s)return{before:a,after:l}}}return null}(u,g,h,p),v=i.separator||r||n.defaultSeparator||"";return m?m.before+g+v+p+m.after:u+v+h}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function en(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>Wt(e.timeZoneOffset):0===r&&t.week?e=>function(e,t,n,r,s){let i=[];return"long"===s?i.push(n):"short"!==s&&"narrow"!==s||i.push(t),"long"!==s&&"short"!==s||i.push(" "),i.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&i.reverse(),i.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week):function(e,t,n){e=Object.assign({},e),t=Object.assign({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";let r,s=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,r=new Intl.DateTimeFormat(n.locale.codes,t)}return i=>{let a,{marker:l}=i;return a=r&&!l.getUTCMinutes()?r:s,function(e,t,n,r,s){return e=e.replace(Kt,""),"short"===n.timeZoneName&&(e=function(e,t){let n=!1;return e=e.replace(Xt,()=>(n=!0,t)),n||(e+=` ${t}`),e}(e,"UTC"===s.timeZone||null==t.timeZoneOffset?"UTC":Wt(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(Yt,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),!1===r.meridiem?e=e.replace(Qt,"").trim():"narrow"===r.meridiem?e=e.replace(Qt,(e,t)=>t.toLocaleLowerCase()):"short"===r.meridiem?e=e.replace(Qt,(e,t)=>`${t.toLocaleLowerCase()}m`):"lowercase"===r.meridiem&&(e=e.replace(Qt,e=>e.toLocaleLowerCase())),e=(e=e.replace(Zt," ")).trim()}(a.format(l),i,e,t,n)}}(e,t,n)}function tn(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function nn(e,t,n,r){let s=tn(e,n.calendarSystem);return{date:s,start:s,end:t?tn(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class rn{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,nn(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,nn(e,t,n,r))}}class sn{constructor(e){this.func=e}format(e,t,n){return this.func(nn(e,null,t,n))}formatRange(e,t,n,r){return this.func(nn(e,t,n,r))}}function an(e){return"object"==typeof e&&e?new Jt(e):"string"==typeof e?new rn(e):"function"==typeof e?new sn(e):null}const ln={navLinkDayClick:vn,navLinkWeekClick:vn,duration:vt,bootstrapFontAwesome:vn,buttonIcons:vn,customButtons:vn,defaultAllDayEventDuration:vt,defaultTimedEventDuration:vt,nextDayThreshold:vt,scrollTime:vt,scrollTimeReset:Boolean,slotMinTime:vt,slotMaxTime:vt,dayPopoverFormat:an,slotDuration:vt,snapDuration:vt,headerToolbar:vn,footerToolbar:vn,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:an,dayHeaderClassNames:vn,dayHeaderContent:vn,dayHeaderDidMount:vn,dayHeaderWillUnmount:vn,dayCellClassNames:vn,dayCellContent:vn,dayCellDidMount:vn,dayCellWillUnmount:vn,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:vn,weekNumbers:Boolean,weekNumberClassNames:vn,weekNumberContent:vn,weekNumberDidMount:vn,weekNumberWillUnmount:vn,editable:Boolean,viewClassNames:vn,viewDidMount:vn,viewWillUnmount:vn,nowIndicator:Boolean,nowIndicatorSnap:vn,nowIndicatorClassNames:vn,nowIndicatorContent:vn,nowIndicatorDidMount:vn,nowIndicatorWillUnmount:vn,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:vn,locale:vn,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:vn,eventOrder:function(e){let t,n,r=[],s=[];for("string"==typeof e?s=e.split(/\s*,\s*/):"function"==typeof e?s=[e]:Array.isArray(e)&&(s=e),t=0;t<s.length;t+=1)n=s[t],"string"==typeof n?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:vn,contentHeight:vn,direction:String,weekNumberFormat:an,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:vn,initialDate:vn,now:vn,eventDataTransform:vn,stickyHeaderDates:vn,stickyFooterScrollbar:vn,viewHeight:vn,defaultAllDay:Boolean,eventSourceFailure:vn,eventSourceSuccess:vn,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:vn,eventConstraint:vn,eventAllow:vn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:vn,eventContent:vn,eventDidMount:vn,eventWillUnmount:vn,selectConstraint:vn,selectOverlap:vn,selectAllow:vn,droppable:Boolean,unselectCancel:String,slotLabelFormat:vn,slotLaneClassNames:vn,slotLaneContent:vn,slotLaneDidMount:vn,slotLaneWillUnmount:vn,slotLabelClassNames:vn,slotLabelContent:vn,slotLabelDidMount:vn,slotLabelWillUnmount:vn,dayMaxEvents:vn,dayMaxEventRows:vn,dayMinWidth:Number,slotLabelInterval:vt,allDayText:String,allDayClassNames:vn,allDayContent:vn,allDayDidMount:vn,allDayWillUnmount:vn,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:an,rerenderDelay:Number,moreLinkText:vn,moreLinkHint:vn,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:vn,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:vt,hiddenDays:vn,fixedWeekCount:Boolean,validRange:vn,visibleRange:vn,titleFormat:vn,eventInteractive:Boolean,noEventsText:String,viewHint:vn,navLinkHint:vn,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:vn,moreLinkClassNames:vn,moreLinkContent:vn,moreLinkDidMount:vn,moreLinkWillUnmount:vn,monthStartFormat:an,handleCustomRendering:vn,customRenderingMetaMap:vn,customRenderingReplaces:Boolean},on={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},cn={datesSet:vn,eventsSet:vn,eventAdd:vn,eventChange:vn,eventRemove:vn,windowResize:vn,eventClick:vn,eventMouseEnter:vn,eventMouseLeave:vn,select:vn,unselect:vn,loading:vn,_unmount:vn,_beforeprint:vn,_afterprint:vn,_noEventDrop:vn,_noEventResize:vn,_resize:vn,_scrollRequest:vn},dn={buttonText:vn,buttonHints:vn,views:vn,plugins:vn,initialEvents:vn,events:vn,eventSources:vn},un={headerToolbar:hn,footerToolbar:hn,buttonText:hn,buttonHints:hn,buttonIcons:hn,dateIncrement:hn,plugins:fn,events:fn,eventSources:fn,resources:fn};function hn(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?kn(e,t):e===t}function fn(e,t){return Array.isArray(e)&&Array.isArray(t)?kt(e,t):e===t}const gn={type:String,component:vn,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:vn,usesMinMaxTime:Boolean,classNames:vn,content:vn,didMount:vn,willUnmount:vn};function pn(e){return yn(e,un)}function mn(e,t){let n={},r={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let n in e)n in t||(r[n]=e[n]);return{refined:n,extra:r}}function vn(e){return e}const{hasOwnProperty:bn}=Object.prototype;function yn(e,t){let n={};if(t)for(let r in t)if(t[r]===hn){let t=[];for(let s=e.length-1;s>=0;s-=1){let i=e[s][r];if("object"==typeof i&&i)t.unshift(i);else if(void 0!==i){n[r]=i;break}}t.length&&(n[r]=yn(t))}for(let t=e.length-1;t>=0;t-=1){let r=e[t];for(let e in r)e in n||(n[e]=r[e])}return n}function xn(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function wn(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function Sn(e){let t={};for(let n of e)t[n]=!0;return t}function _n(e){let t=[];for(let n in e)t.push(e[n]);return t}function kn(e,t){if(e===t)return!0;for(let n in e)if(bn.call(e,n)&&!(n in t))return!1;for(let n in t)if(bn.call(t,n)&&e[n]!==t[n])return!1;return!0}const En=/^on[A-Z]/;function Cn(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e)||!Nn(e[r],t[r],n[r]))return!1;for(let n in e)if(!(n in t))return!1;return!0}function Nn(e,t,n){return e===t||!0===n||!!n&&n(e,t)}let An={};var jn;jn=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Lt(e)}markerToArray(e){return Ot(e)}},An.gregory=jn;const Dn=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class Tn{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new An[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Lt(It(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Lt(e)),null!==t&&zt(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=function(e){let t=Dn.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(zt(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return Bt(e)===Bt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return Bt(e)===Bt(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),null!==n?{unit:"month",value:n}:(n=function(e,t){let n=Dt(e,t);return null!==n&&n%7==0?n/7:null}(e,t),null!==n?{unit:"week",value:n}:(n=Dt(e,t),null!==n?{unit:"day",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),ft(n)?{unit:"hour",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),ft(n)?{unit:"minute",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),ft(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),null!==r)?r/(xt(n)/365):n.months&&(r=this.diffWholeMonths(e,t),null!==r)?r/(xt(n)/30):n.days&&(r=Dt(e,t),null!==r)?r/xt(n):(t.valueOf()-e.valueOf())/wt(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?Tt(e):"hour"===t?function(e){return Lt([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return Lt([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return Lt([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let r=e.getUTCFullYear(),s=Rt(e,r,t,n);if(s<1)return Rt(e,r-1,t,n);let i=Rt(e,r+1,t,n);return i>=1?Math.min(s,i):s}(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=At(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),Ht(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?Lt(It(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Lt(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-Pt(Ot(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ot(e)):null}toDate(e,t){return"local"===this.timeZone?Pt(Ot(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Ot(e))*60):new Date(e.valueOf()-(t||0))}}class Rn{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function Mn(e){e();let t=g.debounceRendering,n=[];for(g.debounceRendering=function(e){n.push(e)},X(A(In,{}),document.createElement("div"));n.length;)n.shift()();g.debounceRendering=t}Rn.prototype.classes={},Rn.prototype.iconClasses={},Rn.prototype.baseIconClass="",Rn.prototype.iconOverridePrefix="";class In extends P{render(){return A("div",{})}componentDidMount(){this.setState({})}}function Pn(e){let t=function(e,t){var n={__c:t="__cC"+w++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,B(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}(e),n=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=n.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}class On{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ln=Pn({});function zn(e,t,n,r,s,i,a,l,o,c,d,u,h,f){return{dateEnv:s,nowManager:i,options:n,pluginHooks:l,emitter:d,dispatch:o,getCurrentData:c,calendarApi:u,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:a,isRtl:"rtl"===n.direction,addResizeHandler(e){d.on("_resize",e)},removeResizeHandler(e){d.off("_resize",e)},createScrollResponder:e=>new On(e,d,vt(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class Bn extends P{shouldComponentUpdate(e,t){return!Cn(this.props,e,this.propEquality)||!Cn(this.state,t,this.stateEquality)}safeSetState(e){Cn(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Bn.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},Bn.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},Bn.contextType=Ln,Bn.prototype.propEquality={},Bn.prototype.stateEquality={};class Hn extends Bn{}function Fn(e,t){"function"==typeof e?e(t):e&&(e.current=t)}Hn.contextType=Ln;class Un extends Hn{constructor(){super(...arguments),this.id=at(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;t.customRenderingReplaces&&Wn(n,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Fn(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:s,renderProps:i}=e,a=Vn(e,[],this.handleEl);let l,o,c=!1,d=[];if(null!=r){const e="function"==typeof r?r(i,A):r;if(!0===e)c=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?a.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?d=Array.prototype.slice.call(e.domNodes):(t?m(e):"function"!=typeof e)?l=e:o=e}}else c=!Wn(e.generatorName,n);return c&&s&&(l=s(i)),this.queuedDomNodes=d,this.currentGeneratorMeta=o,A(e.elTag,a,l)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:i}=r.options;if(s){const r=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==i?void 0:i[n.generatorName];r&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(qn)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!kt(e,t)){t.forEach(qe);for(let t of e)n.appendChild(t);this.currentDomNodes=e}}}function Wn(e,t){var n;return Boolean(t.handleCustomRendering&&e&&(null===(n=t.customRenderingMetaMap)||void 0===n?void 0:n[e]))}function Vn(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function qn(e){return Boolean(e)}Un.addPropsEquality({elClasses:kt,elStyle:kn,elAttrs:function(e,t){const n=function(e,t){let n=[];for(let r in e)bn.call(e,r)&&(r in t||n.push(r));for(let r in t)bn.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}(e,t);for(let e of n)if(!En.test(e))return!1;return!0},renderProps:kn});const Gn=Pn(0);class $n extends P{constructor(){super(...arguments),this.InnerContent=Qn.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Fn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=function(e,t){const n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(e.children){const n=Vn(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?A(e.elTag,n,r):r}return A(Un,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function Qn(e,t){const n=e.props;return A(Un,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}$n.contextType=Gn;class Yn extends Hn{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return A($n,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Zn(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function Zn(e){return[`fc-${e.type}-view`,"fc-view"]}function Kn(e,t){let n,r,s=[],{start:i}=t;for(e.sort(Xn),n=0;n<e.length;n+=1)r=e[n],r.start>i&&s.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<t.end&&s.push({start:i,end:t.end}),s}function Xn(e,t){return e.start.valueOf()-t.start.valueOf()}function Jn(e,t){let{start:n,end:r}=e,s=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(s={start:n,end:r}),s}function er(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function tr(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function nr(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function rr(e){let t=Math.floor(jt(e.start,e.end))||1,n=Tt(e.start);return{start:n,end:Nt(n,t)}}function sr(e,t=vt(0)){let n=null,r=null;if(e.end){r=Tt(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=wt(t)&&(r=Nt(r,1))}return e.start&&(n=Tt(e.start),r&&r<=n&&(r=Nt(n,1))),{start:n,end:r}}function ir(e,t,n,r){return"year"===r?vt(n.diffWholeYears(e,t),"year"):"month"===r?vt(n.diffWholeMonths(e,t),"month"):function(e,t){let n=Tt(e),r=Tt(t);return{years:0,months:0,days:Math.round(jt(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}(e,t)}class ar{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,s=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,n)}build(e,t,n=!0){let r,s,i,a,l,o,{props:c}=this;var d,u;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(d=e,e=null!=(u=r).start&&d<u.start?u.start:null!=u.end&&d>=u.end?new Date(u.end.valueOf()-1):d),s=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(s.unit),a=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,i),a=this.trimHiddenDays(a),l=a,c.showNonCurrentDates||(l=Jn(l,s.range)),l=this.adjustActiveRange(l),l=Jn(l,r),o=er(s.range,r),nr(a,e)||(e=a.start),{currentDate:e,validRange:r,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:i,activeRange:l,renderRange:a,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:o,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,s=null,i=null,a=null;return r.duration?(s=r.duration,i=r.durationUnit,a=this.buildRangeFromDuration(e,t,s,i)):(n=this.props.dayCount)?(i="day",a=this.buildRangeFromDayCount(e,t,n)):(a=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(a.start,a.end).unit:(s=this.getFallbackDuration(),i=_t(s).unit,a=this.buildRangeFromDuration(e,t,s,i)),{duration:s,unit:i,range:a}}getFallbackDuration(){return vt({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:s}=this.props,{start:i,end:a}=e;return n&&(xt(r)<0&&(i=Tt(i),i=t.add(i,r)),xt(s)>1&&(a=Tt(a),a=Nt(a,-1),a=t.add(a,s))),{start:i,end:a}}buildRangeFromDuration(e,t,n,r){let s,i,a,{dateEnv:l,dateAlignment:o}=this.props;if(!o){let{dateIncrement:e}=this.props;o=e&&wt(e)<wt(n)?_t(e).unit:r}function c(){s=l.startOf(e,o),i=l.add(s,n),a={start:s,end:i}}return xt(n)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,t),s=Tt(s)),c(),this.trimHiddenDays(a)||(e=this.skipHiddenDays(e,t),c()),a}buildRangeFromDayCount(e,t,n){let r,{dateEnv:s,dateAlignment:i}=this.props,a=0,l=e;i&&(l=s.startOf(l,i)),l=Tt(l),l=this.skipHiddenDays(l,t),r=l;do{r=Nt(r,1),this.isHiddenDay(r)||(a+=1)}while(a<n);return{start:l,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,s=this.refineRange(r);return!s||null!=s.start&&null!=s.end?s:null}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?vt(1,t):e||vt({days:1}))}refineRange(e){if(e){let t=function(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),n||r?n&&r&&r<n?null:{start:n,end:r}:null}(e,this.props.dateEnv);return t&&(t=sr(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=Nt(e,t);return e}}function lr(e,t,n,r){return{instanceId:at(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function or(e,t,n){let{dateEnv:r,pluginHooks:s,options:i}=n,{defs:a,instances:l}=e;l=xn(l,e=>!a[e.defId].recurringDef);for(let e in a){let n=a[e];if(n.recurringDef){let{duration:a}=n.recurringDef;a||(a=n.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let o=cr(n,a,t,r,s.recurringTypes);for(let t of o){let n=lr(e,{start:t,end:r.add(t,a)});l[n.instanceId]=n}}}return{defs:a,instances:l}}function cr(e,t,n,r,s){let i=s[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(i=i.map(Tt)),i}const dr={id:String,groupId:String,title:String,url:String,interactive:Boolean},ur={start:vn,end:vn,date:vn,allDay:Boolean},hr=Object.assign(Object.assign(Object.assign({},dr),ur),{extendedProps:vn});function fr(e,t,n,r,s=pr(n),i,a){let{refined:l,extra:o}=gr(e,n,s),c=function(e,t){let n=null;return e&&(n=e.defaultAllDay),null==n&&(n=t.options.defaultAllDay),n}(t,n),d=function(e,t,n,r){for(let s=0;s<r.length;s+=1){let i=r[s].parse(e,n);if(i){let{allDay:n}=e;return null==n&&(n=t,null==n&&(n=i.allDayGuess,null==n&&(n=!1))),{allDay:n,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}(l,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let e=mr(l,o,t?t.sourceId:"",d.allDay,Boolean(d.duration),n,i);return e.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:e,instance:null}}let u=function(e,t,n,r){let s,i,{allDay:a}=e,l=null,o=!1,c=null,d=null!=e.start?e.start:e.date;if(s=n.dateEnv.createMarkerMeta(d),s)l=s.marker;else if(!r)return null;return null!=e.end&&(i=n.dateEnv.createMarkerMeta(e.end)),null==a&&(a=null!=t?t:(!s||s.isTimeUnspecified)&&(!i||i.isTimeUnspecified)),a&&l&&(l=Tt(l)),i&&(c=i.marker,a&&(c=Tt(c)),l&&c<=l&&(c=null)),c?o=!0:r||(o=n.options.forceEventDuration||!1,c=n.dateEnv.add(l,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:a,hasEnd:o,range:{start:l,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:i?i.forcedTzo:null}}(l,c,n,r);if(u){let e=mr(l,o,t?t.sourceId:"",u.allDay,u.hasEnd,n,i),r=lr(e.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return a&&e.publicId&&a[e.publicId]&&(r.instanceId=a[e.publicId]),{def:e,instance:r}}return null}function gr(e,t,n=pr(t)){return mn(e,n)}function pr(e){return Object.assign(Object.assign(Object.assign({},kr),hr),e.pluginHooks.eventRefiners)}function mr(e,t,n,r,s,i,a){let l={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(a&&e.id?a[e.id]:"")||at(),sourceId:n,allDay:r,hasEnd:s,interactive:e.interactive,ui:Cr(e,i),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of i.pluginHooks.eventDefMemberAdders)Object.assign(l,t(e));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function vr(e,t,n,r,s,i){let a={defs:{},instances:{}},l=pr(n);for(let o of e){let e=fr(o,t,n,r,l,s,i);e&&br(e,a)}return a}function br(e,t={defs:{},instances:{}}){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function yr(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=Sr(e,e=>{return n=t,r=e,Boolean(n.groupId&&n.groupId===r.groupId);var n,r});return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return{defs:{},instances:{}}}function xr(){return{defs:{},instances:{}}}function wr(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function Sr(e,t){let n=xn(e.defs,t),r=xn(e.instances,e=>n[e.defId]);return{defs:n,instances:r}}function _r(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const kr={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:vn,overlap:vn,allow:vn,className:_r,classNames:_r,color:String,backgroundColor:String,borderColor:String,textColor:String},Er={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Cr(e,t){let n=function(e,t){return Array.isArray(e)?vr(e,null,t,!0):"object"==typeof e&&e?vr([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Nr(e){return e.reduce(Ar,Er)}function Ar(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const jr={id:String,defaultAllDay:Boolean,url:String,format:String,events:vn,eventDataTransform:vn,success:vn,failure:vn};function Dr(e,t,n=Tr(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:s,extra:i}=mn(r,n),a=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;t-=1){let r=n[t].parseMeta(e);if(r)return{sourceDefId:t,meta:r}}return null}(s,t);if(a)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:at(),sourceDefId:a.sourceDefId,meta:a.meta,ui:Cr(s,t),extendedProps:i}}return null}function Tr(e){return Object.assign(Object.assign(Object.assign({},kr),jr),e.pluginHooks.eventSourceRefiners)}function Rr(e,t,n){let r=n.options.eventDataTransform,s=t?t.eventDataTransform:null;return s&&(e=Mr(e,s)),r&&(e=Mr(e,r)),e}function Mr(e,t){let n;if(t){n=[];for(let r of e){let e=t(r);e?n.push(e):null==e&&n.push(r)}}else n=e;return n}function Ir(e,t,n){let{defs:r}=e,s=wn(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}));return{defs:r,instances:s}}function Pr(e,t){return Sr(e,e=>e.sourceId!==t)}class Or{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)}off(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter(e=>e!==n)):delete e[t]}(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],r=this.options&&this.options[e],s=[].concat(r||[],n);for(let e of s)e.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}const Lr={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function zr(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},Br(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Br(e,t){let n={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(n,r(e,t));var r,s;return Object.assign(n,(r=e,s=t.dateEnv,Object.assign(Object.assign({},us(r.range,s,r.allDay)),{allDay:r.allDay}))),n}function Hr(e,t,n){let{dateEnv:r,options:s}=n,i=t;return e?(i=Tt(i),i=r.add(i,s.defaultAllDayEventDuration)):i=r.add(i,s.defaultTimedEventDuration),i}function Fr(e,t,n,r){let s=Kr(e.defs,t),i={defs:{},instances:{}};for(let t in e.defs){let a=e.defs[t];i.defs[t]=Ur(a,s[t],n,r)}for(let t in e.instances){let a=e.instances[t],l=i.defs[a.defId];i.instances[t]=Wr(a,l,s[a.defId],n,r)}return i}function Ur(e,t,n,r){let s=n.standardProps||{};null==s.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},e),s),{ui:Object.assign(Object.assign({},e.ui),s.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let e of r.pluginHooks.eventDefMutationAppliers)e(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function Wr(e,t,n,r,s){let{dateEnv:i}=s,a=r.standardProps&&!0===r.standardProps.allDay,l=r.standardProps&&!1===r.standardProps.hasEnd,o=Object.assign({},e);return a&&(o.range=rr(o.range)),r.datesDelta&&n.startEditable&&(o.range={start:i.add(o.range.start,r.datesDelta),end:i.add(o.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(o.range={start:i.add(o.range.start,r.startDelta),end:o.range.end}),r.endDelta&&n.durationEditable&&(o.range={start:o.range.start,end:i.add(o.range.end,r.endDelta)}),l&&(o.range={start:o.range.start,end:Hr(t.allDay,o.range.start,s)}),t.allDay&&(o.range={start:Tt(o.range.start),end:Tt(o.range.end)}),o.range.end<o.range.start&&(o.range.end=Hr(t.allDay,o.range.start,s)),o}class Vr{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class qr{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in ur)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=dr[e](t),this.mutate({standardProps:{publicId:t}});else if(e in dr)t=dr[e](t),this.mutate({standardProps:{[e]:t}});else if(e in kr){let n=kr[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=ir(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:r}=this._context;if((null==e||(n=r.createMarker(e),n))&&this._instance)if(n){let e=ir(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let r,{dateEnv:s}=this._context,i={allDay:n.allDay},a=s.createMarker(e);var l,o;if(a&&(null==t||(r=s.createMarker(t),r))&&this._instance){let e=this._instance.range;!0===n.allDay&&(e=rr(e));let t=ir(e.start,a,s,n.granularity);if(r){let a=ir(e.end,r,s,n.granularity);o=a,(l=t).years===o.years&&l.months===o.months&&l.days===o.days&&l.milliseconds===o.milliseconds?this.mutate({datesDelta:t,standardProps:i}):this.mutate({startDelta:t,endDelta:a,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:t,standardProps:i})}}moveStart(e){let t=vt(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=vt(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=vt(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=an(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),i=yr(s,t.instanceId);i=Fr(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let a=new qr(r,n,t);this._def=i.defs[n.defId],this._instance=i.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:i}),r.emitter.trigger("eventChange",{oldEvent:a,event:this,relatedEvents:$r(i,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=Gr(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Vr(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:s}=this,i={allDay:t.allDay};return t.title&&(i.title=t.title),r&&(i.start=r),s&&(i.end=s),t.publicId&&(i.id=t.publicId),t.groupId&&(i.groupId=t.groupId),t.url&&(i.url=t.url),n.display&&"auto"!==n.display&&(i.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.color=n.backgroundColor:(n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.borderColor&&(i.borderColor=n.borderColor)),n.textColor&&(i.textColor=n.textColor),n.classNames.length&&(i.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function Gr(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function $r(e,t,n){let{defs:r,instances:s}=e,i=[],a=n?n.instanceId:"";for(let e in s){let n=s[e],l=r[n.defId];n.instanceId!==a&&i.push(new qr(t,l,n))}return i}function Qr(e,t,n,r){let s={},i={},a={},l=[],o=[],c=Kr(e.defs,t);for(let t in e.defs){let n=e.defs[t];"inverse-background"===c[n.defId].display&&(n.groupId?(s[n.groupId]=[],a[n.groupId]||(a[n.groupId]=n)):i[t]=[])}for(let t in e.instances){let a=e.instances[t],d=e.defs[a.defId],u=c[d.defId],h=a.range,f=!d.allDay&&r?sr(h,r):h,g=Jn(f,n);g&&("inverse-background"===u.display?d.groupId?s[d.groupId].push(g):i[a.defId].push(g):"none"!==u.display&&("background"===u.display?l:o).push({def:d,ui:u,instance:a,range:g,isStart:f.start&&f.start.valueOf()===g.start.valueOf(),isEnd:f.end&&f.end.valueOf()===g.end.valueOf()}))}for(let e in s){let t=Kn(s[e],n);for(let n of t){let t=a[e],r=c[t.defId];l.push({def:t,ui:r,instance:null,range:n,isStart:!1,isEnd:!1})}}for(let t in i){let r=Kn(i[t],n);for(let n of r)l.push({def:e.defs[t],ui:c[t],instance:null,range:n,isStart:!1,isEnd:!1})}return{bg:l,fg:o}}function Yr(e,t){e.fcSeg=t}function Zr(e){return e.fcSeg||e.parentNode.fcSeg||null}function Kr(e,t){return wn(e,e=>Xr(e,t))}function Xr(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Nr(n)}function Jr(e,t){let n=e.map(es);return n.sort((e,n)=>function(e,t,n){let r,s;for(r=0;r<n.length;r+=1)if(s=ct(e,t,n[r]),s)return s;return 0}(e,n,t)),n.map(e=>e._seg)}function es(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,s=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:s,end:i,duration:i-s,allDay:Number(n.allDay),_seg:e})}function ts(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:s,ui:i}=e.eventRange,a=i.startEditable;for(let e of r)a=e(a,s,i,t);return a}function ns(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function rs(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function ss(e,t,n,r,s,i,a){let{dateEnv:l,options:o}=n,{displayEventTime:c,displayEventEnd:d}=o,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==s);let f=h.range.start,g=h.range.end,p=i||e.start||e.eventRange.range.start,m=a||e.end||e.eventRange.range.end,v=Tt(f).valueOf()===Tt(p).valueOf(),b=Tt(At(g,-1)).valueOf()===Tt(At(m,-1)).valueOf();return c&&!u.allDay&&(v||b)?(p=v?f:p,m=b?g:m,d&&u.hasEnd?l.formatRange(p,m,t,{forcedStartTzo:i?null:h.forcedStartTzo,forcedEndTzo:a?null:h.forcedEndTzo}):l.format(p,t,{forcedTzo:i?null:h.forcedStartTzo})):""}function is(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&nr(t,r.start)}}function as(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function ls(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function os(e,t){let{def:n,instance:r}=e.eventRange,{url:s}=n;if(s)return{href:s};let{emitter:i,options:a}=t,{eventInteractive:l}=a;return null==l&&(l=n.interactive,null==l&&(l=Boolean(i.hasHandlers("eventClick")))),l?st(e=>{i.trigger("eventClick",{el:e.target,event:new qr(t,n,r),jsEvent:e,view:t.viewApi})}):{}}const cs={start:vn,end:vn,allDay:Boolean};function ds(e,t,n){return Object.assign(Object.assign({},us(e,t,n)),{timeZone:t.timeZone})}function us(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}class hs extends Error{constructor(e,t){super(e),this.response=t}}let fs;function gs(){return null==fs&&(fs=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),fs}class ps extends Hn{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Mn(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Mn(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,s=r||null==t.height?"":t.height,i=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return gs()||i.push("fc-liquid-hack"),e.children(i,s,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class ms{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function vs(e){return{[e.component.uid]:e}}const bs={};class ys extends P{constructor(e,t){super(e,t),this.handleRefresh=()=>{let e=this.computeTiming();e.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(e.state),this.clearTimeout(),this.setTimeout(e.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let e,t,{props:n,context:r}=this,s=r.nowManager.getDateMarker(),{nowIndicatorSnap:i}=r.options;return"auto"===i&&(i=/year|month|week|day/.test(n.unit)||1===(n.unitValue||1)),i?(e=r.dateEnv.startOf(s,n.unit),t=r.dateEnv.add(e,vt(1,n.unit)).valueOf()-s.valueOf()):(e=s,t=6e4),t=Math.min(864e5,t),{state:{nowDate:e,todayRange:xs(e)},waitMs:t}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const e=this.computeTiming();this.setState(e.state,()=>{this.setTimeout(e.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function xs(e){let t=Tt(e);return{start:t,end:Nt(t,1)}}ys.contextType=Ln;class ws{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:s}=this.getCurrentData(),i=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]);for(let e in r)i.push(e);for(t=0;t<i.length;t+=1)if(n=r[i[t]],n&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=vt(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),an(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),an(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),s=function(e,t,n){let r=function(e,t){let{refined:n,extra:r}=mn(e,cs),s=n.start?t.createMarkerMeta(n.start):null,i=n.end?t.createMarkerMeta(n.end):null,{allDay:a}=n;return null==a&&(a=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:a},r)}(e,t),{range:s}=r;if(!s.start)return null;if(!s.end){if(null==n)return null;s.end=t.add(s.start,n)}return r}(n,r.dateEnv,vt({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),zr(s,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){if(e instanceof qr){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:br({def:t,instance:n})}),this.triggerEventAdd(e)),e}let n,r=this.getCurrentData();if(t instanceof Vr)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=_n(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let s=fr(e,n,r,!1);if(s){let e=new qr(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:br(s)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Gr(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;e=String(e);for(let s in n){let i=n[s];if(i.publicId===e){if(i.recurringDef)return new qr(t,i,null);for(let e in r){let n=r[e];if(n.defId===i.defId)return new qr(t,i,n)}}}return null}getEvents(){let e=this.getCurrentData();return $r(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new Vr(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let r in n)if(n[r].publicId===e)return new Vr(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Vr)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=Dr(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Vr(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=vt(e);t&&this.trigger("_scrollRequest",{time:t})}}function Ss(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function _s(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}const ks={defs:{},instances:{}};class Es{constructor(){this.getKeysForEventDefs=Vt(this._getKeysForEventDefs),this.splitDateSelection=Vt(this._splitDateSpan),this.splitEventStore=Vt(this._splitEventStore),this.splitIndividualUi=Vt(this._splitIndividualUi),this.splitEventDrag=Vt(this._splitInteraction),this.splitEventResize=Vt(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,n),i=this.splitEventStore(e.eventStore,n),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),o={};this.eventUiBuilders=wn(t,(e,t)=>this.eventUiBuilders[t]||Vt(Cs));for(let n in t){let c=t[n],d=i[n]||ks,u=this.eventUiBuilders[n];o[n]={businessHours:c.businessHours||e.businessHours,dateSelection:r[n]||null,eventStore:d,eventUiBases:u(e.eventUiBases[""],c.ui,s[n]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[n]||null,eventResize:l[n]||null}}return o}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let r of n)t[r]=e}return t}_getKeysForEventDefs(e){return wn(e.defs,e=>this.getKeysForEventDef(e))}_splitEventStore(e,t){let{defs:n,instances:r}=e,s={};for(let e in n)for(let r of t[e])s[r]||(s[r]=xr()),s[r].defs[e]=n[e];for(let e in r){let n=r[e];for(let r of t[n.defId])s[r]&&(s[r].instances[e]=n)}return s}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let s of t[r])n[s]||(n[s]={}),n[s][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,r),i=r=>{t[r]||(t[r]={affectedEvents:n[r]||ks,mutatedEvents:s[r]||ks,isEvent:e.isEvent})};for(let e in n)i(e);for(let e in s)i(e)}return t}}function Cs(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let s={"":Nr(r)};return n&&Object.assign(s,n),s}function Ns(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&(!r.activeRange||!nr(r.activeRange,e))),isOther:Boolean(r&&!nr(r.currentRange,e)),isToday:Boolean(t&&nr(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function As(e,t){let n=["fc-day",`fc-day-${Et[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}const js=an({year:"numeric",month:"long",day:"numeric"}),Ds=an({week:"long"});function Ts(e,t,n="day",r=!0){const{dateEnv:s,options:i,calendarApi:a}=e;let l=s.format(t,"week"===n?Ds:js);if(i.navLinks){let e=s.toDate(t);const o=e=>{let r="day"===n?i.navLinkDayClick:"week"===n?i.navLinkWeekClick:null;"function"==typeof r?r.call(a,s.toDate(t),e):("string"==typeof r&&(n=r),a.zoomTo(t,n))};return Object.assign({title:ut(i.navLinkHint,[l,e],l),"data-navlink":""},r?rt(o):{onClick:o})}return{"aria-label":l}}let Rs,Ms=null;function Is(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Ps(e,t=!1,n){let r=n?e.getBoundingClientRect():Os(e),s=function(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,s=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,l=Is(e),o=l.y-r-s,c={borderLeft:r,borderRight:s,borderTop:i,borderBottom:a,scrollbarBottom:l.x-i-a,scrollbarLeft:0,scrollbarRight:0};return null===Ms&&(Ms=function(){let e=document.createElement("div");Ye(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return qe(e),t}()),Ms&&"rtl"===n.direction?c.scrollbarLeft=o:c.scrollbarRight=o,t&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}(e,t),i={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return t&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function Os(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function Ls(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class zs{constructor(e,t,n,r){this.els=t;let s=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.left-e),n.push(s.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let s=r.getBoundingClientRect();t.push(s.top-e),n.push(s.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,s=n.length;for(t=0;t<s;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,s=n.length;for(t=0;t<s;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Bs(this.tops||[],e.tops||[])&&Bs(this.bottoms||[],e.bottoms||[])&&Bs(this.lefts||[],e.lefts||[])&&Bs(this.rights||[],e.rights||[])}}function Bs(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class Hs{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Fs extends Hs{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Us extends Hs{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ws extends Hn{constructor(){super(...arguments),this.uid=at()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Ge(e,".fc-event-mirror")}isValidDateDownEl(e){return!(Ge(e,".fc-event:not(.fc-bg-event)")||Ge(e,".fc-more-link")||Ge(e,"a[data-navlink]")||Ge(e,".fc-popover"))}}class Vs{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:Qs(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,s=t.span;r.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:s.start}},n),r.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(Ys(r,t.level,t.levelCoord),Ys(n,t.level,[e])):Ys(n[t.level],t.lateral,e),this.stackCnts[Gs(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:s}=this,i=t.length,a=0,l=-1,o=-1,c=null,d=0;for(let u=0;u<i;u+=1){const i=t[u];if(!r&&i>=a+this.getEntryThickness(e))break;let h,f=n[u],g=Zs(f,e.span.start,qs),p=g[0]+g[1];for(;(h=f[p])&&h.span.start<e.span.end;){let e=i+this.getEntryThickness(h);e>a&&(a=e,c=h,l=u,o=p),e===a&&(d=Math.max(d,s[Gs(h)]+1)),p+=1}}let u=0;if(c)for(u=l+1;u<i&&t[u]<a;)u+=1;let h=-1;return u<i&&t[u]===a&&(h=Zs(n[u],e.span.end,qs)[0]),{touchingLevel:l,touchingLateral:o,touchingEntry:c,stackCnt:d,levelCoord:a,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let s=0;s<n;s+=1){let n=e[s],i=t[s];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:i}))}return r}}function qs(e){return e.span.end}function Gs(e){return e.index+":"+e.span.start}function $s(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function Qs(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function Ys(e,t,n){e.splice(t,0,n)}function Zs(e,t,n){let r=0,s=e.length;if(!s||t<n(e[r]))return[0,0];if(t>n(e[s-1]))return[s,0];for(;r<s;){let i=Math.floor(r+(s-r)/2),a=n(e[i]);if(t<a)s=i;else{if(!(t>a))return[i,1];r=i+1}}return[r,0]}class Ks{constructor(e,t){this.emitter=new Or}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Xs={};Boolean;const Js="fc-col-header-cell";function ei(e){return e.text}class ti extends Hn{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:s}=this,{date:i,dateProfile:a}=s,l=Ns(i,s.todayRange,null,a),o=[Js].concat(As(l,n)),c=e.format(i,s.dayHeaderFormat),d=!l.isDisabled&&s.colCnt>1?Ts(this.context,i):{},u=e.toDate(i);e.namedTimeZoneImpl&&(u=At(u,36e5));let h=Object.assign(Object.assign(Object.assign({date:u,view:r},s.extraRenderProps),{text:c}),l);return A($n,{elTag:"th",elClasses:o,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:Ft(i)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:ei,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>A("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&A(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const ni=an({weekday:"long"});class ri extends Hn{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:s}=this.context,i=Nt(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(i,e.dayHeaderFormat),o=Object.assign(Object.assign(Object.assign(Object.assign({date:i},a),{view:r}),e.extraRenderProps),{text:l});return A($n,{elTag:"th",elClasses:[Js,...As(a,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:o,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:ei,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},n=>A("div",{className:"fc-scrollgrid-sync-inner"},A(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(i,ni)}})))}}class si extends Hn{constructor(){super(...arguments),this.createDayHeaderFormatter=Vt(ii)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:s}=this.props,i=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return A(ys,{unit:"day"},(e,a)=>A("tr",{role:"row"},s&&s("day"),t.map(e=>r?A(ti,{key:e.toISOString(),date:e,dateProfile:n,todayRange:a,colCnt:t.length,dayHeaderFormat:i}):A(ri,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:i}))))}}function ii(e,t,n){return e||function(e,t){return an(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(t,n)}class ai{constructor(e,t){let n=e.start,{end:r}=e,s=[],i=[],a=-1;for(;n<r;)t.isHiddenDay(n)?s.push(a+.5):(a+=1,s.push(a),i.push(n)),n=Nt(n,1);this.dates=i,this.indices=s,this.cnt=i.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(Nt(e.end,-1)),r=Math.max(0,t),s=Math.min(this.cnt-1,n);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:t===r,isEnd:n===s}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(jt(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class li{constructor(e,t){let n,r,s,{dates:i}=e;if(t){for(r=i[0].getUTCDay(),n=1;n<i.length&&i[n].getUTCDay()!==r;n+=1);s=Math.ceil(i.length/n)}else s=1,n=i.length;this.rowCnt=s,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:s}=n,i=e;for(;i<=s;){let a=Math.floor(i/t),l=Math.min((a+1)*t,s+1);r.push({row:a,firstCol:i%t,lastCol:(l-1)%t,isStart:n.isStart&&i===e,isEnd:n.isEnd&&l-1===s}),i=l}}return r}}class oi{constructor(){this.sliceBusinessHours=Vt(this._sliceBusinessHours),this.sliceDateSelection=Vt(this._sliceDateSpan),this.sliceEventStore=Vt(this._sliceEventStore),this.sliceEventDrag=Vt(this._sliceInteraction),this.sliceEventResize=Vt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...s){let{eventUiBases:i}=e,a=this.sliceEventStore(e.eventStore,i,t,n,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,i,r,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,n,...s),eventResize:this.sliceEventResize(e.eventResize,i,t,n,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...s){return this._sliceDateSpan({range:{start:e,end:At(e,1)},allDay:!1},t,n,{},r,...s)}_sliceBusinessHours(e,t,n,r,...s){return e?this._sliceEventStore(or(e,ci(t,Boolean(n)),r),{},t,n,...s).bg:[]}_sliceEventStore(e,t,n,r,...s){if(e){let i=Qr(e,t,ci(n,Boolean(r)),r);return{bg:this.sliceEventRanges(i.bg,s),fg:this.sliceEventRanges(i.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...s){if(!e)return null;let i=Qr(e.mutatedEvents,t,ci(n,Boolean(r)),r);return{segs:this.sliceEventRanges(i.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,s,...i){if(!e)return[];let a=ci(t,Boolean(n)),l=Jn(e.range,a);if(l){let t=function(e,t,n){let r=gr({editable:!1},n),s=mr(r.refined,r.extra,"",e.allDay,!0,n);return{def:s,ui:Xr(s,t),instance:lr(s.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}(e=Object.assign(Object.assign({},e),{range:l}),r,s),n=this.sliceRange(e.range,...i);for(let e of n)e.eventRange=t;return n}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:Nt(n.start,1)});let r=this.sliceRange(n,...t);for(let t of r)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return r}}function ci(e,t){let n=e.activeRange;return t?n:{start:At(n.start,e.slotMinTime.milliseconds),end:At(n.end,e.slotMaxTime.milliseconds-864e5)}}function di(e,t,n){let{instances:r}=e.mutatedEvents;for(let e in r)if(!tr(t.validRange,r[e].range))return!1;return ui({eventDrag:e},n)}function ui(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||hi)(r,t)}function hi(e,t,n={},r){return!(e.eventDrag&&!function(e,t,n,r){let s=t.getCurrentData(),i=e.eventDrag,a=i.mutatedEvents,l=a.defs,o=a.instances,c=Kr(l,i.isEvent?e.eventUiBases:{"":s.selectionConfig});r&&(c=wn(c,r));let d=(g=e.eventStore,p=i.affectedEvents.instances,{defs:g.defs,instances:xn(g.instances,e=>!p[e.instanceId])}),u=d.defs,h=d.instances,f=Kr(u,e.eventUiBases);var g,p;for(let r in o){let a=o[r],g=a.range,p=c[a.defId],m=l[a.defId];if(!fi(p.constraints,g,d,e.businessHours,t))return!1;let{eventOverlap:v}=t.options,b="function"==typeof v?v:null;for(let e in h){let n=h[e];if(er(g,n.range)){if(!1===f[n.defId].overlap&&i.isEvent)return!1;if(!1===p.overlap)return!1;if(b&&!b(new qr(t,u[n.defId],n),new qr(t,m,a)))return!1}}let y=s.eventStore;for(let e of p.allows){let s,i=Object.assign(Object.assign({},n),{range:a.range,allDay:m.allDay}),l=y.defs[m.defId],o=y.instances[r];if(s=l?new qr(t,l,o):new qr(t,m),!e(Br(i,t),s))return!1}}return!0}(e,t,n,r)||e.dateSelection&&!function(e,t,n,r){let s=e.eventStore,i=s.defs,a=s.instances,l=e.dateSelection,o=l.range,{selectionConfig:c}=t.getCurrentData();if(r&&(c=r(c)),!fi(c.constraints,o,s,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let e in a){let n=a[e];if(er(o,n.range)){if(!1===c.overlap)return!1;if(u&&!u(new qr(t,i[n.defId],n),null))return!1}}for(let e of c.allows)if(!e(Br(Object.assign(Object.assign({},n),l),t),null))return!1;return!0}(e,t,n,r))}function fi(e,t,n,r,s){for(let i of e)if(!mi(gi(i,t,n,r,s),t))return!1;return!0}function gi(e,t,n,r,s){return"businessHours"===e?pi(or(r,t,s)):"string"==typeof e?pi(Sr(n,t=>t.groupId===e)):"object"==typeof e&&e?pi(or(e,t,s)):[]}function pi(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}function mi(e,t){for(let n of e)if(tr(n,t))return!0;return!1}const vi=/^(visible|hidden)$/;class bi extends Hn{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Fn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,s=["fc-scroller"];return t&&(n?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),A("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(vi.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(vi.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return vi.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return vi.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class yi{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,s=!1,i=!1;null!==e?(s=t in r,r[t]=e,n[t]=(n[t]||0)+1,i=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(t)),i&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return function(e,t=0,n,r=1){let s=[];null==n&&(n=Object.keys(e).length);for(let i=t;i<n;i+=r){let t=e[i];void 0!==t&&s.push(t)}return s}(this.currentMap,e,t,n)}getAll(){return _n(this.currentMap)}}function xi(e,t){return e.liquid&&t.liquid}function wi(e,t){return kt(e,t,kn)}function Si(e,t){let n=[];for(let r of e){let e=r.span||1;for(let s=0;s<e;s+=1)n.push(A("col",{style:{width:"shrink"===r.width?_i(t):r.width||"",minWidth:r.minWidth||""}}))}return A("colgroup",{},...n)}function _i(e){return null==e?4:e}function ki(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Ei(e){return A("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Ci(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function Ni(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class Ai extends Hn{constructor(){super(...arguments),this.processCols=Vt(e=>e,wi),this.renderMicroColGroup=Vt(Si),this.scrollerRefs=new yi,this.scrollerElRefs=new yi(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],s=this.processCols(e.cols),i=this.renderMicroColGroup(s,t.shrinkWidth),a=function(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}(e.liquid,n);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l,o=r.length,c=0,d=[],u=[],h=[];for(;c<o&&"header"===(l=r[c]).type;)d.push(this.renderSection(l,i,!0)),c+=1;for(;c<o&&"body"===(l=r[c]).type;)u.push(this.renderSection(l,i,!1)),c+=1;for(;c<o&&"footer"===(l=r[c]).type;)h.push(this.renderSection(l,i,!0)),c+=1;let f=!gs();const g={role:"rowgroup"};return A("table",{role:"grid",className:a.join(" "),style:{height:e.height}},Boolean(!f&&d.length)&&A("thead",g,...d),Boolean(!f&&u.length)&&A("tbody",g,...u),Boolean(!f&&h.length)&&A("tfoot",g,...h),f&&A("tbody",g,...d,...u,...h))}renderSection(e,t,n){return"outerContent"in e?A(D,{key:e.key},e.outerContent):A("tr",{key:e.key,role:"presentation",className:ki(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:s}=this,{forceYScrollbars:i,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,o=function(e,t){return null!=t.maxHeight||xi(e,t)}(s,e),c=xi(s,e),d=s.liquid?i?"scroll":o?"auto":"hidden":"visible",u=e.key,h=function(e,t,n,r){let{expandRows:s}=n;return"function"==typeof t.content?t.content(n):A("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:s?n.clientHeight:""}},n.tableColGroupNode,A(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:s.collapsibleWidth||void 0===a[u]?null:a[u],clientHeight:void 0!==l[u]?l[u]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return A(r?"th":"td",{ref:n.elRef,role:"presentation"},A("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},A(bi,{ref:this.scrollerRefs.createRef(u),elRef:this.scrollerElRefs.createRef(u),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&Fn(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function(e){for(let t of e)if("shrink"===t.width)return!0;return!1}(this.props.cols)?function(e){let t=function(e){let t=e instanceof HTMLElement?[e]:e,n=[];for(let e=0;e<t.length;e+=1){let r=t[e].querySelectorAll(".fc-scrollgrid-shrink");for(let e=0;e<r.length;e+=1)n.push(r[e])}return n}(e),n=0;for(let e of t)n=Math.max(n,gt(e));return Math.ceil(n)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=(Rs||(Rs=function(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=Is(e);return document.body.removeChild(e),t}()),Rs),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,s={},i={};for(let e in t.currentMap){let n=t.currentMap[e];if(n&&n.needsYScrolling()){r=!0;break}}for(let t of this.props.sections){let a=t.key,l=n.currentMap[a];if(l){let t=l.parentNode;s[a]=Math.floor(t.getBoundingClientRect().width-(r?e.y:0)),i[a]=Math.floor(t.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:i}}}Ai.addStateEquality({scrollerClientWidths:kn,scrollerClientHeights:kn});class ji extends Hn{constructor(){super(...arguments),this.buildPublicEvent=Vt((e,t,n)=>new qr(e,t,n)),this.handleEl=e=>{this.el=e,Fn(this.props.elRef,e),e&&Yr(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:s}=r,{ui:i}=s,a={event:this.buildPublicEvent(t,s.def,s.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&ts(r,t),isStartResizable:!e.disableResizing&&ns(r,t),isEndResizable:!e.disableResizing&&rs(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return A($n,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...as(a),...r.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Yr(this.el,this.props.seg)}}class Di extends Hn{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:s}=r.eventRange,i=ss(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return A(ji,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:os(r,t),defaultGenerator:Ti,timeText:i}),(e,t)=>A(D,null,A(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&A("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&A("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Ti(e){return A("div",{className:"fc-event-main-frame"},e.timeText&&A("div",{className:"fc-event-time"},e.timeText),A("div",{className:"fc-event-title-container"},A("div",{className:"fc-event-title fc-sticky"},e.event.title||A(D,null," "))))}Di.addPropsEquality({seg:kn});const Ri=e=>A(Ln.Consumer,null,t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return A($n,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}),Mi=an({day:"numeric"});class Ii extends Hn{constructor(){super(...arguments),this.refineRenderProps=qt(Oi)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return A($n,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Ft(e.date)}),elClasses:[...As(r,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function Pi(e){return Boolean(e.dayCellContent||Wn("dayCellContent",e))}function Oi(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:s}=e,i=Ns(t,e.todayRange,null,r),a=e.showDayNumber?n.format(t,s?e.monthStartFormat:Mi):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},i),{isMonthStart:s,dayNumberText:a}),e.extraRenderProps)}class Li extends Hn{render(){let{props:e}=this,{seg:t}=e;return A(ji,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:zi,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function zi(e){let{title:t}=e.event;return t&&A("div",{className:"fc-event-title"},e.event.title)}function Bi(e){return A("div",{className:`fc-${e}`})}const Hi=e=>A(Ln.Consumer,null,t=>{let{dateEnv:n,options:r}=t,{date:s}=e,i=r.weekNumberFormat||e.defaultFormat,a={num:n.computeWeekNumber(s),text:n.format(s,i),date:s};return A($n,{elRef:e.elRef,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:e.elClasses,elStyle:e.elStyle,renderProps:a,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Fi,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},e.children)});function Fi(e){return e.text}class Ui extends Hn{constructor(){super(...arguments),this.state={titleId:Je()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Fn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Ke(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,s=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return function(e,t){var n=A(Ce,{__v:e,i:t});return n.containerInfo=t,n}(A("div",Object.assign({},n.extraAttrs,{id:n.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),A("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},A("span",{className:"fc-popover-title",id:r.titleId},n.title),A("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),A("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,s=function(e){let t=Ls(e),n=e.getBoundingClientRect();for(let e of t){let t=_s(n,e.getBoundingClientRect());if(!t)return null;n=t}return n}(t);if(s){let i=r.getBoundingClientRect(),a=n?Ge(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-i.width:s.left;a=Math.max(a,10),l=Math.min(l,document.documentElement.clientWidth-10-i.width),l=Math.max(l,10);let o=r.offsetParent.getBoundingClientRect();Ye(r,{top:a-o.top,left:l-o.left})}}}class Wi extends Ws{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:s,dateProfile:i}=n,a=t.format(r,e.dayPopoverFormat);return A(Ii,{elRef:this.handleRootEl,date:r,dateProfile:i,todayRange:s},(t,r,s)=>A(Ui,{elRef:s.ref,id:n.id,title:a,extraClassNames:["fc-more-popover"].concat(s.className||[]),extraAttrs:s,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Pi(e)&&A(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,r){let{rootEl:s,props:i}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class Vi extends Hn{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Je()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Fn(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,s=Gi(t).start;function i(e){let{def:t,instance:r,range:s}=e.eventRange;return{event:new qr(n,t,r),start:n.dateEnv.toDate(s.start),end:n.dateEnv.toDate(s.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:s,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(s,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return A(Ln.Consumer,null,n=>{let{viewApi:r,options:s,calendarApi:i}=n,{moreLinkText:a}=s,{moreCnt:l}=e,o=Gi(e),c="function"==typeof a?a.call(i,l):`+${l} ${a}`,d=ut(s.moreLinkHint,[l],c),u={num:l,shortText:`+${l}`,text:c,view:r};return A(D,null,Boolean(e.moreCnt)&&A($n,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),rt(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:u,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||qi,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&A(Wi,{id:t.popoverId,startDate:o.start,endDate:o.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Ge(this.linkEl,".fc-view-harness"))}}function qi(e){return e.text}function Gi(e){if(e.allDayDate)return{start:e.allDayDate,end:Nt(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:$i(t),end:(n=t,n.reduce(Yi).eventRange.range.end)};var n}function $i(e){return e.reduce(Qi).eventRange.range.start}function Qi(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function Yi(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class Zi{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class Ki extends Zi{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const Xi=[],Ji={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},ea=Object.assign(Object.assign({},Ji),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function ta(e){let t=e.length>0?e[0].code:"en",n=Xi.concat(e),r={en:ea};for(let e of n)r[e.code]=e;return{map:r,defaultCode:t}}function na(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){let n=[].concat(e||[]),r=function(e,t){for(let n=0;n<e.length;n+=1){let r=e[n].toLocaleLowerCase().split("-");for(let e=r.length;e>0;e-=1){let n=r.slice(0,e).join("-");if(t[n])return t[n]}}return null}(n,t)||ea;return ra(e,n,r)}(e,t):ra(e.code,[e.code],e)}function ra(e,t,n){let r=yn([Ji,n],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:e,codes:t,week:s,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function sa(e){return{id:at(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function ia(e,t){return{premiumReleaseDate:(n=e.premiumReleaseDate,r=t.premiumReleaseDate,void 0===n?r:void 0===r?n:new Date(Math.max(n.valueOf(),r.valueOf()))),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)};var n,r}class aa extends Rn{}function la(e,t,n,r){if(t[e])return t[e];let s=function(e,t,n,r){let s=n[e],i=r[e],a=e=>s&&null!==s[e]?s[e]:i&&null!==i[e]?i[e]:null,l=a("component"),o=a("superType"),c=null;if(o){if(o===e)throw new Error("Can't have a custom view type that references itself");c=la(o,t,n,r)}return!l&&c&&(l=c.component),l?{type:e,component:l,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),i?i.rawOptions:{})}:null}(e,t,n,r);return s&&(t[e]=s),s}function oa(e){return wn(e,ca)}function ca(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;return t.content?n=da(t):!n||n.prototype instanceof Hn||(n=da(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function da(e){return t=>A(Ln.Consumer,null,n=>A($n,{elTag:"div",elClasses:Zn(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function ua(e,t,n,r){let s=oa(e),i=oa(t.views),a=function(e,t){let n,r={};for(n in e)la(n,r,e,t);for(n in t)la(n,r,e,t);return r}(s,i);return wn(a,e=>function(e,t,n,r,s){let i=e.overrides.duration||e.defaults.duration||r.duration||n.duration,a=null,l="",o="",c={};if(i&&(a=function(e){let t=JSON.stringify(e),n=ha[t];return void 0===n&&(n=vt(e),ha[t]=n),n}(i),a)){let e=_t(a);l=e.unit,1===e.value&&(o=l,c=t[l]?t[l].rawOptions:{})}let d=t=>{let n=t.buttonText||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[o]?n[o]:null},u=t=>{let n=t.buttonHints||{},r=e.defaults.buttonTextKey;return null!=r&&null!=n[r]?n[r]:null!=n[e.type]?n[e.type]:null!=n[o]?n[o]:null};return{type:e.type,component:e.component,duration:a,durationUnit:l,singleUnit:o,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},c),e.overrides),buttonTextOverride:d(r)||d(n)||e.overrides.buttonText,buttonTextDefault:d(s)||e.defaults.buttonText||d(on)||e.type,buttonTitleOverride:u(r)||u(n)||e.overrides.buttonHint,buttonTitleDefault:u(s)||e.defaults.buttonHint||u(on)}}(e,i,t,n,r))}aa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},aa.prototype.baseIconClass="fc-icon",aa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},aa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},aa.prototype.iconOverrideOption="buttonIcons",aa.prototype.iconOverrideCustomButtonOption="icon",aa.prototype.iconOverridePrefix="fc-icon-";let ha={};function fa(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function ga(e,t,n,r){let s={};for(let e of t)s[e.sourceId]=e;return n&&(s=pa(s,n,r)),Object.assign(Object.assign({},e),s)}function pa(e,t,n){return ma(e,xn(e,e=>function(e,t,n){return ya(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}(e,t,n)),t,!1,n)}function ma(e,t,n,r,s){let i={};for(let a in e){let l=e[a];t[a]?i[a]=va(l,n,r,s):i[a]=l}return i}function va(e,t,n,r){let{options:s,calendarApi:i}=r,a=r.pluginHooks.eventSourceDefs[e.sourceDefId],l=at();return a.fetch({eventSource:e,range:t,isRefetch:n,context:r},n=>{let{rawEvents:a}=n;s.eventSourceSuccess&&(a=s.eventSourceSuccess.call(i,a,n.response)||a),e.success&&(a=e.success.call(i,a,n.response)||a),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:a})},n=>{let a=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,n),a=!0),e.failure&&(e.failure(n),a=!0),a||console.warn(n.message,n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}function ba(e,t){return xn(e,e=>ya(e,t))}function ya(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function xa(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function wa(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function Sa(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function _a(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function ka(e,t,n,r,s){return{header:e.headerToolbar?Ea(e.headerToolbar,e,t,n,r,s):null,footer:e.footerToolbar?Ea(e.footerToolbar,e,t,n,r,s):null}}function Ea(e,t,n,r,s,i){let a={},l=[],o=!1;for(let c in e){let d=Ca(e[c],t,n,r,s,i);a[c]=d.widgets,l.push(...d.viewsWithButtons),o=o||d.hasTitle}return{sectionWidgets:a,viewsWithButtons:l,hasTitle:o}}function Ca(e,t,n,r,s,i){let a="rtl"===t.direction,l=t.customButtons||{},o=n.buttonText||{},c=t.buttonText||{},d=n.buttonHints||{},u=t.buttonHints||{},h=e?e.split(" "):[],f=[],g=!1;return{widgets:h.map(e=>e.split(",").map(e=>{if("title"===e)return g=!0,{buttonName:e};let n,h,p,m,v,b;if(n=l[e])p=e=>{n.click&&n.click.call(e.target,e,e.target)},(m=r.getCustomButtonIconClass(n))||(m=r.getIconClass(e,a))||(v=n.text),b=n.hint||n.text;else if(h=s[e]){f.push(e),p=()=>{i.changeView(e)},(v=h.buttonTextOverride)||(m=r.getIconClass(e,a))||(v=h.buttonTextDefault);let n=h.buttonTextOverride||h.buttonTextDefault;b=ut(h.buttonTitleOverride||h.buttonTitleDefault||t.viewHint,[n,e],n)}else if(i[e])if(p=()=>{i[e]()},(v=o[e])||(m=r.getIconClass(e,a))||(v=c[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";b=ut(d[t]||u[t],[c.year||"year","year"],c[e])}else b=t=>ut(d[e]||u[e],[c[t]||t,t],c[e]);return{buttonName:e,buttonClick:p,buttonIcon:m,buttonText:v,buttonHint:b}})),viewsWithButtons:f,hasTitle:g}}class Na{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}const Aa={daysOfWeek:vn,startTime:vt,endTime:vt,duration:vt,startRecur:vn,endRecur:vn};function ja(e,t){let n=_n(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});let r=[];for(let t of e){let e=!1;for(let r=0;r<n.length;r+=1)if(n[r]._raw===t){n.splice(r,1),e=!0;break}e||r.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}const Da=[sa({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),sa({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){const{dateEnv:r}=e.context;!function(e,n,r){let s=!1,i=function(e){s||(s=!0,t({rawEvents:e}))},a=function(e){s||(s=!0,r(e))},l=e(i,a);l&&"function"==typeof l.then&&l.then(i,a)}(e.eventSource.meta.bind(null,ds(e.range,r)),0,n)}}]}),sa({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:vn,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(e,t,n){const{meta:r}=e.eventSource,s=function(e,t,n){let r,s,i,a,{dateEnv:l,options:o}=n,c={};return r=e.startParam,null==r&&(r=o.startParam),s=e.endParam,null==s&&(s=o.endParam),i=e.timeZoneParam,null==i&&(i=o.timeZoneParam),a="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},Object.assign(c,a),c[r]=l.formatIso(t.start),c[s]=l.formatIso(t.end),"local"!==l.timeZone&&(c[i]=l.timeZone),c}(r,e.range,e.context);(function(e,t,n){const r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(e=>{if(e.ok)return e.json().then(t=>[t,e],()=>{throw new hs("Failure parsing JSON",e)});throw new hs("Request failed",e)})})(r.method,r.url,s).then(([e,n])=>{t({rawEvents:e,response:n})},n)}}]}),sa({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let s,i={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t};return e.duration&&(s=e.duration),!s&&e.startTime&&e.endTime&&(n=e.endTime,r=e.startTime,s={years:n.years-r.years,months:n.months-r.months,days:n.days-r.days,milliseconds:n.milliseconds-r.milliseconds}),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:s,typeData:i}}var n,r;return null},expand(e,t,n){let r=Jn(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r,s){let i=e?Sn(e):null,a=Tt(s.start),l=s.end,o=[];for(t&&(t.milliseconds<0?l=Nt(l,1):t.milliseconds>=864e5&&(a=Nt(a,-1)));a<l;){let e;i&&!i[a.getUTCDay()]||(e=t?r.add(a,t):a,o.push(r.createMarker(n.toDate(e)))),a=Nt(a,1)}return o}(e.daysOfWeek,e.startTime,e.dateEnv,n,r):[]}}],eventRefiners:Aa}),sa({name:"change-handler",optionChangeHandlers:{events(e,t){ja([e],t)},eventSources:ja}}),sa({name:"misc",isLoadingFuncs:[e=>fa(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},ds(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",$r(e,t))}}})];class Ta{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ve(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Ra(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,an(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=Dt(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class Ma{constructor(){this.resetListeners=new Set}handleInput(e,t){const n=this.dateEnv;if(e!==n&&("function"==typeof t?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const e of this.resetListeners.values())e()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Ia{constructor(e){this.computeCurrentViewData=Vt(this._computeCurrentViewData),this.organizeRawLocales=Vt(ta),this.buildLocale=Vt(na),this.buildPluginHooks=function(){let e,t=[],n=[];return(r,s)=>(e&&kt(r,t)&&kt(s,n)||(e=function(e,t){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(e){for(let t of e){const e=t.name,i=n[e];void 0===i?(n[e]=t.id,s(t.deps),r=ia(r,t)):i!==t.id&&console.warn(`Duplicate plugin '${e}'`)}}return e&&s(e),s(t),r}(r,s)),t=r,n=s,e)}(),this.buildDateEnv=Vt(Pa),this.buildTheme=Vt(Oa),this.parseToolbars=Vt(ka),this.buildViewSpecs=Vt(ua),this.buildDateProfileGenerator=qt(La),this.buildViewApi=Vt(za),this.buildViewUiProps=qt(Fa),this.buildEventUiBySource=Vt(Ba,kn),this.buildEventUiBases=Vt(Ha),this.parseContextBusinessHours=qt(Wa),this.buildTitle=Vt(Ra),this.nowManager=new Ma,this.emitter=new Or,this.actionRunner=new Ta(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause(),this.nowManager=new Ma;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,s=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let i={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=function(e,t,n){let r=e.initialDate;return null!=r?t.createMarker(r):n.getDateMarker()}(n.calendarOptions,n.dateEnv,this.nowManager),l=s.dateProfileGenerator.build(a);nr(l.activeRange,a)||(a=l.currentRange.start);for(let e of n.pluginHooks.contextInit)e(i);let o=function(e,t,n){let r=t?t.activeRange:null;return ga({},function(e,t){let n=Tr(t),r=[].concat(e.eventSources||[]),s=[];e.initialEvents&&r.unshift(e.initialEvents),e.events&&r.unshift(e.events);for(let e of r){let r=Dr(e,t,n);r&&s.push(r)}return s}(e,n),r,n)}(n.calendarOptions,l,i),c={dynamicOptionOverrides:t,currentViewType:r,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(i),eventSources:o,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(i).selectionConfig},d=Object.assign(Object.assign({},i),c);for(let e of n.pluginHooks.reducers)Object.assign(c,e(null,null,d));Ua(c,i)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this,s=function(e,t){return"SET_OPTION"===t.type?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}(n.dynamicOptionOverrides,e),i=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),a=function(e,t){return"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType),e}(n.currentViewType,e),l=this.computeCurrentViewData(a,i,t.optionOverrides,s);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(c)),c=function(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}(c,e),d=function(e,t,n,r){let s;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if(s=r.buildPrev(e,n),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(e,n),s.isValid)return s}return e}(d,e,c,l.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&nr(d.currentRange,c)||(c=d.currentRange.start);let u=function(e,t,n,r){let s=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return ga(e,t.sources,s,r);case"REMOVE_EVENT_SOURCE":return i=e,a=t.sourceId,xn(i,e=>e.sourceId!==a);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?pa(e,s,r):e;case"FETCH_EVENT_SOURCES":return ma(e,t.sourceIds?Sn(t.sourceIds):ba(e,r),s,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,r){let s=e[t];return s&&n===s.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}var i,a}(n.eventSources,e,d,o),h=function(e,t,n,r,s){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,r,s,i){if(t&&n===t.latestFetchId){let n=vr(Rr(s,t,i),t,i);return r&&(n=or(n,r,i)),wr(Pr(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,s);case"RESET_RAW_EVENTS":return function(e,t,n,r,s){const{defIdMap:i,instanceIdMap:a}=function(e){const{defs:t,instances:n}=e,r={},s={};for(let e in t){const n=t[e],{publicId:s}=n;s&&(r[s]=e)}for(let e in n){const r=t[n[e].defId],{publicId:i}=r;i&&(s[i]=e)}return{defIdMap:r,instanceIdMap:s}}(e);return or(vr(Rr(n,t,s),t,s,!1,i,a),r,s)}(e,n[t.sourceId],t.rawEvents,r.activeRange,s);case"ADD_EVENTS":return function(e,t,n,r){return n&&(t=or(t,n,r)),wr(e,t)}(e,t.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return wr(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?or(e,r.activeRange,s):e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:r}=e,s={},i={};for(let e in n)t.defs[e]||(s[e]=n[e]);for(let e in r)!t.instances[e]&&s[r[e].defId]&&(i[e]=r[e]);return{defs:s,instances:i}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return Pr(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Sr(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}(n.eventStore,e,u,d,o),f=fa(u)&&!l.options.progressiveEventRendering&&n.renderableEventStore||h,{eventUiSingleBase:g,selectionConfig:p}=this.buildViewUiProps(o),m=this.buildEventUiBySource(u),v={dynamicOptionOverrides:s,currentViewType:a,currentDate:c,dateProfile:d,eventSources:u,eventStore:h,renderableEventStore:f,selectionConfig:p,eventUiBases:this.buildEventUiBases(f.defs,g,m),businessHours:this.parseContextBusinessHours(o),dateSelection:xa(n.dateSelection,e),eventSelection:wa(n.eventSelection,e),eventDrag:Sa(n.eventDrag,e),eventResize:_a(n.eventResize,e)},b=Object.assign(Object.assign({},o),v);for(let t of i.pluginHooks.reducers)Object.assign(v,t(n,e,b));let y=Ua(n,o),x=Ua(v,o);!y&&x?r.trigger("loading",!0):y&&!x&&r.trigger("loading",!1),this.state=v,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),i=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,s.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),t),a=r.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,o=r.calendarOptions;if(l&&l!==o){l.timeZone!==o.timeZone&&(t.eventSources=i.eventSources=function(e,t,n){let r=t?t.activeRange:null;return ma(e,ba(e,n),r,!0,n)}(i.eventSources,t.dateProfile,i),t.eventStore=i.eventStore=Ir(i.eventStore,n.dateEnv,i.dateEnv),t.renderableEventStore=i.renderableEventStore=Ir(i.renderableEventStore,n.dateEnv,i.dateEnv));for(let e in a)-1===this.optionsForHandling.indexOf(e)&&l[e]===o[e]||a[e](o[e],i)}this.optionsForHandling=[],e.onData&&e.onData(i)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:i,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);Va(l);let o=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,a,r.defaultRangeSeparator),c=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,i),d=this.buildTheme(r,s),u=this.parseToolbars(r,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:o,viewSpecs:c,theme:d,toolbarConfig:u,localeDefaults:i,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=pn([on,e,t]),s=this.organizeRawLocales(n),i=s.map,a=this.buildLocale(r||s.defaultCode,i).options,l=this.buildPluginHooks(e.plugins||[],Da),o=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ln),cn),dn),l.listenerRefiners),l.optionRefiners),c={},d=pn([on,a,e,t]),u={},h=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,g=!1;for(let e in d)-1===this.optionsForRefining.indexOf(e)&&(d[e]===h[e]||un[e]&&e in h&&un[e](h[e],d[e]))?u[e]=f[e]:o[e]?(u[e]=o[e](d[e]),g=!0):c[e]=h[e];return g&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=u,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:c}}_computeCurrentViewData(e,t,n,r){let s=t.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:i,extra:a}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,n,r);return Va(a),this.nowManager.handleInput(t.dateEnv,i.now),{viewSpec:s,options:i,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,showNonCurrentDates:i.showNonCurrentDates,dayCount:i.dayCount,dateAlignment:i.dateAlignment,dateIncrement:i.dateIncrement,hiddenDays:i.hiddenDays,weekends:i.weekends,validRangeInput:i.validRange,visibleRangeInput:i.visibleRange,fixedWeekCount:i.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,s){let i=pn([on,e.optionDefaults,n,r,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ln),cn),dn),gn),t.listenerRefiners),t.optionRefiners),l={},o=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,u={};for(let e in i)i[e]===o[e]||un[e]&&un[e](i[e],o[e])?l[e]=c[e]:(i[e]===this.currentCalendarOptionsInput[e]||un[e]&&un[e](i[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(l[e]=this.currentCalendarOptionsRefined[e]):a[e]?l[e]=a[e](i[e]):u[e]=i[e],d=!0);return d&&(this.currentViewOptionsInput=i,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:u}}}function Pa(e,t,n,r,s,i,a,l){let o=na(t||a.defaultCode,a.map);return new Tn({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:o,weekNumberCalculation:n,firstDay:r,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:l})}function Oa(e,t){return new(t.themeClasses[e.themeSystem]||aa)(e)}function La(e){return new(e.dateProfileGeneratorClass||ar)(e)}function za(e,t,n){return new Na(e,t,n)}function Ba(e){return wn(e,e=>e.ui)}function Ha(e,t,n){let r={"":t};for(let t in e){let s=e[t];s.sourceId&&n[s.sourceId]&&(r[t]=n[s.sourceId])}return r}function Fa(e){let{options:t}=e;return{eventUiSingleBase:Cr({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Cr({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function Ua(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function Wa(e){return t=e.options.businessHours,n=e,vr(function(e){let t;return t=!0===e?[{}]:Array.isArray(e)?e.filter(e=>e.daysOfWeek):"object"==typeof e&&e?[e]:[],t=t.map(e=>Object.assign(Object.assign({},Lr),e)),t}(t),null,n);var t,n}function Va(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class qa extends Hn{render(){return A("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,r=[],s=!0;for(let i of e){let{buttonName:e,buttonClick:a,buttonText:l,buttonIcon:o,buttonHint:c}=i;if("title"===e)s=!1,r.push(A("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let s=e===t.activeButton,i=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,d=[`fc-${e}-button`,n.getClass("button")];s&&d.push(n.getClass("buttonActive")),r.push(A("button",{type:"button",title:"function"==typeof c?c(t.navUnit):c,disabled:i,"aria-pressed":s,className:d.join(" "),onClick:a},l||(o?A("span",{className:o,role:"img"}):"")))}}return r.length>1?A("div",{className:s&&n.getClass("buttonGroup")||""},...r):r[0]}}class Ga extends Hn{render(){let e,t,{model:n,extraClassName:r}=this.props,s=!1,i=n.sectionWidgets,a=i.center;return i.left?(s=!0,e=i.left):e=i.start,i.right?(s=!0,t=i.right):t=i.end,A("div",{className:[r||"","fc-toolbar",s?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",a||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return A(qa,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class $a extends Hn{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Fn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",i="";return n?null!==t.availableWidth?s=t.availableWidth/n:i=1/n*100+"%":s=e.height||"",A("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:i}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Qa extends ms{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,s=Zr(t);if(s&&n.isValidSegDownEl(e.target)){let i=Ge(e.target,".fc-event-forced-url"),a=i?i.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new qr(n.context,s.eventRange.def,s.eventRange.instance),jsEvent:e,view:r.viewApi}),a&&!e.defaultPrevented&&(window.location.href=a)}},this.destroy=tt(e.el,"click",".fc-event",this.handleSegClick)}}class Ya extends ms{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{Zr(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=function(e,t,n,r){let s;return tt(e,"mouseover",".fc-event",(e,t)=>{if(t!==s){s=t,n(e,t);let i=e=>{s=null,r(e,t),t.removeEventListener("mouseleave",i)};t.addEventListener("mouseleave",i)}})}(e.el,0,this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:s}=r,i=Zr(n);t&&!r.isValidSegDownEl(t.target)||s.emitter.trigger(e,{el:n,event:new qr(s,i.eventRange.def,i.eventRange.instance),jsEvent:t,view:s.viewApi})}}class Za extends Bn{constructor(){super(...arguments),this.buildViewContext=Vt(zn),this.buildViewPropTransformers=Vt(Xa),this.buildToolbarProps=Vt(Ka),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:Je()},this.registerInteractiveComponent=(e,t)=>{let n=function(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}(e,t),r=[Qa,Ya].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,bs[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete bs[e.uid]},this.resizeRunner=new Ve(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:r}=t,s=!1,i="";t.isHeightAuto||t.forPrint?i="":null!=r.height?s=!0:null!=r.contentHeight?i=r.contentHeight:e=Math.max(r.aspectRatio,.5);let a=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return A(Ln.Provider,{value:a},A(ys,{unit:"day"},r=>{let a=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,r,t.viewTitle);return A(D,null,n.header&&A(Ga,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},a)),A($a,{liquid:s,height:i,aspectRatio:e,labeledById:l},this.renderView(t),this.buildAppendContent()),n.footer&&A(Ga,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},a)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(t=>new t(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let r in n)t[r]!==e[r]&&n[r](t[r],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this;return A(D,{},...e.pluginHooks.viewContainerAppends.map(t=>t(e)))}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,r={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let t of s)Object.assign(r,t.transform(r,e));return A(n.component,Object.assign({},r))}}function Ka(e,t,n,r,s,i){let a=n.build(s,void 0,!1),l=n.buildPrev(t,r,!1),o=n.buildNext(t,r,!1);return{title:i,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!nr(t.currentRange,s),isPrevEnabled:l.isValid,isNextEnabled:o.isValid}}function Xa(e){return e.map(e=>new e)}class Ja extends ws{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;Mn(()=>{X(A(ps,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(t,n,r,s)=>(this.setClassNames(t),this.setHeight(n),A(Gn.Provider,{value:this.customContentRenderId},A(Za,Object.assign({isHeightAuto:r,forPrint:s},e))))),this.el)})}else this.isRendered&&(this.isRendered=!1,X(null,this.el),this.setClassNames([]),this.setHeight(""))},function(e){e.isConnected&&e.getRootNode&&Fe(e.getRootNode())}(e),this.el=e,this.renderRunner=new Ve(this.handleRenderRequest),new Ia({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Mn(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!kt(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){Ze(this.el,"height",e)}}const el=parseInt(String(n.version).split(".")[0])<18;class tl extends n.Component{constructor(){super(...arguments),this.elRef=(0,n.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(n.createElement(nl,{key:t.id,customRendering:t}));return n.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Ki;let t;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Ja(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{(0,S.flushSync)(()=>{})}),e.subscribe(e=>{const n=Date.now(),r=!t;(el||r||this.isUpdating||this.isUnmounting||n-t<100?rl:S.flushSync)(()=>{this.setState({customRenderingMap:e},()=>{t=n,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){void 0!==this.resizeId&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}tl.act=rl;class nl extends n.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n="function"==typeof t?t(e.renderProps):t;return(0,S.createPortal)(n,e.containerEl)}}function rl(e){e()}class sl extends Ws{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(e,t){let{props:n,context:r}=this,s=[],i=Ci(r.options);return e&&s.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),A(Yn,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},A(Ai,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,n,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:i,context:a}=this,l=!i.forPrint&&Ci(a.options),o=!i.forPrint&&Ni(a.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),o&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ei}]}),A(Yn,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},A(s,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:c}))}}function il(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function al(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function ll(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}const ol=an({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function cl(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class dl extends Hn{render(){let{props:e}=this;return A(Di,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:ol,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class ul extends Hn{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,s=ss(r,n.eventTimeFormat||ol,t,!0,e.defaultDisplayEventEnd);return A(ji,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:os(e.seg,t),defaultGenerator:hl,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function hl(e){return A(D,null,A("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&A("div",{className:"fc-event-time"},e.timeText),A("div",{className:"fc-event-title"},e.event.title||A(D,null," ")))}class fl extends Hn{constructor(){super(...arguments),this.compileSegs=Vt(gl)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return A(Vi,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return A(D,null,t.map(t=>{let r=t.eventRange.instance.instanceId;return A("div",{className:"fc-daygrid-event-harness",key:r,style:{visibility:n[r]?"hidden":""}},cl(t)?A(ul,Object.assign({seg:t,isDragging:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},is(t,e.todayRange))):A(dl,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:r===e.eventSelection,defaultDisplayEventEnd:!1},is(t,e.todayRange))))}))}})}}function gl(e){let t=[],n=[];for(let r of e)t.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:t,invisibleSegs:n}}const pl=an({week:"narrow"});class ml extends Ws{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:Je()},this.handleRootEl=e=>{Fn(this.rootElRef,e),Fn(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:r}=this,{options:s,dateEnv:i}=e,{date:a,dateProfile:l}=t;const o=t.showDayNumber&&function(e,t,n){const{start:r,end:s}=t,i=At(s,-1),a=n.getYear(r),l=n.getMonth(r),o=n.getYear(i),c=n.getMonth(i);return!(a===o&&l===c)&&Boolean(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<s.valueOf())}(a,l.currentRange,i);return A(Ii,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:vl,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:o,extraRenderProps:t.extraRenderProps},(i,l)=>A("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&A(Hi,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ts(e,a,"week"),date:a,defaultFormat:pl}),!l.isDisabled&&(t.showDayNumber||Pi(s)||t.forceDayTop)?A("div",{className:"fc-daygrid-day-top"},A(i,{elTag:"a",elClasses:["fc-daygrid-day-number",o&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ts(e,a)),{id:n.dayNumberId})})):t.showDayNumber?A("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},A("a",{className:"fc-daygrid-day-number"}," ")):void 0,A("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,A("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},A(fl,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:r,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),A("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function vl(e){return e.dayNumberText||A(D,null," ")}function bl(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function yl(e){return bl(e)+":"+e.lastCol}function xl(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let s=e.eventRange,i=s.range,a=Jn(i,{start:r[t].date,end:Nt(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:a},isStart:e.isStart&&a.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===i.end.valueOf()})}class wl extends Vs{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[Gs(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(r);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:i,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&i){const e=Gs(i);if(!s[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},i),{span:Qs(i.span,t.span)});s[Gs(e)]=!0,r[a][l]=e,n.push(e),this.splitEntry(i,t,n)}else s[e]=!0,n.push(i)}super.handleInvalidInsertion(e,t,n)}}class Sl extends Ws{constructor(){super(...arguments),this.cellElRefs=new yi,this.frameElRefs=new yi,this.fgElRefs=new yi,this.segHarnessRefs=new yi,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:r}=n,s=e.cells.length,i=al(e.businessHourSegs,s),a=al(e.bgEventSegs,s),l=al(this.getHighlightSegs(),s),o=al(this.getMirrorSegs(),s),{singleColPlacements:c,multiColPlacements:d,moreCnts:u,moreMarginTops:h}=function(e,t,n,r,s,i,a){let l=new wl(t=>{let n=e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1);return s[n]||1});l.allowReslicing=!0,l.strictOrder=r,!0===t||!0===n?(l.maxCoord=i,l.hiddenConsumes=!0):"number"==typeof t?l.maxStackCnt=t:"number"==typeof n&&(l.maxStackCnt=n,l.hiddenConsumes=!0);let o=[],c=[];for(let t=0;t<e.length;t+=1){let n=e[t],r=yl(n);null!=s[r]?o.push({index:t,span:{start:n.firstCol,end:n.lastCol+1}}):c.push(n)}let d=l.addSegs(o),u=l.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:g}=function(e,t,n){let r=function(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}(e,n.length),s=[],i=[],a=[];for(let e=0;e<n.length;e+=1){let l=r[e],o=[],c=0,d=0;for(let r of l){let s=t[r.index];o.push({seg:xl(s,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:r.levelCoord-c}),c=r.levelCoord+r.thickness}let u=[];c=0,d=0;for(let r of l){let s=t[r.index],i=r.span.end-r.span.start>1,a=r.span.start===e;d+=r.levelCoord-c,c=r.levelCoord+r.thickness,i?(d+=r.thickness,a&&u.push({seg:xl(s,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:r.levelCoord,marginTop:0})):a&&(u.push({seg:xl(s,r.span.start,r.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:r.levelCoord,marginTop:d}),d=0)}s.push(o),i.push(u),a.push(d)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:a}}(u,e,a),p=[],m=[];for(let e of c){f[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)h[t].push({seg:xl(e,t,t+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<a.length;e+=1)p.push(0);for(let t of d){let n=e[t.index],r=t.span;f[r.start].push({seg:xl(n,r.start,r.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=r.start;e<r.end;e+=1)p[e]+=1,h[e].push({seg:xl(n,e,e+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<a.length;e+=1)m.push(g[e]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:p,moreMarginTops:m}}(Jr(e.fgEventSegs,r.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,r.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),f=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return A("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((t,n)=>{let r=this.renderFgSegs(n,e.forPrint?c[n]:d[n],e.todayRange,f),s=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}))}(o[n],d),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return A(ml,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:u[n],moreMarginTop:h[n],singlePlacements:c[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:A(D,null,A(D,null,r),A(D,null,s)),bgContent:A(D,null,this.renderFillSegs(l[n],"highlight"),this.renderFillSegs(i[n],"non-business"),this.renderFillSegs(a[n],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!kn(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,r,s,i,a){let{context:l}=this,{eventSelection:o}=this.props,{framePositions:c}=this.state,d=1===this.props.cells.length,u=s||i||a,h=[];if(c)for(let e of t){let{seg:t}=e,{instanceId:f}=t.eventRange.instance,g=e.isVisible&&!r[f],p=e.isAbsolute,m="",v="";p&&(l.isRtl?(v=0,m=c.lefts[t.lastCol]-c.lefts[t.firstCol]):(m=0,v=c.rights[t.firstCol]-c.rights[t.lastCol])),h.push(A("div",{className:"fc-daygrid-event-harness"+(p?" fc-daygrid-event-harness-abs":""),key:bl(t),ref:u?null:this.segHarnessRefs.createRef(yl(t)),style:{visibility:g?"":"hidden",marginTop:p?"":e.marginTop,top:p?e.absoluteTop:"",left:m,right:v}},cl(t)?A(ul,Object.assign({seg:t,isDragging:s,isSelected:f===o,defaultDisplayEventEnd:d},is(t,n))):A(dl,Object.assign({seg:t,isDragging:s,isResizing:i,isDateSelecting:a,isSelected:f===o,defaultDisplayEventEnd:d},is(t,n)))))}return h}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,i=[];if(s)for(let a of e){let e=n?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};i.push(A("div",{key:ls(a.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?A(Li,Object.assign({seg:a},is(a,r))):Bi(t)))}return A(D,{},...i)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map(e=>r.currentMap[e.key]);if(e.length){let t=this.rootElRef.current,r=new zs(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new zs(t,e,!0,!1)})}}const s=this.state.segHeights,i=this.querySegHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},s),i),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let r=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,r)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}Sl.addStateEquality({segHeights:kn});class _l extends Ws{constructor(){super(...arguments),this.splitBusinessHourSegs=Vt(il),this.splitBgEventSegs=Vt(kl),this.splitFgEventSegs=Vt(il),this.splitDateSelectionSegs=Vt(il),this.splitEventDrag=Vt(ll),this.splitEventResize=Vt(ll),this.rowRefs=new yi}render(){let{props:e,context:t}=this,n=e.cells.length,r=this.splitBusinessHourSegs(e.businessHourSegs,n),s=this.splitBgEventSegs(e.bgEventSegs,n),i=this.splitFgEventSegs(e.fgEventSegs,n),a=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),o=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return A(ys,{unit:"day"},(t,d)=>A(D,null,e.cells.map((t,u)=>A(Sl,{ref:this.rowRefs.createRef(u),key:t.length?t[0].date.toISOString():u,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:r[u],eventSelection:e.eventSelection,bgEventSegs:s[u],fgEventSegs:i[u],dateSelectionSegs:a[u],eventDrag:l[u],eventResize:o[u],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new zs(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new zs(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:r}=this,s=n.leftToIndex(e),i=r.topToIndex(t);if(null!=i&&null!=s){let e=this.props.cells[i][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,s),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(i,s),rect:{left:n.lefts[s],right:n.rights[s],top:r.tops[i],bottom:r.bottoms[i]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:Nt(n,1)}}}function kl(e,t){return il(e.filter(El),t)}function El(e){return e.eventRange.def.allDay}class Cl extends Ws{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,s=!0===n||!0===t;s&&!r&&(s=!1,t=null,n=null);let i=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return A("div",{ref:this.elRef,className:i.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,A("tbody",{role:"presentation"},A(_l,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function(e,t){let n;var r;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${r=t.currentDate,r.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`)),n||(n=e.querySelector(`[data-date="${Ft(t.currentDate)}"]`)),n}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),r=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=r?r+1:0}this.needsScrollReset=!1}}}class Nl extends oi{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class Al extends Ws{constructor(){super(...arguments),this.slicer=new Nl,this.tableRef={current:null}}render(){let{props:e,context:t}=this;return A(Cl,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}function jl(e,t){let n=new ai(e.renderRange,t);return new li(n,/year|month|week/.test(e.currentRangeUnit))}He(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var Dl=sa({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends sl{constructor(){super(...arguments),this.buildDayTableModel=Vt(jl),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,r=this.buildDayTableModel(n.dateProfile,t),s=e.dayHeaders&&A(si,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),i=t=>A(Al,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,i,r.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,i)}},dateProfileGeneratorClass:class extends ar{buildRenderRange(e,t,n){let r=super.buildRenderRange(e,t,n),{props:s}=this;return function(e){let t,{dateEnv:n,currentRange:r}=e,{start:s,end:i}=r;if(e.snapToWeek&&(s=n.startOfWeek(s),t=n.startOfWeek(i),t.valueOf()!==i.valueOf()&&(i=Ct(t,1))),e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth(Nt(r.end,-1)));i=Ct(i,6-Math.ceil(jt(e,i)/7))}return{start:s,end:i}}({currentRange:r,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Tl extends Es{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?"background"===(t=e).ui.display||"inverse-background"===t.ui.display?["timed","allDay"]:["allDay"]:["timed"];var t}}const Rl=an({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Ml(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return A(Ln.Consumer,null,n=>{if(!e.isLabeled)return A("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:r,options:s,viewApi:i}=n,a=null==s.slotLabelFormat?Rl:Array.isArray(s.slotLabelFormat)?an(s.slotLabelFormat[0]):an(s.slotLabelFormat),l={level:0,time:e.time,date:r.toDate(e.date),view:i,text:r.format(e.date,a)};return A($n,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:Il,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},e=>A("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},A(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Il(e){return e.text}class Pl extends Hn{render(){return this.props.slatMetas.map(e=>A("tr",{key:e.key},A(Ml,Object.assign({},e))))}}const Ol=an({week:"short"});class Ll extends Ws{constructor(){super(...arguments),this.allDaySplitter=new Tl,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:r}=this.props,s=r.renderRange,i=1===jt(s.start,s.end)?Ts(this.context,s.start,"week"):{};return n.weekNumbers&&"day"===e?A(Hi,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:Ol},e=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},A(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:i}))):A("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},A("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,r={text:t.allDayText,view:n};return A($n,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:zl,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},t=>A("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},A(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:r,props:s}=this,i=[],a=Ci(r.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(i.push({type:"body",key:"all-day",chunk:{content:t}}),i.push({type:"body",key:"all-day-divider",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),A(Yn,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},A(Ai,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:i}))}renderHScrollLayout(e,t,n,r,s,i,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:o,props:c}=this,d=!c.forPrint&&Ci(o.options),u=!c.forPrint&&Ni(o.options),h=[];e&&h.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>A("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>A("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),h.push({key:"all-day-divider",type:"body",outerContent:A("tr",{role:"presentation",className:"fc-scrollgrid-section"},A("td",{colSpan:2,className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))}));let f=o.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunks:[{key:"axis",content:e=>A("div",{className:"fc-timegrid-axis-chunk"},A("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,A("tbody",null,A(Pl,{slatMetas:i}))),A("div",{className:"fc-timegrid-now-indicator-container"},A(ys,{unit:f?"minute":"day"},e=>{let t=f&&a&&a.safeComputeTop(e);return"number"==typeof t?A(Ri,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),u&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ei},{key:"cols",content:Ei}]}),A(Yn,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:o.viewSpec},A(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return!0!==e&&!0!==t||(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function zl(e){return e.text}class Bl{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(nr(t.currentRange,e)){let n=Tt(e),r=e.valueOf()-n.valueOf();if(r>=wt(t.slotMinTime)&&r<wt(t.slotMaxTime))return this.computeTimeTop(vt(r))}return null}computeDateTop(e,t){return t||(t=Tt(e)),this.computeTimeTop(vt(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,n,{positions:r,dateProfile:s}=this,i=r.els.length,a=(e.milliseconds-wt(s.slotMinTime))/wt(this.slotDuration);return a=Math.max(0,a),a=Math.min(i,a),t=Math.floor(a),t=Math.min(t,i-1),n=a-t,r.tops[t]+r.getHeight(t)*n}}class Hl extends Hn{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:r}=e;return A("tbody",null,e.slatMetas.map((s,i)=>{let a={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return A("tr",{key:s.key,ref:r.createRef(s.key)},e.axis&&A(Ml,Object.assign({},s)),A($n,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class Fl extends Hn{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new yi}render(){let{props:e,context:t}=this;return A("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},A("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,A(Hl,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;var n;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new Bl(new zs(this.rootElRef.current,(n=this.slatElRefs.currentMap,t.slatMetas.map(e=>n[e.key])),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Ul(e,t){let n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function Wl(e,t){let n=[];if(e){for(let r=0;r<t;r+=1)n[r]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}class Vl extends Hn{render(){let{props:e}=this;return A(Vi,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>eo(e.hiddenSegs,e),defaultGenerator:ql,forceTimed:!0},e=>A(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ql(e){return e.shortText}function Gl(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:s}=e,i=r,a=[];for(;i<s;)a.push(t(n,i)),i+=1;return a.sort($l),[a.map(Ql),a[0][1]]}function $l(e,t){return t[1]-e[1]}function Ql(e){return e[0]}function Yl(e,t){const n={};return(...r)=>{let s=e(...r);return s in n?n[s]:n[s]=t(...r)}}function Zl(e,t,n=null,r=0){let s=[];if(n)for(let i=0;i<e.length;i+=1){let a=e[i],l=n.computeDateTop(a.start,t),o=Math.max(l+(r||0),n.computeDateTop(a.end,t));s.push({start:Math.round(l),end:Math.round(o)})}return s}const Kl=an({hour:"numeric",minute:"2-digit",meridiem:!1});class Xl extends Hn{render(){return A(Di,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Kl}))}}class Jl extends Hn{constructor(){super(...arguments),this.sortEventSegs=Vt(Jr)}render(){let{props:e,context:t}=this,{options:n}=t,r=n.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||r&&e.dateSelectionSegs||[],i=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return A(Ii,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},t=>A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,i,!1,!1,!1)),A("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(r),"mirror")),A("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Pi(n)&&A(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,r,s,i){let{props:a}=this;return a.forPrint?eo(e,a):this.renderPositionedFgSegs(e,t,n,r,s,i)}renderPositionedFgSegs(e,t,n,r,s,i){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:o,eventMinHeight:c}=this.context.options,{date:d,slatCoords:u,eventSelection:h,todayRange:f,nowDate:g}=this.props,p=n||r||s,m=Zl(e,d,u,c),{segPlacements:v,hiddenGroups:b}=function(e,t,n,r){let s=[],i=[];for(let n=0;n<e.length;n+=1){let r=t[n];r?s.push({index:n,thickness:1,span:r}):i.push(e[n])}let{segRects:a,hiddenGroups:l}=function(e,t,n){let r=new Vs;null!=t&&(r.strictOrder=t),null!=n&&(r.maxStackCnt=n);let s=function(e){let t=[];for(let n of e){let e=[],r={span:n.span,entries:[n]};for(let n of t)Qs(n.span,r.span)?r={entries:n.entries.concat(r.entries),span:$s(n.span,r.span)}:e.push(n);e.push(r),t=e}return t}(r.addSegs(e)),i=function(e){const{entriesByLevel:t}=e,n=Yl((e,t)=>e+":"+t,(r,s)=>{let i=function(e,t,n){let{levelCoords:r,entriesByLevel:s}=e,i=s[t][n],a=r[t]+i.thickness,l=r.length,o=t;for(;o<l&&r[o]<a;o+=1);for(;o<l;o+=1){let e,t=s[o],n=Zs(t,i.span.start,qs),r=n[0]+n[1],a=r;for(;(e=t[a])&&e.span.start<i.span.end;)a+=1;if(r<a)return{level:o,lateralStart:r,lateralEnd:a}}return null}(e,r,s),a=Gl(i,n),l=t[r][s];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]});return Gl(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(r);return i=function(e){const t=Yl((e,t,n)=>Gs(e),(e,n,r)=>{let s,{nextLevelNodes:i,thickness:a}=e,l=a+r,o=a/l,c=[];if(i.length)for(let e of i)if(void 0===s){let r=t(e,n,l);s=r[0],c.push(r[1])}else{let n=t(e,s,0);c.push(n[1])}else s=1;let d=(s-n)*o;return[s-d,Object.assign(Object.assign({},e),{thickness:d,nextLevelNodes:c})]});return e.map(e=>t(e,0,0)[1])}(i),{segRects:function(e){let t=[];const n=Yl((e,t,n)=>Gs(e),(e,n,s)=>{let i=Object.assign(Object.assign({},e),{levelCoord:n,stackDepth:s,stackForward:0});return t.push(i),i.stackForward=r(e.nextLevelNodes,n+e.thickness,s+1)+1});function r(e,t,r){let s=0;for(let i of e)s=Math.max(n(i,t,r),s);return s}return r(e,0,0),t}(i),hiddenGroups:s}}(s,n,r),o=[];for(let t of a)o.push({seg:e[t.index],rect:t});for(let e of i)o.push({seg:e,rect:null});return{segPlacements:o,hiddenGroups:l}}(e,m,o,a);return A(D,null,this.renderHiddenGroups(b,e),v.map(e=>{let{seg:a,rect:o}=e,c=a.eventRange.instance.instanceId,d=p||Boolean(!t[c]&&o),u=to(o&&o.span),m=!p&&o?this.computeSegHStyle(o):{left:0,right:0},v=Boolean(o)&&o.stackForward>0,b=Boolean(o)&&o.span.end-o.span.start<l;return A("div",{className:"fc-timegrid-event-harness"+(v?" fc-timegrid-event-harness-inset":""),key:i||c,style:Object.assign(Object.assign({visibility:d?"":"hidden"},u),m)},A(Xl,Object.assign({seg:a,isDragging:n,isResizing:r,isDateSelecting:s,isSelected:c===h,isShort:b},is(a,f,g))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:r,todayRange:s,nowDate:i,eventSelection:a,eventDrag:l,eventResize:o}=this.props;return A(D,null,e.map(e=>{let c=to(e.span),d=(u=e.entries,h=t,u.map(e=>h[e.index]));var u,h;return A(Vl,{key:Ht($i(d)),hiddenSegs:d,top:c.top,bottom:c.bottom,extraDateSpan:n,dateProfile:r,todayRange:s,nowDate:i,eventSelection:a,eventDrag:l,eventResize:o})}))}renderFillSegs(e,t){let{props:n,context:r}=this,s=Zl(e,n.date,n.slatCoords,r.options.eventMinHeight).map((r,s)=>{let i=e[s];return A("div",{key:ls(i.eventRange),className:"fc-timegrid-bg-harness",style:to(r)},"bg-event"===t?A(Li,Object.assign({seg:i},is(i,n.todayRange,n.nowDate))):Bi(t))});return A(D,null,s)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((e,r)=>A(Ri,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let t,n,{isRtl:r,options:s}=this.context,i=s.slotEventOverlap,a=e.levelCoord,l=e.levelCoord+e.thickness;i&&(l=Math.min(1,a+2*(l-a))),r?(t=1-l,n=a):(t=a,n=1-l);let o={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return i&&!e.stackForward&&(o[r?"marginLeft":"marginRight"]=20),o}}function eo(e,{todayRange:t,nowDate:n,eventSelection:r,eventDrag:s,eventResize:i}){let a=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return A(D,null,e.map(e=>{let s=e.eventRange.instance.instanceId;return A("div",{key:s,style:{visibility:a[s]?"hidden":""}},A(Xl,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===r,isShort:!1},is(e,t,n))))}))}function to(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class no extends Hn{constructor(){super(...arguments),this.splitFgEventSegs=Vt(Ul),this.splitBgEventSegs=Vt(Ul),this.splitBusinessHourSegs=Vt(Ul),this.splitNowIndicatorSegs=Vt(Ul),this.splitDateSelectionSegs=Vt(Ul),this.splitEventDrag=Vt(Wl),this.splitEventResize=Vt(Wl),this.rootElRef={current:null},this.cellElRefs=new yi}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),r=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,r),i=this.splitBgEventSegs(e.bgEventSegs,r),a=this.splitBusinessHourSegs(e.businessHourSegs,r),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,r),o=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),d=this.splitEventResize(e.eventResize,r);return A("div",{className:"fc-timegrid-cols",ref:this.rootElRef},A("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,A("tbody",{role:"presentation"},A("tr",{role:"row"},e.axis&&A("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},A("div",{className:"fc-timegrid-col-frame"},A("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&A(Ri,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((t,n)=>A(Jl,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:s[n],bgEventSegs:i[n],businessHourSegs:a[n],nowIndicatorSegs:l[n],dateSelectionSegs:o[n],eventDrag:c[n],eventResize:d[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;var t;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new zs(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map(e=>t[e.key])),!0,!1))}}class ro extends Ws{constructor(){super(...arguments),this.processSlotOptions=Vt(so),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let r=n.computeTimeTop(e.time);r=Math.ceil(r),r&&(r+=1),t(r)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return A("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},A(Fl,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),A(no,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:s}=this,{dateProfile:i}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:o}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),c=s.leftToIndex(e),d=a.positions.topToIndex(t);if(null!=c&&null!=d){let e=this.props.cells[c],r=a.positions.tops[d],u=a.positions.getHeight(d),h=(t-r)/u,f=d*o+Math.floor(h*o),g=this.props.cells[c].date,p=yt(i.slotMinTime,function(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}(l,f)),m=n.add(g,p),v=n.add(m,l);return{dateProfile:i,dateSpan:Object.assign({range:{start:m,end:v},allDay:!1},e.extraDateSpan),dayEl:s.els[c],rect:{left:s.lefts[c],right:s.rights[c],top:r,bottom:r+u},layer:0}}return null}}function so(e,t){let n=t||e,r=St(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class io extends oi{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let s=Jn(e,t[r]);s&&n.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:r})}return n}}class ao extends Ws{constructor(){super(...arguments),this.buildDayRanges=Vt(lo),this.slicer=new io,this.timeColsRef={current:null}}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:r}=e,{nowIndicator:s,nextDayThreshold:i}=t.options,a=this.buildDayRanges(r,n,t.dateEnv);return A(ys,{unit:s?"minute":"day"},(l,o)=>A(ro,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:r.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:s&&this.slicer.sliceNowDate(l,n,i,t,a),todayRange:o,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function lo(e,t,n){let r=[];for(let s of e.headerDates)r.push({start:n.add(s,t.slotMinTime),end:n.add(s,t.slotMaxTime)});return r}const oo=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function co(e,t,n,r,s){let i=new Date(0),a=e,l=vt(0),o=n||function(e){let t,n,r;for(t=oo.length-1;t>=0;t-=1)if(n=vt(oo[t]),r=St(n,e),null!==r&&r>1)return n;return e}(r),c=[];for(;wt(a)<wt(t);){let e=s.add(i,a),t=null!==St(l,o);c.push({date:e,time:a,key:e.toISOString(),isoTimeStr:Ut(e),isLabeled:t}),a=yt(a,r),l=yt(l,r)}return c}function uo(e,t){let n=new ai(e.renderRange,t);return new li(n,!1)}He('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var ho=sa({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class extends Ll{constructor(){super(...arguments),this.buildTimeColsModel=Vt(uo),this.buildSlatMetas=Vt(co)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:r}=this,{dateProfile:s}=r,i=this.buildTimeColsModel(s,n),a=this.allDaySplitter.splitProps(r),l=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:o}=e,c=!o,d=o,u=e.dayHeaders&&A(si,{dates:i.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),h=!1!==e.allDaySlot&&(t=>A(Al,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:i,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),f=t=>A(ao,Object.assign({},a.timed,{dayTableModel:i,dateProfile:s,axis:c,slotDuration:e.slotDuration,slatMetas:l,forPrint:r.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(u,h,f,i.colCnt,o,l,this.state.slatCoords):this.renderSimpleLayout(u,h,f)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Xs.touchMouseIgnoreWait=500;let fo=0,go=0,po=!1;class mo{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function(e){return 0===e.button&&!e.ctrlKey}(e)&&this.tryStart(e)){let t=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let t=this.createEventFromMouse(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let t=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",t),this.initScrollWatch(t);let n=e.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let t=this.createEventFromTouch(e);this.recordCoords(t),this.emitter.trigger("pointermove",t)},this.handleTouchEnd=e=>{if(this.isDragging){let t=e.target;t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,fo+=1,setTimeout(()=>{fo-=1},Xs.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let t=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new Or,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),go+=1,1===go&&window.addEventListener("touchmove",vo,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),go-=1,go||window.removeEventListener("touchmove",vo,{passive:!1})}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Ge(n,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){po=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Ge(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return fo||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(po=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n,r,s=e.touches,i=0,a=0;return s&&s.length?(n=s[0].pageX,r=s[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(i=n-this.origPageX,a=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:i,deltaY:a}}}function vo(e){po&&e.preventDefault()}class bo{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Ye(n,{left:r.left,top:r.top}),function(e,t){let n=r=>{t(),nt.forEach(t=>{e.removeEventListener(t,n)})};nt.forEach(t=>{e.addEventListener(t,n)})}(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(qe(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Ye(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Ye(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class yo extends Hs{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class xo extends yo{constructor(e,t){super(new Fs(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Ps(this.scrollController.el)}}class wo extends yo{constructor(e){super(new Us,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const So="function"==typeof performance?performance.now:Date.now;class _o{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=So();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,r=t-window.scrollY,s=null===this.pointerScreenY?0:r-this.pointerScreenY,i=null===this.pointerScreenX?0:n-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(So()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:r}=this,s=r-e.distance,i=s*s/(r*r)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+i*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+i*a)}}computeBestEdge(e,t){let{edgeThreshold:n}=this,r=null,s=this.scrollCaches||[];for(let i of s){let s=i.clientRect,a=e-s.left,l=s.right-e,o=t-s.top,c=s.bottom-t;a>=0&&l>=0&&o>=0&&c>=0&&(o<=n&&this.everMovedUp&&i.canScrollUp()&&(!r||r.distance>o)&&(r={scrollCache:i,name:"top",distance:o}),c<=n&&this.everMovedDown&&i.canScrollDown()&&(!r||r.distance>c)&&(r={scrollCache:i,name:"bottom",distance:c}),a<=n&&this.everMovedLeft&&i.canScrollLeft()&&(!r||r.distance>a)&&(r={scrollCache:i,name:"left",distance:a}),l<=n&&this.everMovedRight&&i.canScrollRight()&&(!r||r.distance>l)&&(r={scrollCache:i,name:"right",distance:l}))}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new wo(!1):new xo(e,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)"object"==typeof n?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class ko extends Ks{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{var t;this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(t=document.body).style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",et),document.body.addEventListener("contextmenu",et),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",e),!this.isDistanceSurpassed){let t,n=this.minDistance,{deltaX:r,deltaY:s}=e;t=r*r+s*s,t>=n*n&&this.handleDistanceSurpassed(e)}this.isDragging&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))}},this.onPointerUp=e=>{var t;this.isInteracting&&(this.isInteracting=!1,(t=document.body).style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",et),document.body.removeEventListener("contextmenu",et),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new mo(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new bo,this.autoScroller=new _o}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Eo{constructor(e){this.el=e,this.origRect=Os(e),this.scrollCaches=Ls(e).map(e=>new xo(e,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let e of this.scrollCaches)if(!Co(e.getEventTarget())&&!Ss(n,e.clientRect))return!1;return!0}}function Co(e){let t=e.tagName;return"HTML"===t||"BODY"===t}class No{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{let{dragging:t}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Or}processFirstCoord(e){let t,n={left:e.pageX,top:e.pageY},r=n,s=e.subjectEl;var i,a;s instanceof HTMLElement&&(t=Os(s),i=r,a=t,r={left:Math.min(Math.max(i.left,a.left),a.right),top:Math.min(Math.max(i.top,a.top),a.bottom)});let l=this.initialHit=this.queryHitForOffset(r.left,r.top);if(l){if(this.useSubjectCenter&&t){let e=_s(t,l.rect);e&&(r=function(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}(e))}this.coordAdjust=(c=n,{left:(o=r).left-c.left,top:o.top-c.top})}else this.coordAdjust={left:0,top:0};var o,c}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&Ao(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=wn(this.droppableStore,e=>(e.component.prepareHits(),new Eo(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,s=null;for(let i in n){let a=n[i].component,l=r[i];if(l&&l.isWithinClipping(e,t)){let n=l.computeLeft(),r=l.computeTop(),o=e-n,c=t-r,{origRect:d}=l,u=d.right-d.left,h=d.bottom-d.top;if(o>=0&&o<u&&c>=0&&c<h){let e=a.queryHit(o,c,u,h);e&&tr(e.dateProfile.activeRange,e.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(o+n-window.scrollX,c+r-window.scrollY)))&&(!s||e.layer>s.layer)&&(e.componentId=i,e.context=a.context,e.rect.left+=n,e.rect.right+=n,e.rect.top+=r,e.rect.bottom+=r,s=e)}}}return s}}function Ao(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&(n=e.dateSpan,r=t.dateSpan,s=n.range,i=r.range,(null===s.start?null:s.start.valueOf())===(null===i.start?null:i.start.valueOf())&&(null===s.end?null:s.end.valueOf())===(null===i.end?null:i.end.valueOf())&&n.allDay===r.allDay&&function(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}(n,r));var n,r,s,i}function jo(e,t){let n={};for(let r of t.pluginHooks.datePointTransforms)Object.assign(n,r(e,t));var r,s;return Object.assign(n,(r=e,{date:(s=t.dateEnv).toDate(r.range.start),dateStr:s.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay})),n}class Do extends ms{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let t=e.origEvent.target,{component:n,dragging:r}=this,{mirror:s}=r,{options:i}=n.context,a=n.context;this.subjectEl=e.subjectEl;let l=this.subjectSeg=Zr(e.subjectEl),o=(this.eventRange=l.eventRange).instance.instanceId;this.relevantEvents=yr(a.getCurrentData().eventStore,o),r.minDistance=e.isTouch?0:i.eventDragMinDistance,r.delay=e.isTouch&&o!==n.props.eventSelection?function(e){let{options:t}=e.context,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}(n):null,i.fixedMirrorParent?s.parentNode=i.fixedMirrorParent:s.parentNode=Ge(t,".fc"),s.revertDuration=i.dragRevertDuration;let c=n.isValidSegDownEl(t)&&!Ge(t,".fc-event-resizer");r.setIgnoreMove(!c),this.isDragging=c&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{let t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new qr(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(e,t)=>{if(!this.isDragging)return;let n=this.relevantEvents,r=this.hitDragging.initialHit,s=this.component.context,i=null,a=null,l=null,o=!1,c={affectedEvents:n,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(e){i=e.context;let t=i.options;s===i||t.editable&&t.droppable?(a=function(e,t,n,r){let s=e.dateSpan,i=t.dateSpan,a=s.range.start,l=i.range.start,o={};s.allDay!==i.allDay&&(o.allDay=i.allDay,o.hasEnd=t.context.options.allDayMaintainDuration,a=i.allDay?Tt(n):n);let c=ir(a,l,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(o.allDay=!1);let d={datesDelta:c,standardProps:o};for(let n of r)n(d,e,t);return d}(r,e,this.eventRange.instance.range.start,i.getCurrentData().pluginHooks.eventDragMutationMassagers),a&&(l=Fr(n,i.getCurrentData().eventUiBases,a,i),c.mutatedEvents=l,di(c,e.dateProfile,i)||(o=!0,a=null,l=null,c.mutatedEvents={defs:{},instances:{}}))):i=null}this.displayDrag(i,c),o?lt():ot(),t||(s===i&&Ao(r,e)&&(a=null),this.dragging.setMirrorNeedsRevert(!a),this.dragging.setMirrorIsVisible(!e||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=i,this.validMutation=a,this.mutatedRelevantEvents=l)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=e=>{if(this.isDragging){let t=this.component.context,n=t.viewApi,{receivingContext:r,validMutation:s}=this,i=this.eventRange.def,a=this.eventRange.instance,l=new qr(t,i,a),o=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:d}=this.hitDragging;if(this.clearDrag(),t.emitter.trigger("eventDragStop",{el:this.subjectEl,event:l,jsEvent:e.origEvent,view:n}),s){if(r===t){let r=new qr(t,c.defs[i.defId],a?c.instances[a.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});let d={oldEvent:l,event:r,relatedEvents:$r(c,t,a),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:o})}},u={};for(let e of t.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(u,e(s,t));t.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},d),u),{el:e.subjectEl,delta:s.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",d)}else if(r){let s={event:l,relatedEvents:$r(o,t,a),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:o})}};t.emitter.trigger("eventLeave",Object.assign(Object.assign({},s),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:o}),t.emitter.trigger("eventRemove",s);let u=c.defs[i.defId],h=c.instances[a.instanceId],f=new qr(r,u,h);r.dispatch({type:"MERGE_EVENTS",eventStore:c});let g={event:f,relatedEvents:$r(c,r,h),revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};r.emitter.trigger("eventAdd",g),e.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:a.instanceId}),r.emitter.trigger("drop",Object.assign(Object.assign({},jo(d.dateSpan,r)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:d.context.viewApi})),r.emitter.trigger("eventReceive",Object.assign(Object.assign({},g),{draggedEl:e.subjectEl,view:d.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,r=this.dragging=new ko(e.el);r.pointer.selector=Do.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new No(this.dragging,bs);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Do.SELECTOR=".fc-event-draggable, .fc-event-resizable";const To={fixedMirrorParent:vn},Ro={dateClick:vn,eventDragStart:vn,eventDragStop:vn,eventDrop:vn,eventResizeStart:vn,eventResizeStop:vn,eventResize:vn,drop:vn,eventReceive:vn,eventLeave:vn};Xs.dataAttrPrefix="";var Mo=sa({name:"@fullcalendar/interaction",componentInteractions:[class extends ms{constructor(e){super(e),this.handlePointerDown=e=>{let{dragging:t}=this,n=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(n))},this.handleDragEnd=e=>{let{component:t}=this,{pointer:n}=this.dragging;if(!n.wasTouchScroll){let{initialHit:n,finalHit:r}=this.hitDragging;if(n&&r&&Ao(n,r)){let{context:r}=t,s=Object.assign(Object.assign({},jo(n.dateSpan,r)),{dayEl:n.dayEl,jsEvent:e.origEvent,view:r.viewApi||r.calendarApi.view});r.emitter.trigger("dateClick",s)}}},this.dragging=new ko(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new No(this.dragging,vs(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends ms{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{let{component:t,dragging:n}=this,{options:r}=t.context,s=r.selectable&&t.isValidDateDownEl(e.origEvent.target);n.setIgnoreMove(!s),n.delay=e.isTouch?function(e){let{options:t}=e.context,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}(t):null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let{context:n}=this.component,r=null,s=!1;if(e){let t=this.hitDragging.initialHit;e.componentId===t.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(t,e)||(r=function(e,t,n){let r=e.dateSpan,s=t.dateSpan,i=[r.range.start,r.range.end,s.range.start,s.range.end];i.sort(ht);let a={};for(let r of n){let n=r(e,t);if(!1===n)return null;n&&Object.assign(a,n)}return a.range={start:i[0],end:i[3]},a.allDay=r.allDay,a}(t,e,n.pluginHooks.dateSelectionTransformers)),r&&function(e,t,n){return!!tr(t.validRange,e.range)&&ui({dateSelection:e},n)}(r,e.dateProfile,n)||(s=!0,r=null)}r?n.dispatch({type:"SELECT_DATES",selection:r}):t||n.dispatch({type:"UNSELECT_DATES"}),s?lt():ot(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(zr(this.dragSelection,e,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,r=this.dragging=new ko(e.el);r.touchScrollAllowed=!1,r.minDistance=n.selectMinDistance||0,r.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new No(this.dragging,vs(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},Do,class extends ms{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{let{component:t}=this,n=Zr(this.querySegEl(e)),r=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==r.instance.instanceId)},this.handleDragStart=e=>{let{context:t}=this.component,n=this.eventRange;this.relevantEvents=yr(t.getCurrentData().eventStore,this.eventRange.instance.instanceId);let r=this.querySegEl(e);this.draggingSegEl=r,this.draggingSeg=Zr(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new qr(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let{context:r}=this.component,s=this.relevantEvents,i=this.hitDragging.initialHit,a=this.eventRange.instance,l=null,o=null,c=!1,d={affectedEvents:s,mutatedEvents:{defs:{},instances:{}},isEvent:!0};e&&(e.componentId===i.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(i,e)||(l=function(e,t,n,r){let s=e.context.dateEnv,i=ir(e.dateSpan.range.start,t.dateSpan.range.start,s,e.largeUnit);if(n){if(s.add(r.start,i)<r.end)return{startDelta:i}}else if(s.add(r.end,i)>r.start)return{endDelta:i};return null}(i,e,n.subjectEl.classList.contains("fc-event-resizer-start"),a.range))),l&&(o=Fr(s,r.getCurrentData().eventUiBases,l,r),d.mutatedEvents=o,di(d,e.dateProfile,r)||(c=!0,l=null,o=null,d.mutatedEvents=null)),o?r.dispatch({type:"SET_EVENT_RESIZE",state:d}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),c?lt():ot(),t||(l&&Ao(i,e)&&(l=null),this.validMutation=l,this.mutatedRelevantEvents=o)},this.handleDragEnd=e=>{let{context:t}=this.component,n=this.eventRange.def,r=this.eventRange.instance,s=new qr(t,n,r),i=this.relevantEvents,a=this.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:s,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation){let l=new qr(t,a.defs[n.defId],r?a.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:a});let o={oldEvent:s,event:l,relatedEvents:$r(a,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:i})}};t.emitter.trigger("eventResize",Object.assign(Object.assign({},o),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||vt(0),endDelta:this.validMutation.endDelta||vt(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",o)}else t.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new ko(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let r=this.hitDragging=new No(this.dragging,vs(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Ge(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{let t=this.context.options.unselectCancel,n=Ke(e.origEvent);this.matchesCancel=!!Ge(n,t),this.matchesEvent=!!Ge(n,Do.SELECTOR)},this.onDocumentPointerUp=e=>{let{context:t}=this,{documentPointer:n}=this,r=t.getCurrentData();if(!n.wasTouchScroll){if(r.dateSelection&&!this.isRecentPointerDateSelect){let n=t.options.unselectAuto;!n||n&&this.matchesCancel||t.calendarApi.unselect(e)}r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new mo(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:ko,optionRefiners:To,listenerRefiners:Ro});class Io extends Hn{constructor(){super(...arguments),this.state={textId:Je()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:r}=this.context,{cellId:s,dayDate:i,todayRange:a}=this.props,{textId:l}=this.state,o=Ns(i,a),c=n.listDayFormat?t.format(i,n.listDayFormat):"",d=n.listDaySideFormat?t.format(i,n.listDaySideFormat):"",u=Object.assign({date:t.toDate(i),view:r,textId:l,text:c,sideText:d,navLinkAttrs:Ts(this.context,i),sideNavLinkAttrs:Ts(this.context,i,"day",!1)},o);return A($n,{elTag:"tr",elClasses:["fc-list-day",...As(o,e)],elAttrs:{"data-date":Ft(i)},renderProps:u,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Po,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},t=>A("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":l},A(t,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}}function Po(e){return A(D,null,e.text&&A("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&A("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const Oo=an({hour:"numeric",minute:"2-digit",meridiem:"short"});class Lo extends Hn{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r,timeHeaderId:s,eventHeaderId:i,dateHeaderId:a}=e,l=n.eventTimeFormat||Oo;return A(ji,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function(e,t){let n=os(e,t);return A("a",Object.assign({},n),e.eventRange.def.title)}(r,t),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(e,n)=>A(D,null,function(e,t,n,r,s){let{options:i}=n;if(!1!==i.displayEventTime){let a,l=e.eventRange.def,o=e.eventRange.instance,c=!1;if(l.allDay?c=!0:function(e){let t=sr(e);return jt(t.start,t.end)>1}(e.eventRange.range)?e.isStart?a=ss(e,t,n,null,null,o.range.start,e.end):e.isEnd?a=ss(e,t,n,null,null,e.start,o.range.end):c=!0:a=ss(e,t,n),c){let e={text:n.options.allDayText,view:n.viewApi};return A($n,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${r} ${s}`},renderProps:e,generatorName:"allDayContent",customGenerator:i.allDayContent,defaultGenerator:zo,classNameGenerator:i.allDayClassNames,didMount:i.allDayDidMount,willUnmount:i.allDayWillUnmount})}return A("td",{className:"fc-list-event-time"},a)}return null}(r,l,t,s,a),A("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},A("span",{className:"fc-list-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}})),A(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${i} ${a}`}})))}}function zo(e){return e.text}function Bo(e){return e.text}function Ho(e){let t=Tt(e.renderRange.start),n=e.renderRange.end,r=[],s=[];for(;t<n;)r.push(t),s.push({start:t,end:Nt(t,1)}),t=Nt(t,1);return{dayDates:r,dayRanges:s}}function Fo(e){return!1===e?null:an(e)}He(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var Uo=sa({name:"@fullcalendar/list",optionRefiners:{listDayFormat:Fo,listDaySideFormat:Fo,noEventsClassNames:vn,noEventsContent:vn,noEventsDidMount:vn,noEventsWillUnmount:vn},views:{list:{component:class extends Ws{constructor(){super(...arguments),this.computeDateVars=Vt(Ho),this.eventStoreToSegs=Vt(this._eventStoreToSegs),this.state={timeHeaderId:Je(),eventHeaderId:Je(),dateHeaderIdRoot:Je()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return A(Yn,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},A(bi,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,n={text:e.noEventsText,view:t};return A($n,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Bo,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},e=>A(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:n,options:r}=this.context,{timeHeaderId:s,eventHeaderId:i,dateHeaderIdRoot:a}=this.state,l=function(e){let t,n,r=[];for(t=0;t<e.length;t+=1)n=e[t],(r[n.dayIndex]||(r[n.dayIndex]=[])).push(n);return r}(e);return A(ys,{unit:"day"},(e,o)=>{let c=[];for(let n=0;n<l.length;n+=1){let d=l[n];if(d){let l=Ft(t[n]),u=a+"-"+l;c.push(A(Io,{key:l,cellId:u,dayDate:t[n],todayRange:o})),d=Jr(d,r.eventOrder);for(let t of d)c.push(A(Lo,Object.assign({key:l+":"+t.eventRange.instance.instanceId,seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:i,dateHeaderId:u},is(t,o,e))))}}return A("table",{className:"fc-list-table "+n.getClass("table")},A("thead",null,A("tr",null,A("th",{scope:"col",id:s},r.timeHint),A("th",{scope:"col","aria-hidden":!0}),A("th",{scope:"col",id:i},r.eventHint))),A("tbody",null,c))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(Qr(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let r of e)n.push(...this.eventRangeToSegs(r,t));return n}eventRangeToSegs(e,t){let n,r,s,{dateEnv:i}=this.context,{nextDayThreshold:a}=this.context.options,l=e.range,o=e.def.allDay,c=[];for(n=0;n<t.length;n+=1)if(r=Jn(l,t[n]),r&&(s={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===l.end.valueOf(),dayIndex:n},c.push(s),!s.isEnd&&!o&&n+1<t.length&&l.end<i.add(t[n+1].start,a))){s.end=l.end,s.isEnd=!0;break}return c}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),Wo=__webpack_require__(917);const Vo=({currentView:t,onViewChange:n,onNavigate:r,onShowFilters:s,onRefresh:i,eventsCount:a,preferences:l})=>(0,e.jsxs)("div",{className:"calendar-toolbar flex items-center justify-between p-4 bg-gray-50 border-b border-gray-200",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsx)("button",{onClick:()=>r("today"),className:"px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors",children:"Heute"}),(0,e.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,e.jsx)("button",{onClick:()=>r("prev"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",title:"Vorherige Periode",children:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,e.jsx)("button",{onClick:()=>r("next"),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",title:"Nächste Periode",children:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Ansicht:"}),(0,e.jsx)("div",{className:"flex bg-white border border-gray-300 rounded-md overflow-hidden",children:[{value:"dayGridMonth",label:"Monat"},{value:"timeGridWeek",label:"Woche"},{value:"timeGridDay",label:"Tag"},{value:"listWeek",label:"Agenda"}].map(r=>(0,e.jsx)("button",{onClick:()=>n(r.value),className:"px-4 py-2 text-sm font-medium transition-colors "+(t===r.value?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"),children:r.label},r.value))})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,e.jsxs)("span",{children:[a," ",1===a?"Termin":"Termine"]})]}),(0,e.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors",title:"Filter anzeigen/ausblenden",children:[(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.121A1 1 0 013 6.414V4z"})}),(0,e.jsx)("span",{children:"Filter"})]}),(0,e.jsxs)("button",{onClick:i,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors",title:"Kalender aktualisieren",children:[(0,e.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,e.jsx)("span",{children:"Aktualisieren"})]})]})]}),qo=({teachers:t,courses:r,filterOptions:s,onFilterChange:i,onClose:a})=>{const[l,o]=(0,n.useState)(s),[c,d]=(0,n.useState)(!!s.date_range);(0,n.useEffect)(()=>{o(s),d(!!s.date_range)},[s]);const u=(e,t)=>{if(!c)return;const n={...l.date_range||{start:"",end:""},[e]:t};o({...l,date_range:n})},h=()=>{let e=0;return l.teachers&&l.teachers.length>0&&e++,l.courses&&l.courses.length>0&&e++,l.status&&l.status.length>0&&e++,l.date_range&&e++,e};return(0,e.jsx)("div",{className:"calendar-filters bg-gray-50 border-b border-gray-200",children:(0,e.jsxs)("div",{className:"p-6",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filter"}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[h()>0&&(0,e.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:[h()," aktiv"]}),(0,e.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lehrer (",l.teachers?.length||0," ausgewählt)"]}),(0,e.jsxs)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-md bg-white",children:[t.map(t=>(0,e.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[(0,e.jsx)("input",{type:"checkbox",checked:l.teachers?.includes(t.id)||!1,onChange:()=>(e=>{const t=l.teachers||[],n=t.includes(e)?t.filter(t=>t!==e):[...t,e];o({...l,teachers:n.length>0?n:void 0})})(t.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,e.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:t.name})]},t.id)),0===t.length&&(0,e.jsx)("div",{className:"p-3 text-sm text-gray-500 text-center",children:"Keine Lehrer verfügbar"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kurse (",l.courses?.length||0," ausgewählt)"]}),(0,e.jsxs)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-md bg-white",children:[r.map(t=>(0,e.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[(0,e.jsx)("input",{type:"checkbox",checked:l.courses?.includes(t.id)||!1,onChange:()=>(e=>{const t=l.courses||[],n=t.includes(e)?t.filter(t=>t!==e):[...t,e];o({...l,courses:n.length>0?n:void 0})})(t.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,e.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:t.topic})]},t.id)),0===r.length&&(0,e.jsx)("div",{className:"p-3 text-sm text-gray-500 text-center",children:"Keine Kurse verfügbar"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Status (",l.status?.length||0," ausgewählt)"]}),(0,e.jsx)("div",{className:"space-y-2",children:[{value:"active",label:"Aktiv"},{value:"pending",label:"Ausstehend"},{value:"completed",label:"Abgeschlossen"},{value:"cancelled",label:"Abgebrochen"}].map(t=>(0,e.jsxs)("label",{className:"flex items-center p-2 hover:bg-gray-50 cursor-pointer rounded-md",children:[(0,e.jsx)("input",{type:"checkbox",checked:l.status?.includes(t.value)||!1,onChange:()=>(e=>{const t=l.status||[],n=t.includes(e)?t.filter(t=>t!==e):[...t,e];o({...l,status:n.length>0?n:void 0})})(t.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,e.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:t.label})]},t.value))})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[(0,e.jsx)("input",{type:"checkbox",checked:c,onChange:()=>{const e=!c;if(d(e),e){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0);o({...l,date_range:{start:t.toISOString().split("T")[0],end:n.toISOString().split("T")[0]}})}else o({...l,date_range:void 0})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),"Datumsbereich"]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Von:"}),(0,e.jsx)("input",{type:"date",value:l.date_range?.start||"",onChange:e=>u("start",e.target.value),disabled:!c,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-400"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Bis:"}),(0,e.jsx)("input",{type:"date",value:l.date_range?.end||"",onChange:e=>u("end",e.target.value),disabled:!c,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-400"})]})]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[(0,e.jsx)("button",{onClick:()=>{const e={};o(e),d(!1),i(e)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors",children:"Alle zurücksetzen"}),(0,e.jsx)("button",{onClick:()=>{i(l)},className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 transition-colors",children:"Filter anwenden"})]})]})})},Go=({event:t,onClose:r,onRefresh:s})=>{const[i,a]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(null),[f,g]=(0,n.useState)(null),p=new Wo.I;(0,n.useEffect)(()=>{let e=!1;return(async()=>{try{a(!0),o(null);const n=window.electronAPI,[r,s,i]=await Promise.all([n.database.getTeacher(t.teacherId),n.database.getCourse(t.courseId),n.database.getAssignment(t.assignmentId)]);e||(d(r||null),h(s||null),g(i||null))}catch(t){e||o(`Fehler beim Laden der Ereignisdetails: ${t instanceof Error?t.message:"Unbekannter Fehler"}`)}finally{e||a(!1)}})(),()=>{e=!0}},[t]),(0,n.useEffect)(()=>{const e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r]);const m=e=>e.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",hour12:!1});return c&&u&&f?(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:t.backgroundColor}}),(0,e.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Termindetails"})]}),(0,e.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:(0,e.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,e.jsxs)("div",{className:"p-6",children:[l&&(0,e.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"flex-shrink-0",children:(0,e.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,e.jsx)("div",{className:"ml-3",children:(0,e.jsx)("p",{className:"text-sm text-red-800",children:l})})]})}),(0,e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Allgemeine Informationen"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 w-20 flex-shrink-0",children:"Kurs:"}),(0,e.jsx)("span",{className:"text-sm font-medium text-gray-900",children:u.topic})]}),(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 w-20 flex-shrink-0",children:"Lehrer:"}),(0,e.jsx)("span",{className:"text-sm font-medium text-gray-900",children:c.name})]}),(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 w-20 flex-shrink-0",children:"Status:"}),(0,e.jsx)("span",{className:"text-sm font-medium px-2 py-1 rounded-full "+("active"===f.status?"bg-green-100 text-green-800":"pending"===f.status?"bg-yellow-100 text-yellow-800":"completed"===f.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:p.translateStatus(f.status)})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Lehrerqualifikationen:"}),(0,e.jsx)("div",{className:"flex flex-wrap gap-2",children:c.qualifications.map((t,n)=>(0,e.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-md",children:t},n))})]})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Zeit und Dauer"}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 w-20 flex-shrink-0",children:"Datum:"}),(0,e.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(v=t.start,v.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]}),(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 w-20 flex-shrink-0",children:"Zeit:"}),(0,e.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[m(t.start)," - ",m(t.end)]})]}),(0,e.jsxs)("div",{className:"flex items-start",children:[(0,e.jsx)("span",{className:"text-sm text-gray-600 w-20 flex-shrink-0",children:"Dauer:"}),(0,e.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[Math.round((t.end.getTime()-t.start.getTime())/6e4)," Minuten"]})]})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Kursinformationen:"}),(0,e.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Gesamtstunden:"}),(0,e.jsx)("span",{className:"font-medium",children:u.lessons_count})]}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Stundenlänge:"}),(0,e.jsxs)("span",{className:"font-medium",children:[u.lesson_duration," min"]})]}),(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsx)("span",{className:"text-gray-600",children:"Kursdauer:"}),(0,e.jsxs)("span",{className:"font-medium",children:[u.start_date," - ",u.end_date]})]})]})]})]})]}),f.ai_rationale&&(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"KI-Begründung"}),(0,e.jsx)("div",{className:"bg-gray-50 rounded-md p-4",children:(0,e.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:f.ai_rationale})})]}),(0,e.jsxs)("div",{className:"mb-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Zuweisungsübersicht"}),(0,e.jsx)("div",{className:"bg-gray-50 rounded-md p-4",children:(0,e.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:f.scheduled_slots.length}),(0,e.jsx)("div",{className:"text-sm text-gray-600",children:"Termine gesamt"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(f.scheduled_slots.reduce((e,t)=>e+t.duration_minutes,0)/60)}),(0,e.jsx)("div",{className:"text-sm text-gray-600",children:"Stunden gesamt"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:new Set(f.scheduled_slots.map(e=>e.date)).size}),(0,e.jsx)("div",{className:"text-sm text-gray-600",children:"Tage"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(f.scheduled_slots.reduce((e,t)=>e+t.duration_minutes,0)/f.scheduled_slots.length)}),(0,e.jsx)("div",{className:"text-sm text-gray-600",children:"Ø Minuten"})]})]})})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between p-6 bg-gray-50 border-t border-gray-200",children:[(0,e.jsxs)("div",{className:"text-sm text-gray-500",children:["Erstellt: ",new Date(f.created_at).toLocaleDateString("de-DE")]}),(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsx)("button",{onClick:async()=>{if(f&&window.confirm("Möchten Sie diese Zuweisung wirklich löschen?"))try{a(!0),o(null);const e=f.scheduled_slots.filter(e=>`${e.date}-${e.start_time}`!=`${t.start.toISOString().split("T")[0]}-${m(t.start)}`),n=window.electronAPI;0===e.length?await n.database.deleteAssignment(f.id):await n.database.updateAssignment(f.id,{scheduled_slots:e,ai_rationale:`${f.ai_rationale||""} [Calendar: Slot removed ${m(t.start)} on ${t.start.toISOString().split("T")[0]}]`}),s(),r()}catch(e){console.error("Error deleting event:",e),o(`Fehler beim Löschen: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}finally{a(!1)}},disabled:i,className:"px-4 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Wird gelöscht...":"Termin löschen"}),(0,e.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"Schließen"})]})]})]})}):(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,e.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"text-red-600 mb-4",children:(0,e.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ereignisdetails nicht verfügbar"}),(0,e.jsx)("p",{className:"text-gray-600 mb-4",children:"Die Details für dieses Ereignis konnten nicht geladen werden."}),(0,e.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Schließen"})]})})});var v},$o=({className:t=""})=>{const r=new Wo.I,s=window.electronAPI,[i,a]=(0,n.useState)([]),[l,o]=(0,n.useState)([]),[c,d]=(0,n.useState)("timeGridWeek"),[u,h]=(0,n.useState)(r.getDefaultPreferences()),[f,g]=(0,n.useState)(!0),[p,m]=(0,n.useState)(null),[v,b]=(0,n.useState)(!1),[y,x]=(0,n.useState)(!1),[w,S]=(0,n.useState)({}),[_,k]=(0,n.useState)(null),[E,C]=(0,n.useState)([]),[N,A]=(0,n.useState)([]),j=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{const e=await r.getCalendarPreferencesAsync();h(e)})(),D()},[]),(0,n.useEffect)(()=>{const e=r.filterCalendarEvents(i,w);o(e)},[i,w,r]);const D=(0,n.useCallback)(async()=>{try{g(!0),k(null);const e=await s.database.getAllTeachers(),t=await s.database.getAllCourses(),n=(await s.database.getAllAssignments()).filter(e=>"active"===e.status);C(e),A(t);const i=r.convertAssignmentsToCalendarEvents(n,e,t);a(i)}catch(e){console.error("Error loading calendar data:",e),k(`German: Fehler beim Laden der Kalenderdaten: ${e instanceof Error?e.message:"Unbekannter Fehler"}`)}finally{g(!1)}},[r,s]),T=(0,n.useCallback)(async e=>{d(e);const t=j.current?.getApi();t&&t.changeView(e);const n={...u,defaultView:e};h(n),await r.saveCalendarPreferences(n)},[u,r]),R=(0,n.useCallback)(e=>{const t=e.event.id,n=l.find(e=>e.id===t);n&&(m(n),b(!0))},[l]),M=(0,n.useCallback)(async e=>{try{const t=e.event.id,n=e.event.start,s=e.event.end||new Date(n.getTime()+36e5),i=await r.handleEventDrop(t,n,s);if(!i.success)return e.revert(),void k(i.message||"German: Fehler beim Verschieben des Ereignisses");if(i.conflicts&&i.conflicts.length>0){const e=i.conflicts.filter(e=>"critical"!==e.severity).length;e>0&&console.warn(`Event moved with ${e} warnings`,i.conflicts)}await D()}catch(t){console.error("Error handling event drop:",t),e.revert(),k(`German: Fehler beim Verschieben: ${t instanceof Error?t.message:"Unbekannter Fehler"}`)}},[r,D]),I=(0,n.useCallback)(async e=>{try{const t=e.event.id,n=e.event.start,s=e.event.end,i=await r.handleEventDrop(t,n,s);if(!i.success)return e.revert(),void k(i.message||"German: Fehler beim Ändern der Ereignisdauer");await D()}catch(t){console.error("Error handling event resize:",t),e.revert(),k(`German: Fehler beim Ändern der Dauer: ${t instanceof Error?t.message:"Unbekannter Fehler"}`)}},[r,D]),P=(0,n.useCallback)(e=>{const t=j.current?.getApi();if(t)switch(e){case"prev":t.prev();break;case"next":t.next();break;case"today":t.today()}},[]),O=(0,n.useCallback)(e=>{S(e)},[]),L=(0,n.useCallback)(()=>{b(!1),m(null)},[]),z=(0,n.useCallback)(()=>{D()},[D]),B=(0,n.useCallback)(()=>{k(null)},[]);return f?(0,e.jsx)("div",{className:`flex items-center justify-center h-96 ${t}`,children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,e.jsx)("p",{className:"text-gray-600",children:"German: Kalenderdaten werden geladen..."})]})}):(0,e.jsxs)("div",{className:`calendar-view bg-white rounded-lg shadow-sm ${t}`,children:[(0,e.jsx)(Vo,{currentView:c,onViewChange:T,onNavigate:P,onShowFilters:()=>x(!y),onRefresh:z,eventsCount:l.length,preferences:u}),_&&(0,e.jsx)("div",{className:"mx-6 mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,e.jsxs)("div",{className:"flex justify-between items-start",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"flex-shrink-0",children:(0,e.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,e.jsx)("div",{className:"ml-3",children:(0,e.jsx)("p",{className:"text-sm text-red-800",children:_})})]}),(0,e.jsx)("button",{onClick:B,className:"text-red-400 hover:text-red-600",children:(0,e.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),y&&(0,e.jsx)("div",{className:"border-b border-gray-200",children:(0,e.jsx)(qo,{teachers:E,courses:N,filterOptions:w,onFilterChange:O,onClose:()=>x(!1)})}),(0,e.jsx)("div",{className:"p-6",children:(0,e.jsx)("div",{className:"calendar-container",style:{minHeight:"600px"},children:(0,e.jsx)(tl,{ref:j,plugins:[Dl,ho,Mo,Uo],initialView:c,events:l.map(e=>({id:e.id,title:e.title,start:e.start,end:e.end,backgroundColor:e.backgroundColor,borderColor:e.borderColor,textColor:u.theme.textColor})),eventClick:R,eventDrop:M,eventResize:I,editable:!0,droppable:!1,headerToolbar:!1,slotDuration:u.slotDuration,slotMinTime:"06:00:00",slotMaxTime:"22:00:00",locale:u.locale,firstDay:u.weekStart,weekends:u.showWeekends,dayMaxEvents:3,moreLinkClick:"popover",height:"auto",contentHeight:"auto",aspectRatio:1.35,eventClassNames:"calendar-event",dayHeaderClassNames:"calendar-day-header",nowIndicator:!0,scrollTime:"08:00:00",slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},businessHours:{startTime:"08:00",endTime:"18:00",daysOfWeek:[1,2,3,4,5]}})})}),v&&p&&(0,e.jsx)(Go,{event:p,onClose:L,onRefresh:z})]})};var Qo=__webpack_require__(648),Yo=__webpack_require__(688),Zo=__webpack_require__(590);const Ko=()=>{const[t,r]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[a,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[h,f]=(0,n.useState)([]),[g,p]=(0,n.useState)("assignment_optimization"),[m,v]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1),[x,w]=(0,n.useState)("untested"),[S,_]=(0,n.useState)(null),[k,E]=(0,n.useState)(null),C=Qo.h.getInstance(),N=new Yo.r,A=new Zo.R;(0,n.useEffect)(()=>{j()},[]);const j=async()=>{try{y(!0);const e=await(window.electronAPI?.env?.has("ANTHROPIC_API_KEY"));u(!!e);const t=e?await window.electronAPI.env.getMasked("ANTHROPIC_API_KEY"):"",n=await C.getApiKey();l(!!n);const s=n?"••••••••••••••••••••"+(n?.slice(-4)??""):"";r(e?t:s);const a=await C.getSelectedModel();i(a);const o=N.getAvailableModels();c(o);const d=A.getAvailablePrompts();f(d);const h=await C.getSystemPrompt(g);v(h||"")}catch(e){_(e instanceof Error?e.message:"Fehler beim Laden der Einstellungen")}finally{y(!1)}},D=async e=>{try{y(!0),await C.setSelectedModel(e),i(e),E("AI-Modell erfolgreich aktualisiert"),setTimeout(()=>E(null),3e3)}catch(e){_(e instanceof Error?e.message:"Fehler beim Aktualisieren des AI-Modells")}finally{y(!1)}};return!b||t||s?(0,e.jsxs)("div",{className:"space-y-6",children:[k&&(0,e.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-green-700",children:k})]})}),S&&(0,e.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:S})]})}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API-Schlüssel Konfiguration"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Anthropic API-Schlüssel"}),(0,e.jsxs)("div",{className:"flex space-x-2",children:[(0,e.jsx)("input",{type:"password",id:"apiKey",value:t,onChange:e=>r(e.target.value),placeholder:"sk-ant-api03-...",disabled:d,className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(d?"bg-gray-50 text-gray-500 border-gray-200":"border-gray-300")}),(0,e.jsx)("button",{onClick:async()=>{try{if(y(!0),_(null),!t||t.includes("••••"))return void _("Bitte geben Sie einen gültigen API-Schlüssel ein");await C.setApiKey(t),E("API-Schlüssel erfolgreich gespeichert"),r("••••••••••••••••••••"+t.slice(-4)),setTimeout(()=>E(null),3e3)}catch(e){_(e instanceof Error?e.message:"Fehler beim Speichern des API-Schlüssels")}finally{y(!1)}},disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 whitespace-nowrap",children:b?"Speichern...":"Speichern"})]}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:d?"Die Umgebungsvariable ANTHROPIC_API_KEY ist gesetzt und wird verwendet. Eingaben hier sind deaktiviert.":"Ihr API-Schlüssel wird verschlüsselt lokal gespeichert"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:"flex items-center space-x-2",children:(0,e.jsx)("div",{className:`px-2 py-1 rounded text-xs font-medium ${(()=>{switch(x){case"success":return"text-green-600 bg-green-100";case"error":return"text-red-600 bg-red-100";case"testing":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}})()}`,children:(()=>{switch(x){case"success":return"Verbindung erfolgreich";case"error":return"Verbindung fehlgeschlagen";case"testing":return"Teste Verbindung...";default:return"Nicht getestet"}})()})}),(0,e.jsx)("button",{onClick:async()=>{try{w("testing"),_(null);const e=await C.testApiConnection();w(e?"success":"error"),e||_("Verbindung zum API-Service fehlgeschlagen")}catch(e){w("error"),_(e instanceof Error?e.message:"Verbindungstest fehlgeschlagen")}},disabled:"testing"===x,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400",children:"testing"===x?"Teste...":"Verbindung testen"})]})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI-Modell Auswahl"}),(0,e.jsx)("div",{className:"space-y-4",children:o.map(t=>(0,e.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors "+(s===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>D(t.id),children:(0,e.jsx)("div",{className:"flex items-start justify-between",children:(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("input",{type:"radio",checked:s===t.id,onChange:()=>D(t.id),className:"mr-3"}),(0,e.jsx)("h4",{className:"text-base font-semibold text-gray-900",children:t.name}),(0,e.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded "+("haiku"===t.tier?"bg-green-100 text-green-800":"sonnet"===t.tier?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:t.tier.charAt(0).toUpperCase()+t.tier.slice(1)})]}),(0,e.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),(0,e.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Empfohlen für:"}),(0,e.jsx)("ul",{className:"text-xs text-gray-600 space-y-0.5",children:t.recommended_for.map((t,n)=>(0,e.jsxs)("li",{children:["• ",t]},n))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Einschränkungen:"}),(0,e.jsx)("ul",{className:"text-xs text-gray-600 space-y-0.5",children:t.limitations.map((t,n)=>(0,e.jsxs)("li",{children:["• ",t]},n))})]})]})]})})},t.id))})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System-Prompt Editor"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"promptType",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prompt-Typ auswählen"}),(0,e.jsx)("select",{id:"promptType",value:g,onChange:e=>(async e=>{p(e);const t=await C.getSystemPrompt(e),n=h.find(t=>t.type===e);v(t||n?.template||"")})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(t=>(0,e.jsxs)("option",{value:t.type,children:[t.name," - ",t.description]},t.type))})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"customPrompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom System Prompt"}),(0,e.jsx)("textarea",{id:"customPrompt",value:m,onChange:e=>v(e.target.value),placeholder:"Geben Sie hier Ihren benutzerdefinierten System-Prompt ein...",rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leer lassen, um den Standard-Prompt zu verwenden"})]}),(0,e.jsx)("div",{className:"flex justify-end",children:(0,e.jsx)("button",{onClick:async()=>{try{y(!0),await C.setSystemPrompt(g,m),E("System-Prompt erfolgreich gespeichert"),setTimeout(()=>E(null),3e3)}catch(e){_(e instanceof Error?e.message:"Fehler beim Speichern des System-Prompts")}finally{y(!1)}},disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:b?"Speichern...":"Prompt Speichern"})})]})]})]}):(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})},Xo=()=>{const[t,r]=(0,n.useState)({equality:33,continuity:33,loyalty:34}),[s,i]=(0,n.useState)({equality:33,continuity:33,loyalty:34}),[a,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),[h,f]=(0,n.useState)(null),g=Qo.h.getInstance();(0,n.useEffect)(()=>{p()},[]),(0,n.useEffect)(()=>{const e=s.equality!==t.equality||s.continuity!==t.continuity||s.loyalty!==t.loyalty;c(e)},[s,t]);const p=async()=>{try{l(!0);const e=await g.getDefaultWeights();r(e),i(e)}catch(e){u(e instanceof Error?e.message:"Fehler beim Laden der Standard-Gewichtungen")}finally{l(!1)}};return a&&!s?(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,e.jsxs)("div",{className:"space-y-6",children:[h&&(0,e.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-green-700",children:h})]})}),d&&(0,e.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:d})]})}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Standard-Gewichtungen"}),(0,e.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Diese Werte werden als Ausgangspunkt für neue Zuweisungen verwendet. Sie können jederzeit in der Zuweisung-Sektion angepasst werden."})]}),o&&(0,e.jsxs)("div",{className:"flex items-center text-amber-600",children:[(0,e.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,e.jsx)("span",{className:"text-xs font-medium",children:"Nicht gespeicherte Änderungen"})]})]}),(0,e.jsx)("div",{className:"space-y-8",children:Object.keys(s).map(t=>{const n=(e=>{switch(e){case"equality":return{title:"Gleichmäßigkeit",description:"Verteilt die Arbeitsbelastung gleichmäßig auf alle Lehrer",icon:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"};case"continuity":return{title:"Kontinuität",description:"Bevorzugt zusammenhängende Unterrichtsblöcke für einzelne Lehrer",icon:"M13 10V3L4 14h7v7l9-11h-7z"};case"loyalty":return{title:"Lehrertreue",description:"Hält Lehrer bei ihren gewohnten Fächern und Klassen",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}}})(t),r=(e=>{switch(e){case"equality":return"blue";case"continuity":return"green";case"loyalty":return"purple"}})(t);return(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("svg",{className:`w-5 h-5 mr-3 text-${r}-600`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:n.icon})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"text-sm font-medium text-gray-900",children:n.title}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:n.description})]})]}),(0,e.jsxs)("div",{className:`text-lg font-bold text-${r}-600 min-w-[60px] text-right`,children:[s[t],"%"]})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:s[t],onChange:e=>((e,t)=>{const n={...s,[e]:t};if(100!==n.equality+n.continuity+n.loyalty){const r=100-t,i=Object.keys(n).filter(t=>t!==e),a=i.reduce((e,t)=>e+s[t],0);if(a>0){i.forEach(e=>{n[e]=Math.round(s[e]/a*r)});const e=100-Object.values(n).reduce((e,t)=>e+t,0);0!==e&&(n[i[0]]+=e)}}i(n),u(null)})(t,parseInt(e.target.value)),className:`w-full h-3 rounded-lg appearance-none cursor-pointer slider-${r}`,style:{background:`linear-gradient(to right, rgb(var(--color-${r}-500)) 0%, rgb(var(--color-${r}-500)) ${s[t]}%, rgb(229, 231, 235) ${s[t]}%, rgb(229, 231, 235) 100%)`}}),(0,e.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,e.jsx)("span",{children:"0%"}),(0,e.jsx)("span",{children:"50%"}),(0,e.jsx)("span",{children:"100%"})]})]})]},t)})}),(0,e.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Gesamtsumme:"}),(0,e.jsxs)("span",{className:"text-lg font-bold "+(s.equality+s.continuity+s.loyalty===100?"text-green-600":"text-red-600"),children:[s.equality+s.continuity+s.loyalty,"%"]})]}),s.equality+s.continuity+s.loyalty!==100&&(0,e.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Die Gewichtungen müssen in der Summe 100% ergeben"})]}),(0,e.jsxs)("div",{className:"flex flex-wrap gap-2 mt-6 justify-between",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{onClick:()=>{i({equality:33,continuity:33,loyalty:34})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Auf Standard zurücksetzen"}),o&&(0,e.jsx)("button",{onClick:()=>{i(t),u(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Änderungen verwerfen"})]}),(0,e.jsx)("button",{onClick:async()=>{try{l(!0),u(null),await g.setDefaultWeights(s),r(s),f("Standard-Gewichtungen erfolgreich gespeichert"),setTimeout(()=>f(null),3e3)}catch(e){u(e instanceof Error?e.message:"Fehler beim Speichern der Standard-Gewichtungen")}finally{l(!1)}},disabled:!o||a||s.equality+s.continuity+s.loyalty!==100,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors",children:a?"Speichern...":"Standard-Gewichtungen speichern"})]})]}),(0,e.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Verwendung der Standard-Gewichtungen"}),(0,e.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,e.jsx)("p",{children:"• Diese Werte werden automatisch geladen, wenn Sie neue Zuweisungen erstellen"}),(0,e.jsx)("p",{children:"• Sie können bei jeder Zuweisung individuell angepasst werden"}),(0,e.jsx)("p",{children:"• Änderungen hier wirken sich nur auf zukünftige Zuweisungen aus"}),(0,e.jsx)("p",{children:"• In Notfall-Situationen können Sie die Lehrertreue reduzieren für mehr Flexibilität"})]})]})]})})]})};var Jo=__webpack_require__(813);const ec=()=>{const[t,r]=(0,n.useState)(null),[s,i]=(0,n.useState)(!1),[a,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)({type:null,title:"",message:""}),h=Jo.e.getInstance();(0,n.useEffect)(()=>{f()},[]);const f=async()=>{try{i(!0);const e=await h.getDatabaseStats();r(e)}catch(e){l(e instanceof Error?e.message:"Fehler beim Laden der Datenbankstatistiken")}finally{i(!1)}},g=async()=>{try{i(!0),l(null);const e=await h.createBackup(),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=h.getSuggestedBackupFilename(),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),c("Backup erfolgreich erstellt und heruntergeladen"),setTimeout(()=>c(null),5e3)}catch(e){l(e instanceof Error?e.message:"Fehler beim Erstellen des Backups")}finally{i(!1)}},p=async e=>{try{i(!0),l(null),"json"===e?await g():l("CSV-Export ist noch nicht implementiert")}catch(e){l(e instanceof Error?e.message:"Fehler beim Exportieren der Daten")}finally{i(!1)}};return s&&!t?(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,e.jsxs)("div",{className:"space-y-6",children:[o&&(0,e.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-green-700",children:o})]})}),a&&(0,e.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:a})]})}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Datenbankstatistiken"}),t&&(0,e.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,e.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.teachers}),(0,e.jsx)("div",{className:"text-sm text-blue-800",children:"Lehrer"})]}),(0,e.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.courses}),(0,e.jsx)("div",{className:"text-sm text-green-800",children:"Kurse"})]}),(0,e.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.assignments}),(0,e.jsx)("div",{className:"text-sm text-purple-800",children:"Zuweisungen"})]}),(0,e.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:t.weightingPresets}),(0,e.jsx)("div",{className:"text-sm text-orange-800",children:"Gewichtungs-Presets"})]}),(0,e.jsxs)("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:t.chatConversations}),(0,e.jsx)("div",{className:"text-sm text-indigo-800",children:"Chat-Unterhaltungen"})]}),(0,e.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,e.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:t.settings}),(0,e.jsx)("div",{className:"text-sm text-gray-800",children:"Einstellungen"})]})]}),(0,e.jsx)("button",{onClick:f,disabled:s,className:"mt-4 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 disabled:bg-gray-50",children:s?"Aktualisieren...":"Statistiken aktualisieren"})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup & Wiederherstellung"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,e.jsxs)("button",{onClick:g,disabled:s,className:"flex-1 flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:[(0,e.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s?"Backup erstellen...":"Backup erstellen"]}),(0,e.jsxs)("button",{onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files?.[0];if(t)try{const e=await t.text(),n=h.validateBackupFormat(e);if(!n.isValid)return void l(`Ungültiges Backup-Format: ${n.errors.join(", ")}`);u({type:"restore",title:"Backup wiederherstellen",message:"Möchten Sie wirklich das Backup wiederherstellen? Diese Aktion ersetzt alle aktuellen Daten und kann nicht rückgängig gemacht werden.",data:e})}catch(e){l("Fehler beim Lesen der Backup-Datei")}},e.click()},disabled:s,className:"flex-1 flex items-center justify-center px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-400 transition-colors",children:[(0,e.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),s?"Wiederherstellen...":"Backup wiederherstellen"]})]}),(0,e.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,e.jsx)("h4",{className:"font-medium mb-1",children:"Backup-Hinweise:"}),(0,e.jsxs)("ul",{className:"space-y-1",children:[(0,e.jsx)("li",{children:"• Backups enthalten alle Daten: Lehrer, Kurse, Zuweisungen, Chat-Verläufe und Einstellungen"}),(0,e.jsx)("li",{children:"• Backups werden als JSON-Dateien gespeichert und sind plattformunabhängig"}),(0,e.jsx)("li",{children:"• Bei der Wiederherstellung werden alle aktuellen Daten überschrieben"}),(0,e.jsx)("li",{children:"• Erstellen Sie regelmäßig Backups vor wichtigen Änderungen"})]})]})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Datenexport"}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("button",{onClick:()=>p("json"),disabled:s,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:bg-gray-50 transition-colors",children:[(0,e.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"JSON-Export (Vollständiges Backup)"]}),(0,e.jsxs)("button",{onClick:()=>p("csv"),disabled:!0,className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-400 rounded-lg cursor-not-allowed",children:[(0,e.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"CSV-Export (Kommt bald)"]})]})]}),(0,e.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-4",children:"Gefährliche Operationen"}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("button",{onClick:()=>{u({type:"clear",title:"Alle Daten löschen",message:"Möchten Sie wirklich ALLE Daten aus der Datenbank löschen? Diese Aktion kann nicht rückgängig gemacht werden und löscht alle Lehrer, Kurse, Zuweisungen, Chat-Verläufe und Einstellungen."})},disabled:s,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-400 transition-colors",children:[(0,e.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),s?"Löschen...":"Alle Daten löschen"]}),(0,e.jsxs)("div",{className:"text-sm text-red-700 bg-red-100 p-3 rounded",children:[(0,e.jsx)("h4",{className:"font-medium mb-1",children:"⚠️ Warnung:"}),(0,e.jsx)("p",{children:"Das Löschen aller Daten kann nicht rückgängig gemacht werden. Erstellen Sie vorher unbedingt ein Backup!"})]})]})]}),d.type&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full mx-4 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:d.title}),(0,e.jsx)("p",{className:"text-gray-600 mb-6",children:d.message}),(0,e.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,e.jsx)("button",{onClick:()=>{u({type:null,title:"",message:""})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Abbrechen"}),(0,e.jsx)("button",{onClick:"restore"===d.type?async()=>{if(d.data)try{i(!0),l(null),await h.restoreFromBackup(d.data,{clearExisting:!0}),await f(),c("Backup erfolgreich wiederhergestellt"),setTimeout(()=>c(null),5e3)}catch(e){l(e instanceof Error?e.message:"Fehler beim Wiederherstellen des Backups")}finally{i(!1),u({type:null,title:"",message:""})}}:async()=>{try{i(!0),l(null),await h.clearAllData(),await f(),c("Alle Daten wurden erfolgreich gelöscht"),setTimeout(()=>c(null),5e3)}catch(e){l(e instanceof Error?e.message:"Fehler beim Löschen der Daten")}finally{i(!1),u({type:null,title:"",message:""})}},disabled:s,className:"px-4 py-2 text-white rounded-lg disabled:opacity-50 "+("clear"===d.type?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"),children:s?"Wird ausgeführt...":"Bestätigen"})]})]})})]})},tc=()=>{const[t,r]=(0,n.useState)("system"),[s,i]=(0,n.useState)("de"),[a,l]=(0,n.useState)(!0),[o,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[g,p]=(0,n.useState)(null),[m,v]=(0,n.useState)(null),[b,y]=(0,n.useState)({theme:"system",language:"de",notificationsEnabled:!0,autoUpdateEnabled:!0}),x=Qo.h.getInstance();(0,n.useEffect)(()=>{w()},[]),(0,n.useEffect)(()=>{const e=t!==b.theme||s!==b.language||a!==b.notificationsEnabled||o!==b.autoUpdateEnabled;f(e)},[t,s,a,o,b]);const w=async()=>{try{u(!0);const[e,t,n,s]=await Promise.all([x.getTheme(),x.getLanguage(),x.getNotificationsEnabled(),x.getAutoUpdateEnabled()]),a={theme:e,language:t,notificationsEnabled:n,autoUpdateEnabled:s};r(e),i(t),l(n),c(s),y(a)}catch(e){p(e instanceof Error?e.message:"Fehler beim Laden der Einstellungen")}finally{u(!1)}},S=t=>{switch(t){case"light":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})});case"dark":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})});case"system":return(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}};return d&&!t?(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,e.jsxs)("div",{className:"space-y-6",children:[m&&(0,e.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-green-700",children:m})]})}),g&&(0,e.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:g})]})}),h&&(0,e.jsx)("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-amber-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-amber-700",children:"Sie haben ungespeicherte Änderungen"})]})}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Erscheinungsbild"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Theme auswählen"}),(0,e.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["light","dark","system"].map(n=>(0,e.jsxs)("button",{onClick:()=>r(n),className:"p-4 border rounded-lg text-center transition-all "+(t===n?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:[(0,e.jsx)("div",{className:"flex justify-center mb-2",children:S(n)}),(0,e.jsx)("div",{className:"text-sm font-medium capitalize",children:"system"===n?"System":"light"===n?"Hell":"Dunkel"}),(0,e.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"system"===n?"Automatisch":"light"===n?"Immer hell":"Immer dunkel"})]},n))})]}),(0,e.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,e.jsx)("h4",{className:"font-medium mb-1",children:"Theme-Hinweise:"}),(0,e.jsxs)("ul",{className:"space-y-1",children:[(0,e.jsxs)("li",{children:["• ",(0,e.jsx)("strong",{children:"System:"})," Folgt den Systemeinstellungen Ihres Betriebssystems"]}),(0,e.jsxs)("li",{children:["• ",(0,e.jsx)("strong",{children:"Hell:"})," Klassisches helles Design für alle Situationen"]}),(0,e.jsxs)("li",{children:["• ",(0,e.jsx)("strong",{children:"Dunkel:"})," Augenschonend bei schwachem Licht"]})]})]})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sprache"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Sprache auswählen"}),(0,e.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["de","en"].map(t=>{return(0,e.jsxs)("button",{onClick:()=>i(t),className:"p-4 border rounded-lg text-center transition-all "+(s===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:[(0,e.jsx)("div",{className:"text-2xl mb-2",children:(n=t,"de"===n?"🇩🇪":"🇺🇸")}),(0,e.jsx)("div",{className:"text-sm font-medium",children:"de"===t?"Deutsch":"English"}),(0,e.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"de"===t?"Deutschland":"United States"})]},t);var n})})]}),(0,e.jsx)("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-4 h-4 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("strong",{children:"Hinweis:"})," Englische Lokalisierung ist noch nicht vollständig implementiert. Die Anwendung wird größtenteils auf Deutsch bleiben."]})]})})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Benachrichtigungen"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-blue-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM11 19H6a2 2 0 01-2-2V7a2 2 0 012-2h8a2 2 0 012 2v3.5"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"notifications",className:"text-sm font-medium text-gray-900",children:"Desktop-Benachrichtigungen"}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Erhalten Sie Benachrichtigungen für wichtige Ereignisse"})]})]})}),(0,e.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,e.jsx)("input",{type:"checkbox",id:"notifications",checked:a,onChange:e=>l(e.target.checked),className:"sr-only"}),(0,e.jsx)("div",{className:"w-11 h-6 rounded-full transition-colors "+(a?"bg-blue-600":"bg-gray-300"),children:(0,e.jsx)("div",{className:`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${a?"translate-x-5":"translate-x-0"} mt-0.5 ml-0.5`})})]})]}),(0,e.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,e.jsx)("h4",{className:"font-medium mb-1",children:"Benachrichtigungen umfassen:"}),(0,e.jsxs)("ul",{className:"space-y-1",children:[(0,e.jsx)("li",{children:"• Erfolgreiche Zuweisungserstellung"}),(0,e.jsx)("li",{children:"• Fehler bei AI-Operationen"}),(0,e.jsx)("li",{children:"• Backup- und Wiederherstellungsstatus"}),(0,e.jsx)("li",{children:"• System-Updates und Wartungsmeldungen"})]})]})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Updates"}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"autoUpdate",className:"text-sm font-medium text-gray-900",children:"Automatische Updates"}),(0,e.jsx)("p",{className:"text-xs text-gray-500",children:"Lade und installiere Updates automatisch im Hintergrund"})]})]})}),(0,e.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,e.jsx)("input",{type:"checkbox",id:"autoUpdate",checked:o,onChange:e=>c(e.target.checked),className:"sr-only"}),(0,e.jsx)("div",{className:"w-11 h-6 rounded-full transition-colors "+(o?"bg-green-600":"bg-gray-300"),children:(0,e.jsx)("div",{className:`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${o?"translate-x-5":"translate-x-0"} mt-0.5 ml-0.5`})})]})]}),(0,e.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[(0,e.jsx)("h4",{className:"font-medium mb-1",children:"Update-Hinweise:"}),(0,e.jsxs)("ul",{className:"space-y-1",children:[(0,e.jsx)("li",{children:"• Updates werden nur bei WLAN-Verbindungen heruntergeladen"}),(0,e.jsx)("li",{children:"• Sie werden vor der Installation benachrichtigt"}),(0,e.jsx)("li",{children:"• Kritische Sicherheitsupdates werden immer installiert"}),(0,e.jsx)("li",{children:"• Updates können in den Anwendungseinstellungen manuell geprüft werden"})]})]})]})]}),(0,e.jsxs)("div",{className:"flex flex-wrap gap-2 justify-between",children:[(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)("button",{onClick:()=>{r("system"),i("de"),l(!0),c(!0)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Auf Standard zurücksetzen"}),h&&(0,e.jsx)("button",{onClick:()=>{r(b.theme),i(b.language),l(b.notificationsEnabled),c(b.autoUpdateEnabled),p(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Änderungen verwerfen"})]}),(0,e.jsx)("button",{onClick:async()=>{try{u(!0),p(null),await Promise.all([x.setTheme(t),x.setLanguage(s),x.setNotificationsEnabled(a),x.setAutoUpdateEnabled(o)]),y({theme:t,language:s,notificationsEnabled:a,autoUpdateEnabled:o}),v("Einstellungen erfolgreich gespeichert"),setTimeout(()=>v(null),3e3)}catch(e){p(e instanceof Error?e.message:"Fehler beim Speichern der Einstellungen")}finally{u(!1)}},disabled:!h||d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors",children:d?"Speichern...":"Einstellungen speichern"})]})]})},nc=()=>{const[t,r]=(0,n.useState)([]),[s,i]=(0,n.useState)(!1),[a,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[g,p]=(0,n.useState)({profile_name:"",equality_weight:33,continuity_weight:33,loyalty_weight:34}),m=Qo.h.getInstance();(0,n.useEffect)(()=>{v()},[]);const v=async()=>{try{i(!0);const e=await m.getWeightingPresets();r(e)}catch(e){l(e instanceof Error?e.message:"Fehler beim Laden der Presets")}finally{i(!1)}},b=(e,t)=>{const n={...g,[e]:t};if(100!==n.equality_weight+n.continuity_weight+n.loyalty_weight){const r=100-t,s=Object.keys(n).filter(t=>t!==e&&"profile_name"!==t),i=s.reduce((e,t)=>e+g[t],0);if(i>0){s.forEach(e=>{n[e]=Math.round(g[e]/i*r)});const e=100-(n.equality_weight+n.continuity_weight+n.loyalty_weight);0!==e&&(n[s[0]]+=e)}}p(n)},y=e=>{const t=e.profile_name.toLowerCase();return t.includes("notfall")||t.includes("emergency")?"bg-red-100 text-red-800 border-red-200":t.includes("normal")?"bg-blue-100 text-blue-800 border-blue-200":t.includes("ausgewogen")||t.includes("balanced")?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"},x=(t,n)=>(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:(0,e.jsx)("div",{className:`h-2 ${n} rounded-full transition-all`,style:{width:`${t}%`}})}),(0,e.jsxs)("span",{className:"text-sm font-medium w-10",children:[t,"%"]})]});return(0,e.jsxs)("div",{className:"space-y-6",children:[o&&(0,e.jsx)("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-green-700",children:o})]})}),a&&(0,e.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,e.jsx)("p",{className:"text-red-700",children:a})]})}),(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Gewichtungs-Presets"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:"Vordefinierte Gewichtungsprofile für verschiedene Szenarien"})]}),(0,e.jsx)("button",{onClick:()=>{p({profile_name:"",equality_weight:33,continuity_weight:33,loyalty_weight:34}),f(null),u(!0)},disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:"Neues Preset"})]}),(0,e.jsx)("div",{className:"space-y-4",children:0===t.length?(0,e.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[(0,e.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"})}),(0,e.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Keine Presets vorhanden"}),(0,e.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Erstellen Sie Ihr erstes Gewichtungs-Preset"})]}):t.map(t=>(0,e.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:(0,e.jsxs)("div",{className:"flex items-start justify-between",children:[(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,e.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:t.profile_name}),t.is_default&&(0,e.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200 rounded-full",children:"Standard"}),(0,e.jsx)("span",{className:`px-2 py-1 text-xs font-medium border rounded-full ${y(t)}`,children:"Preset"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Gleichmäßigkeit"}),x(t.equality_weight,"bg-blue-500")]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Kontinuität"}),x(t.continuity_weight,"bg-green-500")]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Lehrertreue"}),x(t.loyalty_weight,"bg-purple-500")]})]}),(0,e.jsx)("div",{className:"text-xs text-gray-500",children:t.created_at?(0,e.jsxs)(e.Fragment,{children:["Erstellt am: ",new Date(t.created_at).toLocaleDateString("de-DE")]}):(0,e.jsx)(e.Fragment,{children:"Erstellt am: —"})})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!t.is_default&&(0,e.jsx)("button",{onClick:()=>(async e=>{if(e.id)try{i(!0),l(null),await m.setDefaultWeightingPreset(e.id),await v(),c(`"${e.profile_name}" als Standard-Preset festgelegt`),setTimeout(()=>c(null),3e3)}catch(e){l(e instanceof Error?e.message:"Fehler beim Setzen des Standard-Presets")}finally{i(!1)}else l("Dieses Preset hat keine ID und kann nicht als Standard gesetzt werden (evtl. nicht gespeichert).")})(t),disabled:s,className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:bg-blue-50 transition-colors",children:"Als Standard"}),(0,e.jsx)("button",{onClick:()=>(e=>{p({profile_name:e.profile_name,equality_weight:e.equality_weight,continuity_weight:e.continuity_weight,loyalty_weight:e.loyalty_weight}),f(e),u(!0)})(t),disabled:s,className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200 disabled:bg-gray-50 transition-colors",children:"Bearbeiten"}),!["Normal","Notfall","Ausgewogen"].includes(t.profile_name)&&(0,e.jsx)("button",{onClick:()=>(async e=>{if(confirm(`Möchten Sie das Preset "${e.profile_name}" wirklich löschen?`))if(e.id)try{i(!0),l(null),await m.deleteWeightingPreset(e.id),await v(),c("Preset erfolgreich gelöscht"),setTimeout(()=>c(null),3e3)}catch(e){l(e instanceof Error?e.message:"Fehler beim Löschen des Presets")}finally{i(!1)}else l("Dieses Preset hat keine ID und kann nicht gelöscht werden (evtl. nicht gespeichert).")})(t),disabled:s||t.is_default,className:"px-3 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:bg-red-50 disabled:text-red-400 transition-colors",children:"Löschen"})]})]})},t.id))}),d&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:h?"Preset bearbeiten":"Neues Preset erstellen"}),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{htmlFor:"presetName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preset-Name"}),(0,e.jsx)("input",{type:"text",id:"presetName",value:g.profile_name,onChange:e=>p({...g,profile_name:e.target.value}),placeholder:"z.B. Mein Custom Preset",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gleichmäßigkeit: ",g.equality_weight,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:g.equality_weight,onChange:e=>b("equality_weight",parseInt(e.target.value)),className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer slider-blue"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Verteilt Arbeitsbelastung gleichmäßig"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kontinuität: ",g.continuity_weight,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:g.continuity_weight,onChange:e=>b("continuity_weight",parseInt(e.target.value)),className:"w-full h-2 bg-green-200 rounded-lg appearance-none cursor-pointer slider-green"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Bevorzugt zusammenhängende Unterrichtsblöcke"})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lehrertreue: ",g.loyalty_weight,"%"]}),(0,e.jsx)("input",{type:"range",min:"0",max:"100",value:g.loyalty_weight,onChange:e=>b("loyalty_weight",parseInt(e.target.value)),className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider-purple"}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Hält Lehrer bei gewohnten Fächern"})]})]}),(0,e.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Gesamtsumme:"}),(0,e.jsxs)("span",{className:"text-lg font-bold "+(g.equality_weight+g.continuity_weight+g.loyalty_weight===100?"text-green-600":"text-red-600"),children:[g.equality_weight+g.continuity_weight+g.loyalty_weight,"%"]})]}),g.equality_weight+g.continuity_weight+g.loyalty_weight!==100&&(0,e.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Die Gewichtungen müssen in der Summe 100% ergeben"})]}),(0,e.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,e.jsx)("button",{onClick:()=>u(!1),disabled:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:bg-gray-50 transition-colors",children:"Abbrechen"}),(0,e.jsx)("button",{onClick:async()=>{try{if(i(!0),l(null),!g.profile_name.trim())return void l("Preset-Name ist erforderlich");if(100!==g.equality_weight+g.continuity_weight+g.loyalty_weight)return void l("Gewichtungen müssen in der Summe 100% ergeben");const e=t.find(e=>e.profile_name.toLowerCase()===g.profile_name.toLowerCase().trim()&&e.id!==h?.id);if(e)return void l("Ein Preset mit diesem Namen existiert bereits");await m.saveWeightingPreset({profile_name:g.profile_name.trim(),equality_weight:g.equality_weight,continuity_weight:g.continuity_weight,loyalty_weight:g.loyalty_weight,is_default:!1}),await v(),u(!1),c(h?"Preset erfolgreich aktualisiert":"Preset erfolgreich erstellt"),setTimeout(()=>c(null),3e3)}catch(e){l(e instanceof Error?e.message:"Fehler beim Speichern des Presets")}finally{i(!1)}},disabled:s||!g.profile_name.trim()||g.equality_weight+g.continuity_weight+g.loyalty_weight!==100,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:s?"Speichern...":h?"Preset aktualisieren":"Preset erstellen"})]})]})]})}),(0,e.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("svg",{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Preset-Verwendung"}),(0,e.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,e.jsxs)("p",{children:["• ",(0,e.jsx)("strong",{children:"Normal:"})," Ausgewogene Gewichtung für den regulären Schulbetrieb"]}),(0,e.jsxs)("p",{children:["• ",(0,e.jsx)("strong",{children:"Notfall:"})," Reduzierte Lehrertreue für flexiblere Zuweisungen bei Ausfällen"]}),(0,e.jsxs)("p",{children:["• ",(0,e.jsx)("strong",{children:"Ausgewogen:"})," Mittlere Gewichtung aller Faktoren"]}),(0,e.jsx)("p",{children:"• Das Standard-Preset wird automatisch beim Erstellen neuer Zuweisungen geladen"})]})]})]})})]})},rc=()=>{const[t,r]=(0,n.useState)("ai"),[s,i]=(0,n.useState)(!1),a=Qo.h.getInstance();(0,n.useEffect)(()=>{l()},[]);const l=async()=>{try{i(!0),await a.initializeDefaults()}catch(e){console.error("Failed to initialize settings:",e)}finally{i(!1)}},o=[{id:"ai",name:"KI-Konfiguration",icon:(0,e.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),description:"API-Schlüssel, Modellauswahl und System-Prompts"},{id:"weighting",name:"Standard-Gewichtungen",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),description:"Globale Standard-Werte für Zuweisungen"},{id:"presets",name:"Gewichtungs-Presets",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"})}),description:"Vordefinierte Profile für verschiedene Szenarien"},{id:"database",name:"Datenbankeinstellungen",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),description:"Backup, Wiederherstellung und Datenexport"},{id:"app",name:"Anwendungseinstellungen",icon:(0,e.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),description:"Theme, Sprache und allgemeine Einstellungen"}];return(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Einstellungen"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Konfigurieren Sie die Anwendung nach Ihren Bedürfnissen"})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,e.jsx)("div",{className:"border-b border-gray-200",children:(0,e.jsx)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:o.map(n=>(0,e.jsxs)("button",{onClick:()=>r(n.id),className:(t===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300")+" whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center transition-colors",children:[(0,e.jsx)("span",{className:"mr-2",children:n.icon}),n.name]},n.id))})}),(0,e.jsx)("div",{className:"px-6 py-3 bg-gray-50",children:(0,e.jsx)("p",{className:"text-sm text-gray-600",children:o.find(e=>e.id===t)?.description})}),(0,e.jsx)("div",{className:"p-6",children:(()=>{if(s)return(0,e.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,e.jsx)("p",{className:"text-gray-600",children:"Einstellungen werden initialisiert..."})]})});switch(t){case"ai":default:return(0,e.jsx)(Ko,{});case"weighting":return(0,e.jsx)(Xo,{});case"presets":return(0,e.jsx)(nc,{});case"database":return(0,e.jsx)(ec,{});case"app":return(0,e.jsx)(tc,{})}})()})]})]})},sc=({className:t=""})=>{const[s,i]=(0,n.useState)("dashboard");return(0,e.jsxs)("div",{className:`flex h-screen bg-gray-50 ${t}`,children:[(0,e.jsx)(r,{activeView:s,onViewChange:i}),(0,e.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,e.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,e.jsx)("div",{className:"px-6 py-4",children:(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Teacher Course Assignment"}),(0,e.jsx)("div",{className:"text-sm text-gray-500",children:"AI-Powered Course Assignment System"})]})})}),(0,e.jsx)("main",{className:"flex-1 overflow-auto",children:(0,e.jsx)("div",{className:"p-6",children:(()=>{switch(s){case"dashboard":default:return(0,e.jsx)(a,{});case"teachers":return(0,e.jsx)(o,{});case"courses":return(0,e.jsx)(d,{});case"assignments":return(0,e.jsx)(h,{});case"calendar":return(0,e.jsx)($o,{});case"settings":return(0,e.jsx)(rc,{})}})()})})]})]})},ic=document.getElementById("root");if(!ic)throw new Error("Root element not found");(0,t.H)(ic).render((0,e.jsx)(()=>(0,e.jsx)(sc,{}),{}))})()})();
//# sourceMappingURL=renderer.js.map